<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>【linux命令】linux命令 fdisk详解以及用法_IDC笔记</title>
    <meta name="keywords" content=",Linux常用命令" />
    <meta name="description" content="fdisk -l<br />
<br />
 　　可以列出所有的分区,包括没有挂上的分区和usb设备.我一般用这个来查找需要挂载的分区的位置,比如挂上u盘.<br />
<br />
 　　和我们学习其他命令一样，我们首先可以&amp;#8211" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
            <li>
        <a href="javascript:void(0);" class="waves-effect">
            <i class="icon-share"></i>
            <span> Linux命令大全            <span class="float-right menu-arrow">
            <i class="mdi mdi-chevron-right"></i>
            </span> 
            </span>
        </a>
        <ul class="submenu">
             <li><a href="/linux/linux/1.html">Linux常用命令(手册)大全</a></li><li><a href="/linux/linux/2.html">Linux命令格式</a></li>        </ul>
    </li>
        <li>
        <a href="javascript:void(0);" class="waves-effect">
            <i class="icon-share"></i>
            <span> 系统管理与维护命令            <span class="float-right menu-arrow">
            <i class="mdi mdi-chevron-right"></i>
            </span> 
            </span>
        </a>
        <ul class="submenu">
             <li><a href="/linux/system/3.html">Linux ls命令:显示指定工作目录下的内容</a></li><li><a href="/linux/system/4.html">Linux pwd命令:显示当前工作目录</a></li><li><a href="/linux/system/5.html">Linux cd命令:切换工作目录</a></li><li><a href="/linux/system/6.html">Linux date命令:显示或设置系统时间</a></li><li><a href="/linux/system/7.html">Linux su命令:切换用户</a></li><li><a href="/linux/system/9.html">Linux man命令:查看帮助信息</a></li><li><a href="/linux/system/8.html">Linux clear命令:清除屏幕</a></li><li><a href="/linux/system/11.html">Linux whoami命令:显示目前登录用户名</a></li><li><a href="/linux/system/10.html">Linux who命令:显示目前登录用户信息</a></li><li><a href="/linux/system/13.html">Linux ps命令:显示进程状态</a></li><li><a href="/linux/system/12.html">Linux free命令:显示系统内存状态</a></li><li><a href="/linux/system/15.html">Linux help命令:显示帮助信息</a></li><li><a href="/linux/system/14.html">Linux top命令:查看系统活跃进程</a></li><li><a href="/linux/system/18.html">Linux shutdown命令:关机或重启</a></li><li><a href="/linux/system/17.html">Linux halt命令:关闭系统</a></li>        </ul>
    </li>
        <li>
        <a href="javascript:void(0);" class="waves-effect">
            <i class="icon-share"></i>
            <span> 文件管理与编辑命令            <span class="float-right menu-arrow">
            <i class="mdi mdi-chevron-right"></i>
            </span> 
            </span>
        </a>
        <ul class="submenu">
             <li><a href="/linux/file/27.html">Linux mkdir命令:创建目录</a></li><li><a href="/linux/file/29.html">Linux cat命令:连接文件并打印到标准输出设备上</a></li><li><a href="/linux/file/28.html">Linux more命令:显示文本文件内容</a></li><li><a href="/linux/file/30.html">Linux grep命令:检索文件内容</a></li><li><a href="/linux/file/31.html">Linux rm命令:删除文件或目录</a></li><li><a href="/linux/file/32.html">Linux touch命令:修改文件的时间</a></li><li><a href="/linux/file/34.html">Linux cp命令:复制文件或目录</a></li><li><a href="/linux/file/33.html">Linux ln命令:创建链接</a></li><li><a href="/linux/file/35.html">Linux find命令:查找文件</a></li><li><a href="/linux/file/37.html">Linux mv命令:移动或重命名文件或目录</a></li><li><a href="/linux/file/36.html">Linux split命令:分割文件</a></li><li><a href="/linux/file/40.html">Linux head命令:查看文件前几行</a></li><li><a href="/linux/file/39.html">Linux less命令:分页显示文件内容</a></li><li><a href="/linux/file/38.html">Linux vi/vim命令:文本编辑器</a></li><li><a href="/linux/file/42.html">Linux wc命令:统计字节数、字数、行数</a></li>        </ul>
    </li>
        <li>
        <a href="javascript:void(0);" class="waves-effect">
            <i class="icon-share"></i>
            <span> 压缩与解压命令            <span class="float-right menu-arrow">
            <i class="mdi mdi-chevron-right"></i>
            </span> 
            </span>
        </a>
        <ul class="submenu">
             <li><a href="/linux/compression/55.html">Linux unzip命令:解压文件或目录</a></li><li><a href="/linux/compression/54.html">Linux zip命令:压缩文件或目录</a></li><li><a href="/linux/compression/56.html">Linux tar命令:归档工具</a></li>        </ul>
    </li>
        <li>
        <a href="javascript:void(0);" class="waves-effect">
            <i class="icon-share"></i>
            <span> 磁盘管理与维护命令            <span class="float-right menu-arrow">
            <i class="mdi mdi-chevron-right"></i>
            </span> 
            </span>
        </a>
        <ul class="submenu">
             <li><a href="/linux/disk/57.html">Linux df命令:显示磁盘空间使用情况</a></li><li><a href="/linux/disk/59.html">Linux quota命令:显示磁盘已使用的空间与限制</a></li><li><a href="/linux/disk/58.html">Linux mount命令:挂载文件系统</a></li><li><a href="/linux/disk/62.html">Linux ip命令:执行网络管理任务</a></li>        </ul>
    </li>
        <li>
        <a href="javascript:void(0);" class="waves-effect">
            <i class="icon-share"></i>
            <span> 网络设置与维护命令            <span class="float-right menu-arrow">
            <i class="mdi mdi-chevron-right"></i>
            </span> 
            </span>
        </a>
        <ul class="submenu">
             <li><a href="/linux/network/61.html">Linux netstat命令:显示网络状态</a></li><li><a href="/linux/network/60.html">Linux ifconfig命令:配置或显示网络接口信息</a></li><li><a href="/linux/network/63.html">Linux ping命令:测试主机间网络连通性</a></li><li><a href="/linux/network/65.html">Linux finger命令:查找并显示用户信息</a></li><li><a href="/linux/network/64.html">Linux wall命令:发送广播</a></li><li><a href="/linux/network/67.html">Linux rlogin命令:远端登入</a></li><li><a href="/linux/network/66.html">Linux rcp命令:远程文件复制</a></li>        </ul>
    </li>
        <li>
        <a href="/linux/biji/" class="waves-effect">
            <i class="icon-share"></i>
            <span>Linux笔记
                <span class="float-right menu-arrow">
                <i class="mdi mdi-chevron-right"></i>
                </span>
            </span>
        </a>
    </li>
    </ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
</div>
<div class="content-page">
    <div class="content">
        <div class="container-fluid">
            <div class="page-title-box">
                <div class="row align-items-center">
                    <div class="col-sm-6">
                        <h1 class="page-title">【linux命令】linux命令 fdisk详解以及用法</h1>
                    </div>
                </div>
                <!-- end row -->
            </div>
            <!-- end page-title -->
            <!-- START ROW -->
            <div class="panel panel-forbid">
                <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
                <div class="panel-content">
                <span>fdisk -l<br />
<br />
 　　可以列出所有的分区,包括没有挂上的分区和usb设备.我一般用这个来查找需要挂载的分区的位置,比如挂上u盘.<br />
<br />
 　　和我们学习其他命令一样，我们首先可以&amp;#8211</span>                                     
                </div>
                <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
                <div class="panel-content">
                <span><p><span style="color: #000000;">fdisk -l</span><br />
<span style="color: #000000;"> 　　可以列出所有的分区,包括没有挂上的分区和usb设备.我一般用这个来查找需要挂载的分区的位置,比如挂上u盘.</span><br />
<span style="color: #000000;"> 　　<span style="color: #ff0000;"><strong>和我们学习其他命令一样，我们首先可以&#8211;help来查看其参数介绍，有些参数我们不用记住，只记住一些常用的。<br />
</strong></span></span></p>
<pre class="wp-code-highlight prettyprint linenums:1">[[email&#160;protected] ~]# fdisk  --help
fdisk: invalid option -- &#039;-&#039;

Usage:
 fdisk [options]     change partition table
 fdisk [options] -l  list partition table(s)
 fdisk -s       give partition size(s) in blocks

Options:
 -b                  sector size (512, 1024, 2048 or 4096)
 -c                        switch off DOS-compatible mode
 -h                        print help
 -u                  give sizes in sectors instead of cylinders
 -v                        print version
 -C                specify the number of cylinders
 -H                specify the number of heads
 -S                specify the number of sectors per track
</pre>
<p><span style="color: #000000;"> 　　下面着重介绍常用的用法</span><br />
<span style="color: #000000;"> 　　一、fdisk 的介绍；</span><br />
<span style="color: #000000;"> 　　fdisk &#8211; Partition table manipulator for Linux ，译成中文的意思是磁盘分区表操作工具；本人译的不太好，也没有看中文文档；其实就是分区工具；</span><br />
<span style="color: #000000;"> 　　fdsik 能划分磁盘成为若干个区，同时也能为每个分区指定分区的文件系统，比如linux 、fat32、 linux 、linux swap 、fat16 以及其实类Unix类操作系统的文件系统等；当然我们用fdisk 对磁盘操作分区时，并不是一个终点，我们还要对分区进行格式化所需要的文件系统；这样一个分区才能使用；这和DOS中的fdisk 是类似的；</span><br />
<span style="color: #000000;"> 　　笔记：先对一块物理硬盘做一个逻辑分区使用fdisk工具。然后对逻辑分区进行分配相应的文件系统。这样的分区才可以使用的。咦那我通过使用df命令之后怎么判断它的文件系统是什么/.</span><br />
<span style="color: #000000;"> 　　二、合理规划您的硬盘分区；</span><br />
<span style="color: #000000;"> 　　在操作分区之前，我们要明白硬盘分区一点理论，比如硬盘容量和分区大小的计算；对一个硬盘如何规划分区等，请参考如下文档，谢谢；</span><br />
<span style="color: #000000;"> 　　</span><br />
<span style="color: #000000;"> 　　三、fdisk -l 查看硬盘及分区信息；</span><br />
<span style="color: #000000;"> 　　我们知道主分区（包括扩展分区）的总个数不能超过四个；也不能把扩展分区包围在主分区之间；根据这个原则，我们划分硬盘分区就比较容易的多；也能为以后减少不必要的麻烦；</span><br />
<span style="color: #000000;"> 　　1、通过fdisk -l 查看机器所挂硬盘个数及分区情况；</span><br />
<span style="color: #000000;"> 　　[[email&#160;protected] beinan]# fdisk -l</span><br />
<span style="color: #000000;"> 　　以下是表示第一块硬盘 hda</span><br />
<span style="color: #000000;"> 　　Disk /dev/hda: 80.0 GB, 80026361856 bytes</span><br />
<span style="color: #000000;"> 　　255 heads, 63 sectors/track, 9729 cylinders</span><br />
<span style="color: #000000;"> 　　Units = cylinders of 16065 * 512 = 8225280 bytes</span><br />
<span style="color: #000000;"> 　　Device Boot Start End Blocks Id System</span><br />
<span style="color: #000000;"> 　　/dev/hda1 * 1 765 6144831 7 HPFS/NTFS           主分区</span><br />
<span style="color: #000000;"> 　　/dev/hda2 766 2805 16386300 c W95 FAT32 (LBA)   主分区</span><br />
<span style="color: #000000;"> 　　/dev/hda3 2806 9729 55617030 5 Extended         扩展分区</span><br />
<span style="color: #000000;"> 　　/dev/hda5 2806 3825 8193118+ 83 Linux           逻辑分区</span><br />
<span style="color: #000000;"> 　　/dev/hda6 3826 5100 10241406 83 Linux           逻辑分区</span><br />
<span style="color: #000000;"> 　　/dev/hda7 5101 5198 787153+ 82 Linux swap / Solaris 逻辑分区</span><br />
<span style="color: #000000;"> 　　/dev/hda8 5199 6657 11719386 83 Linux           逻辑分区</span><br />
<span style="color: #000000;"> 　　/dev/hda9 6658 7751 8787523+ 83 Linux           逻辑分区</span><br />
<span style="color: #000000;"> 　　/dev/hda10 7752 9729 15888253+ 83 Linux         逻辑分区</span><br />
<span style="color: #000000;"> 　　以下是表示第二块硬盘sda</span><br />
<span style="color: #000000;"> 　　Disk /dev/sda: 1035 MB, 1035730944 bytes</span><br />
<span style="color: #000000;"> 　　256 heads, 63 sectors/track, 125 cylinders</span><br />
<span style="color: #000000;"> 　　Units = cylinders of 16128 * 512 = 8257536 bytes</span><br />
<span style="color: #000000;"> 　　Device Boot Start End Blocks Id System</span><br />
<span style="color: #000000;"> 　　/dev/sda1 1 25 201568+ c W95 FAT32 (LBA)       主分区</span><br />
<span style="color: #000000;"> 　　/dev/sda2 26 125 806400 5 Extended             扩展分区</span><br />
<span style="color: #000000;"> 　　/dev/sda5 26 50 201568+ 83 Linux</span><br />
<span style="color: #000000;"> 　　/dev/sda6 51 76 200781 83 Linux</span><br />
<span style="color: #000000;"> 　　通过上面的信息，我们知道此机器中挂载两个硬盘（或移动硬盘），其中一个是hda 另一个是sda ；如果我们想查看单个硬盘情况，可以通过 fdisk -l /dev/hda1 或者fdisk -l /dev/sda1 来操作；以fdisk -l 输出的硬盘标识为准；</span><br />
<span style="color: #000000;"> 　　其中 hda有三个主分区（包括扩展分区），分别是主分区 hda1 hda2 和hda3（扩展分区） ；逻辑分区是 hda5到hda10；</span><br />
<span style="color: #000000;"> 　　其中 sda 有两个主分区（包括扩展分区），分别是 hda1 和hda2 （扩展分区）；逻辑分区是 sda5 hda6 ；</span><br />
<span style="color: #000000;"> 　　硬盘总容量=主分区（包括扩展分区）总容量</span><br />
<span style="color: #000000;"> 　　扩展分区容量=逻辑分区总容量</span><br />
<span style="color: #000000;"> 　　通过上面的例子，我们可以得知 hda=hda1+hda2+hda3，其中hda3=hda5+hda6+hda7+hda8+hda9+hda10 …… ……</span><br />
<span style="color: #000000;"> 　　逻辑分区的作用是什么呢？</span><br />
<span style="color: #000000;"> 　　2、关于fdisk -l 一些数值的说明；</span><br />
<span style="color: #000000;"> 　　Disk /dev/hda: 80.0 GB, 80026361856 bytes</span><br />
<span style="color: #000000;"> 　　255 heads, 63 sectors/track, 9729 cylinders</span><br />
<span style="color: #000000;"> 　　Units = cylinders of 16065 * 512 = 8225280 bytes</span><br />
<span style="color: #000000;"> 　　这个硬盘是80G的，有255个磁面；63个扇区；9729个磁柱；每个 cylinder（磁柱）的容量是 8225280 bytes=8225.280 K（约为）=8.225280M（约为）；分区序列 引导 开始 终止 容量 分区类型ID 分区类型</span><br />
<span style="color: #000000;"> 　　Device Boot Start End Blocks Id System</span><br />
<span style="color: #000000;"> 　　/dev/hda1 * 1 765 6144831 7 HPFS/NTFS</span><br />
<span style="color: #000000;"> 　　/dev/hda2 766 2805 16386300 c W95 FAT32 (LBA)</span><br />
<span style="color: #000000;"> 　　/dev/hda3 2806 9729 55617030 5 Extended</span><br />
<span style="color: #000000;"> 　　/dev/hda5 2806 3825 8193118+ 83 Linux</span><br />
<span style="color: #000000;"> 　　/dev/hda6 3826 5100 10241406 83 Linux</span><br />
<span style="color: #000000;"> 　　/dev/hda7 5101 5198 787153+ 82 Linux swap / Solaris</span><br />
<span style="color: #000000;"> 　　/dev/hda8 5199 6657 11719386 83 Linux</span><br />
<span style="color: #000000;"> 　　/dev/hda9 6658 7751 8787523+ 83 Linux</span><br />
<span style="color: #000000;"> 　　/dev/hda10 7752 9729 15888253+ 83 Linux</span><br />
<span style="color: #000000;"> 　　说明：</span><br />
<span style="color: #000000;"> 　　硬盘分区的表示：在Linux 是通过hd*x 或 sd*x 表示的，其中 * 表示的是a、b、c …… …… x表示的数字 1、2、3 …… …… hd大多是IDE硬盘；sd大多是SCSI或移动存储；</span><br />
<span style="color: #000000;"> 　　引导（Boot）：表示引导分区，在上面的例子中 hda1 是引导分区；</span><br />
<span style="color: #000000;"> 　　Start （开始）：表示的一个分区从X cylinder（磁柱）开始；</span><br />
<span style="color: #000000;"> 　　End （结束）：表示一个分区到 Y cylinder（磁柱）结束；</span><br />
<span style="color: #000000;"> 　　id和System 表示的是一个意思，id看起来不太直观，我们要在fdisk 一个分区时，通过指定id来确认分区类型；比如 7表示的就NTFS 分区；这个在fdisk 中要通过t功能来指定。下面的部份会提到；</span><br />
<span style="color: #000000;"> 　　Blocks（容量）：这是我翻译的，其实不准确，表示的意思的确是容量的意思，其单位是K；一个分区容量的值是由下面的公式而来的；</span><br />
<span style="color: #000000;"> 　　Blocks = （相应分区End数值 &#8211; 相应分区Start数值）x 单位cylinder（磁柱）的容量</span><br />
<span style="color: #000000;"> 　　所以我们算一下 hda1的 Blocks 的大小 ：</span><br />
<span style="color: #000000;"> 　　hda1 Blocks=（765-1）x8225.280=6284113.92 K = 6284.113.92M</span><br />
<span style="color: #000000;"> 　　注：换算单位以硬盘厂家提供的10进位算起，如果以操作系统二进制来算，这个分区容量应该更少一些，得出的这个值和我们通过 fdisk -l 看到的 /dev/hda1的值是大体相当的，因为换算方法不一样，所以也不可能尽可能的精确；再加上分区时的一点损失之类，有时或大或小是存在的；</span><br />
<span style="color: #000000;"> 　　我们查看分区大小或者文件的时候，还是用十进制来计算比较直观；推算办法是 byte 向前推小数点三位就是K ，K单位的值向前推小数点三位就是M，M向前推小数点三位就是G…… …… 一般也差不了多少；这么算就行；</span><br />
<span style="color: #000000;"> 　　3、估算一个存储设备是否被完全划分；</span><br />
<span style="color: #000000;"> 　　我们估算一个硬盘是否完全被划分，我们只要看 fdisk -l 输出的内容中的 cylinders（柱体） 上一个分区的End 和下一个分区的Start是不是一个连续的数字，另外要看一下每个硬盘设备的fdisk -l 的开头部份，看一下他的 cylinders（柱体）的值；</span><br />
<span style="color: #000000;"> 　　比如hda设备，我们看到的是 9729 cylinders ；我们通过 hda的分区表可以看到上一个分区的End的值+1 就是下一个分区的Start 的值；比如 hda2的Start的值是 hda1 的End 的值+1，这证明 hda1 和hda2 中间没有空白分区，是连续的，以此类推；在 hda10，我们看到 End 的值是9729 ，而在fdisk -l头部信息中也有9729 cylinders，证明这个硬盘已经完全划分；</span><br />
<span style="color: #000000;"> 　　Disk /dev/sda: 1035 MB, 1035730944 bytes</span><br />
<span style="color: #000000;"> 　　256 heads, 63 sectors/track, 125 cylinders</span><br />
<span style="color: #000000;"> 　　Units = cylinders of 16128 * 512 = 8257536 bytes</span><br />
<span style="color: #000000;"> 　　Device Boot Start End Blocks Id System</span><br />
<span style="color: #000000;"> 　　/dev/sda1 1 25 201568+ c W95 FAT32 (LBA)</span><br />
<span style="color: #000000;"> 　　/dev/sda2 26 125 806400 5 Extended</span><br />
<span style="color: #000000;"> 　　/dev/sda5 26 50 201568+ 83 Linux</span><br />
<span style="color: #000000;"> 　　/dev/sda6 51 76 200781 83 Linux</span><br />
<span style="color: #000000;"> 　　我们再看看 sda 移动储是不是被完全划分了；sda有 125个cylinders （柱体），有一个主分区和一个扩展分区构成；在扩展分区中，我们看到End的值为125，而这个移动硬盘的cylinder也是125，这能说明这个硬盘不可能再添加任何主分区了；根据我们上面所说的 sda1 sda2 sda5 sda6 之间未有任何未划分空间，但sda6 的cylinders （柱体）的End值却是 76 ，而 sda总的cylinders （柱体）有125个，由此看来sda 在 sda6后面有未划分区域；</span><br />
<span style="color: #000000;"> 　　至于sda 有多少未划分空间，我们算一下就知道了；扩展分区总容量是 806400 K ，大约是 806.400M左右，而逻辑分区 sda5 和sda6 的大小加起来是 400M左右，所以还仍有400M左右未划分空间，并且只能划分为链逻辑分区；</span><br />
<span style="color: #000000;"> 　　四、fdisk 对硬盘及分区的操作，进入fdisk 对硬盘操作阶段；</span><br />
<span style="color: #000000;"> 　　我们可以对硬盘进行分区操作，前提是您把fdisk -l 弄明白了；通过fdisk -l ，我们能找出机器中所有硬盘个数及设备名称；比如上面的例子，我们会看到两个设备一个是/dev/hda ，另一个是/dev/sda ；</span><br />
<span style="color: #000000;"> 　　fdisk 操作硬盘的命令格式如下：</span><br />
<span style="color: #000000;"> 　　[[email&#160;protected] beinan]# fdisk 设备</span><br />
<span style="color: #000000;"> 　　比如我们通过 fdisk -l 得知 /dev/hda 或者 /dev/sda设备；我们如果想再添加或者删除一些分区，可以用</span><br />
<span style="color: #000000;"> 　　[[email&#160;protected] beinan]# fdisk /dev/hda</span><br />
<span style="color: #000000;"> 　　或</span><br />
<span style="color: #000000;"> 　　[[email&#160;protected] beinan]# fdisk /dev/sda</span><br />
<span style="color: #000000;"> 　　注 在以后的例子中，我们要以 /dev/sda设备为例，来讲解如何用fdisk 来操作添加、删除分区等动作；</span><br />
<span style="color: #000000;"> 　　1、fdisk 的说明；</span><br />
<span style="color: #000000;"> 　　当我们通过 fdisk 设备，进入相应设备的操作时，会发现有如下的提示；以 fdisk /dev/sda 设备为例，以下同；</span><br />
<span style="color: #000000;"> 　　[[email&#160;protected] beinan]# fdisk /dev/sda</span><br />
<span style="color: #000000;"> 　　Command (m for help): 在这里按m ，就会输出帮助；</span><br />
<span style="color: #000000;"> 　　Command action</span><br />
<span style="color: #000000;"> 　　a toggle a bootable flag</span><br />
<span style="color: #000000;"> 　　b edit bsd disklabel</span><br />
<span style="color: #000000;"> 　　c toggle the dos compatibility flag</span><br />
<span style="color: #000000;"> 　　d delete a partition 注：这是删除一个分区的动作；</span><br />
<span style="color: #000000;"> 　　l list known partition types 注：l是列出分区类型，以供我们设置相应分区的类型；</span><br />
<span style="color: #000000;"> 　　m print this menu 注：m 是列出帮助信息；</span><br />
<span style="color: #000000;"> 　　n add a new partition 注：添加一个分区；</span><br />
<span style="color: #000000;"> 　　o create a new empty DOS partition table</span><br />
<span style="color: #000000;"> 　　p print the partition table 注：p列出分区表；</span><br />
<span style="color: #000000;"> 　　q quit without saving changes 注：不保存退出；</span><br />
<span style="color: #000000;"> 　　s create a new empty Sun disklabel</span><br />
<span style="color: #000000;"> 　　t change a partition&#8217;s system id 注：t 改变分区类型；</span><br />
<span style="color: #000000;"> 　　u change display/entry units</span><br />
<span style="color: #000000;"> 　　v verify the partition table</span><br />
<span style="color: #000000;"> 　　w write table to disk and exit 注：把分区表写入硬盘并退出；</span><br />
<span style="color: #000000;"> 　　x extra functionality (experts only) 注：扩展应用，专家功能；</span><br />
<span style="color: #000000;"> 　　其实我们常用的只有注有中文的，其它的功能我们不常用（呵，主要是我不会用，否则早会卖弄一下了）；x扩展功能，也不是常用的；一般的情况下只要懂得 d l m p q t w 就行了；</span><br />
<span style="color: #000000;"> 　　下面以实例操作来详述，没有例子没有办法就，新手也看不懂；</span><br />
<span style="color: #000000;"> 　　2、列出当前操作硬盘的分区情况，用p；</span><br />
<span style="color: #000000;"> 　　Command (m for help): p</span><br />
<span style="color: #000000;"> 　　Disk /dev/sda: 1035 MB, 1035730944 bytes</span><br />
<span style="color: #000000;"> 　　256 heads, 63 sectors/track, 125 cylinders</span><br />
<span style="color: #000000;"> 　　Units = cylinders of 16128 * 512 = 8257536 bytes</span><br />
<span style="color: #000000;"> 　　Device Boot Start End Blocks Id System</span><br />
<span style="color: #000000;"> 　　/dev/sda1 1 25 201568+ c W95 FAT32 (LBA)</span><br />
<span style="color: #000000;"> 　　/dev/sda2 26 125 806400 5 Extended</span><br />
<span style="color: #000000;"> 　　/dev/sda5 26 50 201568+ 83 Linux</span><br />
<span style="color: #000000;"> 　　/dev/sda6 51 76 200781 83 Linux</span><br />
<span style="color: #000000;"> 　　3、通过fdisk的d指令来删除一个分区；</span><br />
<span style="color: #000000;"> 　　Command (m for help): p 注：列出分区情况；</span><br />
<span style="color: #000000;"> 　　Disk /dev/sda: 1035 MB, 1035730944 bytes</span><br />
<span style="color: #000000;"> 　　256 heads, 63 sectors/track, 125 cylinders</span><br />
<span style="color: #000000;"> 　　Units = cylinders of 16128 * 512 = 8257536 bytes</span><br />
<span style="color: #000000;"> 　　Device Boot Start End Blocks Id System</span><br />
<span style="color: #000000;"> 　　/dev/sda1 1 25 201568+ c W95 FAT32 (LBA)</span><br />
<span style="color: #000000;"> 　　/dev/sda2 26 125 806400 5 Extended</span><br />
<span style="color: #000000;"> 　　/dev/sda5 26 50 201568+ 83 Linux</span><br />
<span style="color: #000000;"> 　　/dev/sda6 51 76 200781 83 Linux</span><br />
<span style="color: #000000;"> 　　Command (m for help): d 注：执行删除分区指定；</span><br />
<span style="color: #000000;"> 　　Partition number (1-6): 6 注：我想删除 sda6 ，就在这里输入 6 ；</span><br />
<span style="color: #000000;"> 　　Command (m for help): p 注：再查看一下硬盘分区情况，看是否删除了？</span><br />
<span style="color: #000000;"> 　　Disk /dev/sda: 1035 MB, 1035730944 bytes</span><br />
<span style="color: #000000;"> 　　256 heads, 63 sectors/track, 125 cylinders</span><br />
<span style="color: #000000;"> 　　Units = cylinders of 16128 * 512 = 8257536 bytes</span><br />
<span style="color: #000000;"> 　　Device Boot Start End Blocks Id System</span><br />
<span style="color: #000000;"> 　　/dev/sda1 1 25 201568+ c W95 FAT32 (LBA)</span><br />
<span style="color: #000000;"> 　　/dev/sda2 26 125 806400 5 Extended</span><br />
<span style="color: #000000;"> 　　/dev/sda5 26 50 201568+ 83 Linux</span><br />
<span style="color: #000000;"> 　　Command (m for help):</span><br />
<span style="color: #000000;"> 　　警告：删除分区时要小心，请看好分区的序号，如果您删除了扩展分区，扩展分区之下的逻辑分区都会删除；所以操作时一定要小心；如果知道自己操作错了，请不要惊慌，用q不保存退出；切记切记！！！！在分区操作错了之时，千万不要输入w保存退出！！！</span><br />
<span style="color: #000000;"> 　　4、通过fdisk的n指令增加一个分区；</span><br />
<span style="color: #000000;"> 　　Command (m for help): p</span><br />
<span style="color: #000000;"> 　　Disk /dev/sda: 1035 MB, 1035730944 bytes</span><br />
<span style="color: #000000;"> 　　256 heads, 63 sectors/track, 125 cylinders</span><br />
<span style="color: #000000;"> 　　Units = cylinders of 16128 * 512 = 8257536 bytes</span><br />
<span style="color: #000000;"> 　　Device Boot Start End Blocks Id System</span><br />
<span style="color: #000000;"> 　　/dev/sda1 1 25 201568+ c W95 FAT32 (LBA)</span><br />
<span style="color: #000000;"> 　　/dev/sda2 26 125 806400 5 Extended</span><br />
<span style="color: #000000;"> 　　/dev/sda5 26 50 201568+ 83 Linux</span><br />
<span style="color: #000000;"> 　　Command (m for help): n 注：增加一个分区；</span><br />
<span style="color: #000000;"> 　　Command action</span><br />
<span style="color: #000000;"> 　　l logical (5 or over) 注：增加逻辑分区，分区编号要大于5；为什么要大于5，因为已经有sda5了；</span><br />
<span style="color: #000000;"> 　　p primary partition (1-4) 注：增加一个主分区；编号从 1-4 ；但sda1 和sda2都被占用，所以只能从3开始；</span><br />
<span style="color: #000000;"> 　　p</span><br />
<span style="color: #000000;"> 　　Partition number (1-4): 3</span><br />
<span style="color: #000000;"> 　　No free sectors available 注：失败中，为什么失败？</span><br />
<span style="color: #000000;"> 　　注：我试图增加一个主分区，看来是失败了，为什么失败？因为我们看到主分区+扩展分区把整个磁盘都用光了，看扩展分区的End的值，再看一下 p输出信息中有125 cylinders；最好还是看前面部份；那里有提到；</span><br />
<span style="color: #000000;"> 　　所以我们只能增加逻辑分区了；</span><br />
<span style="color: #000000;"> 　　Command (m for help): n</span><br />
<span style="color: #000000;"> 　　Command action</span><br />
<span style="color: #000000;"> 　　l logical (5 or over)</span><br />
<span style="color: #000000;"> 　　p primary partition (1-4)</span><br />
<span style="color: #000000;"> 　　l 注：在这里输入l，就进入划分逻辑分区阶段了；</span><br />
<span style="color: #000000;"> 　　First cylinder (51-125, default 51): 注：这个就是分区的Start 值；这里最好直接按回车，如果您输入了一个非默认的数字，会造成空间浪费；</span><br />
<span style="color: #000000;"> 　　Using default value 51</span><br />
<span style="color: #000000;"> 　　Last cylinder or +size or +sizeM or +sizeK (51-125, default 125): +200M 注：这个是定义分区大小的，+200M 就是大小为200M ；当然您也可以根据p提示的单位cylinder的大小来算，然后来指定 End的数值。回头看看是怎么算的；还是用+200M这个办法来添加，这样能直观一点。如果您想添加一个10G左右大小的分区，请输入 +10000M ；</span><br />
<span style="color: #000000;"> 　　Command (m for help):</span><br />
<span style="color: #000000;"> 　　5、通过fdisk的t指令指定分区类型；</span><br />
<span style="color: #000000;"> 　　Command (m for help): t 注：通过t来指定分区类型；</span><br />
<span style="color: #000000;"> 　　Partition number (1-6): 6 注：要改变哪个分区类型呢？我指定了6，其实也就是sda6</span><br />
<span style="color: #000000;"> 　　Hex code (type L to list codes):L 注：在这里输入L，就可以查看分区类型的id了；</span><br />
<span style="color: #000000;"> 　　Hex code (type L to list codes): b 注：如果我想让这个分区是 W95 FAT32 类型的，通过L查看得知 b是表示的是，所以输入了b；</span><br />
<span style="color: #000000;"> 　　Changed system type of partition 6 to b (W95 FAT32) 注：系统信息，改变成功；是否是改变了，请用p查看；</span><br />
<span style="color: #000000;"> 　　Command (m for help): p</span><br />
<span style="color: #000000;"> 　　Disk /dev/sda: 1035 MB, 1035730944 bytes</span><br />
<span style="color: #000000;"> 　　256 heads, 63 sectors/track, 125 cylinders</span><br />
<span style="color: #000000;"> 　　Units = cylinders of 16128 * 512 = 8257536 bytes</span><br />
<span style="color: #000000;"> 　　Device Boot Start End Blocks Id System</span><br />
<span style="color: #000000;"> 　　/dev/sda1 1 25 201568+ c W95 FAT32 (LBA)</span><br />
<span style="color: #000000;"> 　　/dev/sda2 26 125 806400 5 Extended</span><br />
<span style="color: #000000;"> 　　/dev/sda5 26 50 201568+ 83 Linux</span><br />
<span style="color: #000000;"> 　　/dev/sda6 51 75 201568+ b W95 FAT32</span><br />
<span style="color: #000000;"> 　　6、fdisk 的退出，用q或者 w；</span><br />
<span style="color: #000000;"> 　　其中 q是 不保存退出，w是保存退出；</span><br />
<span style="color: #000000;"> 　　Command (m for help): w</span><br />
<span style="color: #000000;"> 　　或</span><br />
<span style="color: #000000;"> 　　Command (m for help): q</span><br />
<span style="color: #000000;"> 　　7、一个添加分区的例子；</span><br />
<span style="color: #000000;"> 　　本例中我们会添加两个200M的主分区，其它为扩展分区，在扩展分区中我们添加两个200M大小的逻辑分区；</span><br />
<span style="color: #000000;"> 　　Command (m for help): p 注：列出分区表；</span><br />
<span style="color: #000000;"> 　　Disk /dev/sda: 1035 MB, 1035730944 bytes</span><br />
<span style="color: #000000;"> 　　256 heads, 63 sectors/track, 125 cylinders</span><br />
<span style="color: #000000;"> 　　Units = cylinders of 16128 * 512 = 8257536 bytes</span><br />
<span style="color: #000000;"> 　　Device Boot Start End Blocks Id System</span><br />
<span style="color: #000000;"> 　　Command (m for help): n 注：添加分区；</span><br />
<span style="color: #000000;"> 　　Command action</span><br />
<span style="color: #000000;"> 　　e extended</span><br />
<span style="color: #000000;"> 　　p primary partition (1-4)</span><br />
<span style="color: #000000;"> 　　p 注：添加主分区；</span><br />
<span style="color: #000000;"> 　　Partition number (1-4): 1 注：添加主分区1；</span><br />
<span style="color: #000000;"> 　　First cylinder (1-125, default 1): 注：直接回车，主分区1的起始位置；默认为1,默认就好；Using default value 1</span><br />
<span style="color: #000000;"> 　　Last cylinder or +size or +sizeM or +sizeK (1-125, default 125): +200M 注：指定分区大小，用+200M来指定大小为200M</span><br />
<span style="color: #000000;"> 　　Command (m for help): n 注：添加新分区；</span><br />
<span style="color: #000000;"> 　　Command action</span><br />
<span style="color: #000000;"> 　　e extended</span><br />
<span style="color: #000000;"> 　　p primary partition (1-4)</span><br />
<span style="color: #000000;"> 　　p 注：添加主分区</span><br />
<span style="color: #000000;"> 　　Partition number (1-4): 2 注：添加主分区2；</span><br />
<span style="color: #000000;"> 　　First cylinder (26-125, default 26):</span><br />
<span style="color: #000000;"> 　　Using default value 26</span><br />
<span style="color: #000000;"> 　　Last cylinder or +size or +sizeM or +sizeK (26-125, default 125): +200M 注：指定分区大小，用+200M来指定大小为200M</span><br />
<span style="color: #000000;"> 　　Command (m for help): n</span><br />
<span style="color: #000000;"> 　　Command action</span><br />
<span style="color: #000000;"> 　　e extended</span><br />
<span style="color: #000000;"> 　　p primary partition (1-4)</span><br />
<span style="color: #000000;"> 　　e 注：添加扩展分区；</span><br />
<span style="color: #000000;"> 　　Partition number (1-4): 3 注：指定为3 ，因为主分区已经分了两个了，这个也算主分区，从3开始；</span><br />
<span style="color: #000000;"> 　　First cylinder (51-125, default 51): 注：直接回车；</span><br />
<span style="color: #000000;"> 　　Using default value 51</span><br />
<span style="color: #000000;"> 　　Last cylinder or +size or +sizeM or +sizeK (51-125, default 125): 注：直接回车，把其余的所有空间都给扩展分区；</span><br />
<span style="color: #000000;"> 　　Using default value 125</span><br />
<span style="color: #000000;"> 　　Command (m for help): p</span><br />
<span style="color: #000000;"> 　　Disk /dev/sda: 1035 MB, 1035730944 bytes</span><br />
<span style="color: #000000;"> 　　256 heads, 63 sectors/track, 125 cylinders</span><br />
<span style="color: #000000;"> 　　Units = cylinders of 16128 * 512 = 8257536 bytes</span><br />
<span style="color: #000000;"> 　　Device Boot Start End Blocks Id System</span><br />
<span style="color: #000000;"> 　　/dev/sda1 1 25 201568+ 83 Linux</span><br />
<span style="color: #000000;"> 　　/dev/sda2 26 50 201600 83 Linux</span><br />
<span style="color: #000000;"> 　　/dev/sda3 51 125 604800 5 Extended</span><br />
<span style="color: #000000;"> 　　Command (m for help): n</span><br />
<span style="color: #000000;"> 　　Command action</span><br />
<span style="color: #000000;"> 　　l logical (5 or over)</span><br />
<span style="color: #000000;"> 　　p primary partition (1-4)</span><br />
<span style="color: #000000;"> 　　l 注：添加逻辑分区；</span><br />
<span style="color: #000000;"> 　　First cylinder (51-125, default 51):</span><br />
<span style="color: #000000;"> 　　Using default value 51</span><br />
<span style="color: #000000;"> 　　Last cylinder or +size or +sizeM or +sizeK (51-125, default 125): +200M 注：添加一个大小为200M大小的分区；</span><br />
<span style="color: #000000;"> 　　Command (m for help): n</span><br />
<span style="color: #000000;"> 　　Command action</span><br />
<span style="color: #000000;"> 　　l logical (5 or over)</span><br />
<span style="color: #000000;"> 　　p primary partition (1-4)</span><br />
<span style="color: #000000;"> 　　l 注：添加一个逻辑分区；</span><br />
<span style="color: #000000;"> 　　First cylinder (76-125, default 76):</span><br />
<span style="color: #000000;"> 　　Using default value 76</span><br />
<span style="color: #000000;"> 　　Last cylinder or +size or +sizeM or +sizeK (76-125, default 125): +200M 注：添加一个大小为200M大小的分区；</span><br />
<span style="color: #000000;"> 　　Command (m for help): p 列出分区表；</span><br />
<span style="color: #000000;"> 　　Disk /dev/sda: 1035 MB, 1035730944 bytes</span><br />
<span style="color: #000000;"> 　　256 heads, 63 sectors/track, 125 cylinders</span><br />
<span style="color: #000000;"> 　　Units = cylinders of 16128 * 512 = 8257536 bytes</span><br />
<span style="color: #000000;"> 　　Device Boot Start End Blocks Id System</span><br />
<span style="color: #000000;"> 　　/dev/sda1 1 25 201568+ 83 Linux</span><br />
<span style="color: #000000;"> 　　/dev/sda2 26 50 201600 83 Linux</span><br />
<span style="color: #000000;"> 　　/dev/sda3 51 125 604800 5 Extended</span><br />
<span style="color: #000000;"> 　　/dev/sda5 51 75 201568+ 83 Linux</span><br />
<span style="color: #000000;"> 　　/dev/sda6 76 100 201568+ 83 Linux</span><br />
<span style="color: #000000;"> 　　然后我们根据前面所说通过t指令来改变分区类型；</span><br />
<span style="color: #000000;"> 　　最后不要忘记w保存退出；</span><br />
<span style="color: #000000;"> 　　五、对分区进行格式化，以及加载；</span><br />
<span style="color: #000000;"> 　　先提示一下；用 mkfs.bfs mkfs.ext2 mkfs.jfs mkfs.msdos mkfs.vfatmkfs.cramfs mkfs.ext3 mkfs.minix mkfs.reiserfs mkfs.xfs 等命令来格式化分区，比如我想格式化 sda6为ext3文件系统，则输入；</span><br />
<span style="color: #000000;"> 　　[[email&#160;protected] beinan]# mkfs.ext3 /dev/sda6</span><br />
<span style="color: #000000;"> 　　如果我想加载 sda6到目前系统来存取文件，应该有mount 命令，但首先您得建一个挂载目录；比如 /mnt/sda6 ；</span><br />
<span style="color: #000000;"> 　　[[email&#160;protected] beinan]# mkdir /mnt/sda6</span><br />
<span style="color: #000000;"> 　　[[email&#160;protected] beinan]# mount /dev/sda6 /mnt/sda6</span><br />
<span style="color: #000000;"> 　　[[email&#160;protected] beinan]# df -lh</span><br />
<span style="color: #000000;"> 　　Filesystem 容量 已用 可用 已用% 挂载点</span><br />
<span style="color: #000000;"> 　　/dev/hda8 11G 8.4G 2.0G 81% /</span><br />
<span style="color: #000000;"> 　　/dev/shm 236M 0 236M 0% /dev/shm</span><br />
<span style="color: #000000;"> 　　/dev/hda10 16G 6.9G 8.3G 46% /mnt/hda10</span><br />
<span style="color: #000000;"> 　　/dev/sda6 191M 5.6M 176M 4% /mnt/sda6</span><br />
<span style="color: #000000;"> 　　这样我们就能进入 /mnt/sda6目录，然后存取文件了；</span></p>
<p><span style="color: #000000;">文章转载于http://www.cnblogs.com/xiaofengkang/archive/2011/06/06/2073579.html并略作改动。</span></p>

                                                                                                        
                                                </div>
                                                <!-- .entry-wrapper --></span>                                     
                </div>
                <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
                <div class="panel-content">
                <span>[!--zhushi--]</span>                                     
                </div>

            </div>

            <!-- END ROW -->
            <div class="newsPage">
                <div class="newsPageTurn">
                    <span><a>上一篇</a><a href='/linux/biji/383.html'>Git忽略提交规则.gitignore配置总结</a><a>下一篇</a><a href='/linux/biji/385.html'>【linux命令】linux环境下手工方式安装php 5.5.29，5.x版本通用。</a></span>
                </div>
            </div>
        </div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
                <li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<!-- container-fluid -->
    </div>
<!-- content -->
    <footer class="footer">
    © 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

    </footer>
</div>
</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>