<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>构建Node.js应用的10个重要的方面_IDC笔记</title>
    <meta name="keywords" content="javascript,javascript教程" />
    <meta name="description" content="应用程序需要有个明确目标，能帮干活能解决问题。这一点同样可以用于你决定去做的每件事上。目标明确根基夯实，应用程序才会越做越好。" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
        <li>
		    <a href="/js/" class="waves-effect">
			    <i class="icon-share"></i>
			    <span>JavaScript 教程
			       	<span class="float-right menu-arrow">
			       	<i class="mdi mdi-chevron-right"></i>
			       	</span>
			    </span>
		    </a>
		</li>
						<li>
			<a href="javascript:void(0);" class="waves-effect">
				<i class="icon-share"></i>
				<span> JavaScript 教程				<span class="float-right menu-arrow">
				<i class="mdi mdi-chevron-right"></i>
				</span> 
				</span>
			</a>
			<ul class="submenu">
				 <li><a href="/js/1.html">JavaScript 简介</a></li><li><a href="/js/2.html">JavaScript 使用</a></li><li><a href="/js/3.html">JavaScript 输出</a></li><li><a href="/js/4.html">JavaScript 语句</a></li><li><a href="/js/5.html">JavaScript 语法</a></li><li><a href="/js/6.html">JavaScript 注释</a></li><li><a href="/js/7.html">JavaScript 变量</a></li><li><a href="/js/8.html">JavaScript 运算符</a></li><li><a href="/js/9.html">JavaScript 算术</a></li><li><a href="/js/10.html">JavaScript 赋值</a></li><li><a href="/js/11.html">JavaScript 数据类型</a></li><li><a href="/js/12.html">JavaScript 函数</a></li><li><a href="/js/13.html">JavaScript 对象</a></li><li><a href="/js/14.html">JavaScript 事件</a></li><li><a href="/js/15.html">JavaScript 字符串</a></li>			</ul>
		</li>
				<li>
			<a href="javascript:void(0);" class="waves-effect">
				<i class="icon-share"></i>
				<span> JavaScript 表单				<span class="float-right menu-arrow">
				<i class="mdi mdi-chevron-right"></i>
				</span> 
				</span>
			</a>
			<ul class="submenu">
				 <li><a href="/js/56.html">JavaScript 表单</a></li><li><a href="/js/57.html">JavaScript 验证 API</a></li>			</ul>
		</li>
				<li>
			<a href="javascript:void(0);" class="waves-effect">
				<i class="icon-share"></i>
				<span> JavaScript 对象				<span class="float-right menu-arrow">
				<i class="mdi mdi-chevron-right"></i>
				</span> 
				</span>
			</a>
			<ul class="submenu">
				 <li><a href="/js/58.html">JavaScript 对象</a></li><li><a href="/js/59.html">JavaScript 对象属性</a></li><li><a href="/js/60.html">JavaScript 对象方法</a></li><li><a href="/js/61.html">JavaScript 对象访问器</a></li><li><a href="/js/62.html">JavaScript 对象构造器</a></li><li><a href="/js/63.html">JavaScript 对象原型</a></li><li><a href="/js/64.html">JavaScript ES5 对象方法</a></li>			</ul>
		</li>
				<li>
			<a href="javascript:void(0);" class="waves-effect">
				<i class="icon-share"></i>
				<span> JavaScript 函数				<span class="float-right menu-arrow">
				<i class="mdi mdi-chevron-right"></i>
				</span> 
				</span>
			</a>
			<ul class="submenu">
				 <li><a href="/js/65.html">JavaScript 函数定义</a></li><li><a href="/js/66.html">JavaScript 函数参数</a></li><li><a href="/js/67.html">JavaScript 函数调用</a></li><li><a href="/js/68.html">JavaScript 函数 Call</a></li><li><a href="/js/69.html">JavaScript 函数 Apply</a></li><li><a href="/js/70.html">JavaScript 闭包</a></li>			</ul>
		</li>
				<li>
			<a href="javascript:void(0);" class="waves-effect">
				<i class="icon-share"></i>
				<span> JavaScript HTML DOM				<span class="float-right menu-arrow">
				<i class="mdi mdi-chevron-right"></i>
				</span> 
				</span>
			</a>
			<ul class="submenu">
				 <li><a href="/js/71.html">DOM 简介</a></li><li><a href="/js/72.html">DOM 方法</a></li><li><a href="/js/73.html">DOM 文档</a></li><li><a href="/js/74.html">DOM 元素</a></li><li><a href="/js/75.html">HTML DOM</a></li><li><a href="/js/76.html">DOM CSS</a></li><li><a href="/js/77.html">DOM 动画</a></li><li><a href="/js/78.html">DOM 事件</a></li><li><a href="/js/79.html">DOM 事件监听器</a></li><li><a href="/js/80.html">DOM 导航</a></li><li><a href="/js/81.html">DOM 节点</a></li><li><a href="/js/82.html">DOM 集合</a></li><li><a href="/js/83.html">DOM 节点列表</a></li>			</ul>
		</li>
				<li>
			<a href="javascript:void(0);" class="waves-effect">
				<i class="icon-share"></i>
				<span> JS Browser BOM				<span class="float-right menu-arrow">
				<i class="mdi mdi-chevron-right"></i>
				</span> 
				</span>
			</a>
			<ul class="submenu">
				 <li><a href="/js/84.html">JavaScript Window</a></li><li><a href="/js/85.html">JS Screen</a></li><li><a href="/js/86.html">JS Location</a></li><li><a href="/js/87.html">JS History</a></li><li><a href="/js/88.html">JS Navigator</a></li><li><a href="/js/89.html">JS 弹出框</a></li><li><a href="/js/90.html">JS Timing</a></li><li><a href="/js/91.html">JS Cookies</a></li>			</ul>
		</li>
				<li>
			<a href="javascript:void(0);" class="waves-effect">
				<i class="icon-share"></i>
				<span> JavaScript AJAX				<span class="float-right menu-arrow">
				<i class="mdi mdi-chevron-right"></i>
				</span> 
				</span>
			</a>
			<ul class="submenu">
				 <li><a href="/js/92.html">AJAX 简介</a></li><li><a href="/js/93.html">AJAX - XMLHttp</a></li><li><a href="/js/94.html">AJAX 请求</a></li><li><a href="/js/95.html">AJAX 响应</a></li><li><a href="/js/96.html">AJAX XML 文件</a></li><li><a href="/js/97.html">AJAX PHP</a></li><li><a href="/js/98.html">AJAX 数据库</a></li><li><a href="/js/99.html">AJAX 应用程序</a></li>			</ul>
		</li>
				<li>
			<a href="javascript:void(0);" class="waves-effect">
				<i class="icon-share"></i>
				<span> JavaScript JSON				<span class="float-right menu-arrow">
				<i class="mdi mdi-chevron-right"></i>
				</span> 
				</span>
			</a>
			<ul class="submenu">
				 <li><a href="/js/100.html">JSON 简介</a></li><li><a href="/js/101.html">JSON 语法</a></li><li><a href="/js/102.html">JSON 使用</a></li><li><a href="/js/103.html">JSON vs XML</a></li><li><a href="/js/104.html">JSON 数据类型</a></li><li><a href="/js/105.html">JSON 解析</a></li><li><a href="/js/106.html">JSON 字符串化</a></li><li><a href="/js/107.html">JSON 对象</a></li><li><a href="/js/108.html">JSON 数组</a></li><li><a href="/js/109.html">JSON PHP</a></li><li><a href="/js/110.html">JSON HTML</a></li><li><a href="/js/111.html">JSON JSONP</a></li>			</ul>
		</li>
				<li>
		    <a href="/js/javascript" class="waves-effect">
			    <i class="icon-share"></i>
			    <span>JavaScript 笔记
			       	<span class="float-right menu-arrow">
			       	<i class="mdi mdi-chevron-right"></i>
			       	</span>
			    </span>
		    </a>
		</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">构建Node.js应用的10个重要的方面</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>应用程序需要有个明确目标，能帮干活能解决问题。这一点同样可以用于你决定去做的每件事上。目标明确根基夯实，应用程序才会越做越好。</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><h2>目标</h2>
<p>应用程序需要有个明确目标，能帮干活能解决问题。这一点同样可以用于你决定去做的每件事上。目标明确根基夯实，应用程序才会越做越好。明确的目标会帮你闯出出一条如何正确解决问题的道路、也让你在遇到阻碍陷入困境无法前行的时候依然坚定执着着望向远方。。。</p>
<h2>架构</h2>
<p>架构会考虑到源代码的设计，文件排列，程序库/模块使用，他们交织在一起编织出了应用程序。架构形式会随着应用程序的开发不断发生变化,它可能是一个web应用服务器，像express这样的处理静态资源（比如图片），也可能是一个scheduler/worker pipeline，排队以及处理队列中的项。</p>
<p>无论何种目的，都有一些通用的原则应该遵守。</p>
<ul>
	<li>模块化。尽量保证你的代码遵守DRY原则（Don&#39;t Repeat Yourself（不要重复自己））。如果你发现你需要在许多不同的地方使用一段相似的代码，通常应该将他们放在一个单独的文件（或模块）的一个函数中，从而形成通用帮助函数集模块。这个模块可以在其他依赖它的地方使用require()函数来加载。这样做的目的不仅仅是防止多次重写相似的功能，并且当你升级功能时，你只需要修改同一个函数即可。</li>
	<li>遵守Node规范，尽量保证第三方node模块放在node_modules文件夹下。同时也应该保证node_modules在你的.gitignore里，这样你就不会提交不相干的依赖文件。</li>
	<li>分离关系。前端相关的内容（静态CSS，javascript，HTML，模板文件，图片，资源文件）应该与后端应用逻辑（路由，服务器，中间件）分离。同样的，应该将部署脚本，配置文件，数据关系文件和测试文件分开放置。</li>
</ul>
<h2>部署</h2>
<p>你应用到生产环境的方法很大程度上依赖于你堆栈的性质。以下是我们尝试过的一些方法:</p>
<ul>
	<li>手动通过SSH传到服务器和拷贝git仓库。优点：全手动控制，零部署工具设置。缺点：大量服务器时难以实施。所有的事情都需要手动设置，因此你不会得到任何好处，像upstart / initrc supervisation或者没有日志的运行。</li>
	<li>Capistrano.优点：对于团队开发者来说是标准的流程，只需简单的运行：cap deploy。缺点：难以配置，需要Ruby依赖。</li>
	<li>Chef&nbsp;脚本. 优点：通过脚本安装程序。缺点：每次想部署时，需要重启服务器。Chef最常被用于服务器的安装/配置，而不是应用程序部署。</li>
	<li>Deliver. 当我们厌倦了其他的一些操作时，我们可以使用GoSquared出品的这个部署工具。<br />它的灵感来自于Heroku&rsquo;s的git推送系统的基础部署。你只需要为应用程序配置一个系统用户（那些你需要做的&mdash;&mdash;我们都帮你自动做好了），建立一个基本的分发配置，在工程里运行分发的命令行。它使用git通过SSH把应用程序推送到你的服务器，可以使用&nbsp;foreman或者equivalent来监听应用程序的启动，复位和恢复。</li>
</ul>
<p>这并不是一个详尽的部署方案的列表，你可能需要发挥一点创意来构想一个最适合您自个需求的解决方案。无论你采用何种策略，将部署配置文件纳入您的应用程序的源代码版本控制并将部署流程记录在您的README文件中都是一个好主意。</p>
<h2>配置<br />&nbsp;</h2>
<p>几乎每个应用程序都有一些常量和设置需要能被方便地更改。常见的有主机名，端口号，超时时间，模块选项和错误。在一个地方保存这些值将非常有利，可存在一个文件或多个文件中，如果这些值足够多。这样做可以使他们能更快地被修改，而不必花时间在梳理代码以跟踪查找到它们。</p>
<p>我之前只是转储配置的设置到一个输出配置属性为对象的文件。这在一个非常特殊的环境下运行良好，比如在生产环境的时候，但随着时间的推移，这开始成为维护的一个瓶颈，变得没有条理性，并且在应用改变时产生了多个文件作为一个基础设施。</p>
<p>我们可以通过环境配置获得想要的结果，这个想法是指你可以在应用程序运行时修改基于环境的配置值。这个方式很简单，输出一个叫做$NODE_ENV 的shell环境变量包含一个你将要运行程序的环境模式标识。你的应用程序将定制配置的设置，当它启动时使用你定义好的环境。</p>
<p>环境方面的配置为你提供了贯穿整个应用程序生命周期的更多的灵活性，你应该可以在本地开发和运行你的应用程序，而不需要网络连接（你想要在火车上能够进行？事实上写这篇文章时我正好在火车上），这需要为本地服务指定主机地址和端口号。然后，你可能会希望在部署到服务器之前能够进行测试。这些都需要不同的配置。</p>
<p>我们一般使用&nbsp;node-config，一个为工作精确设计的模块。所有你需要做的是在config/default.js中定义配置的值，接下来为你不同的环境建一个文件，包含继承了default.js的默认指令。你设置$NODE_ENV作为环境变量的名字，这个模块会覆盖defaults.js中定义的[$NODE_ENV]属性。导入到你的应用程序合并配置对象，你只需使用require()就可以。</p>
<h2>日志，度量和监测</h2>
<p>你想给自己足够的应用的不正常行为的证据，以至于你就可以在尽可能很少的时间内使&lsquo;b0rked&rsquo;变为&rdquo;所有错误已经修正&ldquo;。一个最好的办法是依赖日志。通常的前提是，如果得到了错误，记录它。你必须遵从node的错误处理规则，在Callback的第一个章节已经预设了当一个错误发生时的错误信息：</p>
<p>makeRyanDahlProud(function(err, result){<br />&nbsp; if(err){<br />&nbsp;&nbsp;&nbsp; console.log(err);<br />&nbsp; }<br />});</p>
<p>不管怎样，如何应对错误完全在于你。你或许想记录错误，然后继续。或者你想终止执行这个回调。无论如何，你应该在未来应用这些错误，而且记录日志是最简单的实现方式。</p>
<p>尽管记录错误日志是一个很好的方法，但是也会导致大量的消息被发送到logs日志或者终端。TJ Holowaychuck开发了一个叫做&nbsp;debug的模块，允许为日志消息创建命名空间，通过这途径，我们就可以过滤掉不必要的消息，而通过命名空间抓取我们需要的消息。TJ的&nbsp;repertoire还有大量其他模块。</p>
<h2>指标</h2>
<p>应用指标为我们提供了有用的信息，以便查看应用在做什么操作和这些操作的时间间隔。它给我们提供一个重要的途径去检测异常的事件，瓶颈还有扩充收缩计划的参考。我将这些归结到一个小的模块，叫做abacus，它可以帮助我们维护计数器的集合，并通过statsd把它们以可视化绘图形式描绘到graphite。实践证明，保证应用在给定的参数下运行时非常方便。</p>
<h2>监测</h2>
<p>监测并非是必需的，但是监测是一个很好的途径，让我们了解运行应用的服务器的资源使用率。另外的早期警告系统，同样非常重要，可以让我们避免一些低级问题而导致的应用崩溃。没有比服务器硬盘空间不足而导致的应用崩溃，或者CPU使用超过负载而崩溃，而更让人窘迫。</p>
<p>现在有大量的监测工具或者服务：开源的有Ganglia,&nbsp;Monit,&nbsp;Sensu&nbsp;，还有SaaS服务ServerDensity,&nbsp;NodeTime&nbsp;and&nbsp;NewRelic&nbsp;。</p>
<h2>容错</h2>
<p>在部署的时候也需要考虑的，就是你还需要考虑如果你的应用崩溃后，将会发生什么。应用最好在系统监测程序下受控，例如Ubuntu的upstart。配置upstar十分琐碎，但可以在应用崩溃时，处理开始，结束，和重启，所以还是值得的。Foreman有一个导出功能，可以为你的foreman-backed应用生成upstar配置。</p>
<p>即使应用可以在崩溃后重启，但是这样做的含义是什么？这样会让服务在某些时候中止么？会丢失数据么？会留下一些为完成的任务么？一串问题你需要在设计时考虑，冗余是一个很好的解决方案。例如，你需要在多台服务器之间传输数据，可以考虑增加一个反向代理（负载均衡，例如&nbsp;HAProxy&nbsp;&nbsp;或者web服务器，例如&nbsp;&nbsp;nginx），从负载中移除应用中的不完善实例，直到健康检查达到合格分数为止。</p>
<h2>效率和可伸缩性</h2>
<p>也许在开始阶段我们很少考虑，但随着你的应用的成长，事务压力会不断增大，你也许需要考虑让应用变得更高效，甚至是可伸缩性。这里存在的风险是过早的优化。你不需要担心让你的应用拥有超强的可伸缩性或者拥有超级性能，因为在真正面对这么高的负载的之前，你为什么为此而苦恼呢？你还是把最宝贵的时间放在核心组件的构建上，或者&quot;最小的可行性&quot;，就如，刚开始启动，至少先到达需要扩展的阶段。</p>
<p>当你的应用在单节点和单实例的情况已不能满足需求的时候，你有几个选择，所有的权衡，就像在雷区中摆布一样。首先要做的是，找出瓶颈。为什么应用会那么慢？是不是CPU占用率已达到顶峰值？是不是硬盘I/O不够大或者是否足够的连贯？</p>
<p>有时候最直接的答案是把应用迁移到拥有足够资源的服务器上。如果这对于你来说，是可行的，那么任务就比在多节点上重新架构你的应用要简单的多，但是如果应用增长速度很快，那这个可不是最好的解决方案。但是这个方法可能会消耗你大量的时间去构建。</p>
<p>在多个服务器上横向扩展应用，是一个棘手的方案，并且引入大量的错误，但是长期来说却带来生命力和令人着迷的技术挑战。</p>
<h2>文档和组内协作</h2>
<p>一个应用如果没有文档，就像一个包装盒没有说明书一样。你可以找出需要做什么，但这样做是笨拙的，浪费时间和不精确的。最好你能提供清晰的文档描述，简要说明你的代码。这样做不单单是帮助其他人很快的上手和快速的开发，而且还能帮助你在六个月后重新拾起这个应用，修复臭虫。</p>
<p>我并不主张像写小说或者教程一样去描述你的代码。很多代码可以自解释，只要代码足够的简洁。相反，你的文档需要描述的是，代码未能解释的灰色地带。注释可以描述代码的功能性，还有描述设计的理念，平衡，依赖，陷阱，边缘例子和其他需要考虑的东西。随着应用的成长，代码的描述文档也会增长，以反映应用变得越来越稳定的过程。在应用还处于初级阶段的时候，没必要太投入去编写文档。因为文档在初期会经常改变，当你花了很多时间在它身上的时候，可能会很快又被废除掉。</p>
<p>每个应用程序都应该包括一个README[MD]，其中包含所有需要知道是应用程序正常工作的细节。通常这包括：</p>
<ul>
	<li>应用程序其目的的简短说明</li>
	<li>安装说明</li>
	<li>启动说明</li>
	<li>测试说明</li>
	<li>如何部署</li>
	<li>其他需要知道的点</li>
</ul>
<p>我们需要一个模块提前代码里的注释并生成干净，有吸引力的文档。我们会使用一个叫&nbsp;docker&nbsp;&nbsp;的模块在我们的app中。</p>
<h2>测试</h2>
<p>以前我压根没有认识到测试有多么重要，也没有被（QA）烦过。可能是因为我（太牛了）从来没有遇到这样悲催的情况：多年以后，之前开发的应用开始出问题了，你无法保证哪部分还正常工作，哪部分就快瘫了。可是现在，经历过这些狗血的事情后。我知道，我们需要测试，我们需要伟大的QA！！！</p>
<p>严格的测试可以造就好的应用。你需要考虑横向地把应用切分为组件，而让组件可以单独的测试。这超越了基本的单元测试的迂腐，包含更多信息的组件和集成测试，可以让你找到一个方法，以保证你的应用可以很好的集成在一起工作。</p>
<p>最好的方式是在你开发应用的时候编写测试用例（一旦你有足够的信心，你测试的功能不再有变化），那样随着应用的开发进程，测试也可以得到足够的保证。这样可以保证在开发新的功能的时候不会打断现有的功能。测试同样给其他开发者提供一个很好的例子，理解应用各个组件如何工作和结果是什么。</p>
<p>现在有大量的测试框架可供选择，不同的技术(&nbsp;BDD,&nbsp;&nbsp;TDD). &nbsp;我们尝试过&nbsp;vows&nbsp;和&nbsp;tap，但是我目前更喜欢用&nbsp;mocha和should.js，因为我觉得使用它们，比使用纯javascript，更能平衡架构和工具，同时允许使用同样的代码库，脚本文件，而且还能在你的测试用例中启动服务器。</p>
<h2>依赖<br />&nbsp;</h2>
<p>Node拥有一个强大的模块系统和被称为npm的包管理工具，npm能帮助你无缝的集成各种模块到你的应用中。npm给你提供了一个非常丰富的开源模块的目录&nbsp;索引，你可以找到你想要的。</p>
<p>一旦你知道你的应用需要什么组件（例如和redis数据库沟通的是什么客户端），明智的选择是首先检查现有的配置索引中的用户级节点模块。Node.js是黑客们中最喜欢的实验工具，所以这里有很多模块可供你尝试。自然，这些组件的质量都不一样，所以你需要了解哪些是好的模块，哪些却不是（名单：README， 测试，例子，作者），但是基本上可以提供给你所有你需要的。</p>
<p>&nbsp;</p>
<div class="c" id="weste_pagead_4"><script type="text/javascript">BAIDU_CLB_fillSlot("160927");</script></div></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>
			</div>
			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/js/javascript/444.html'>腾讯推出开源Web版的PhotoShop：AlloyPhoto</a><a>下一篇</a><a href='/js/javascript/446.html'>jQuery 1.9升级指南中文翻译版</a></span>
				</div>
			</div>
		</div>
		<div id="author-box">
		    <h3>作者：喵哥笔记</h3>
		        <div class="author-info">
		            <div class="author-avatar">
		                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
		            </div>
		        <div class="author-description">
		            <p>学的不仅是技术，更是梦想！</p>
		            <ul class="author-social follows nb">
		            	<li>
		                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
		                </li>
		            </ul>
		        </div>
		        <div class="clear"></div>
		    </div>
		</div>
		<!-- container-fluid -->
			</div>
		<!-- content -->
			<footer class="footer">
			© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

			</footer>
	</div>
</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>