<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>MySQL 升级方法指南大全第1/5页_mysql教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="这篇文章主要为大家详细介绍了MySQL 升级方法指南大全第1/5页，具有一定的参考价值，可以用来参考一下。

对此感兴趣的朋友，看看idc笔记做的技术笔记！如果都是比较新的版本的升级" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
	    <a href="/mysql/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>数据库笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">MySQL 升级方法指南大全第1/5页</h1>
					</div>
                    <div class="panel-title">
                        2022-11-12 09:18:36                    </div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>这篇文章主要为大家详细介绍了MySQL 升级方法指南大全第1/5页，具有一定的参考价值，可以用来参考一下。

对此感兴趣的朋友，看看idc笔记做的技术笔记！如果都是比较新的版本的升级</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p>这篇文章主要为大家详细介绍了MySQL 升级方法指南大全第1/5页，具有一定的参考价值，可以用来参考一下。</p>

<p>对此感兴趣的朋友，看看idc笔记做的技术笔记！</p>如果都是比较新的版本的升级可以参考下面的文章，MySQL数据库的版本更新很快，新的特性也随之不断的更新，更主要的是解决了很多影响我们应用的BUG，为了让我们的MySQL变得更美好，我们有必要去给它升级，尽管你会说它现在已经跑得很好很稳定完全够用了。下面我们来看看几种常用的升级方法。介绍之前，我们先做一些声明，MySQL采用二进制包来安装，升级都是在同一台DB Server上操作。<strong>第一种，很简单，适用于任何存储引擎。</strong>1. 下载并安装好新版本的MySQL数据库，并将其端口改为3307（避免和旧版本的3306冲突），启动服务。2. 在新版本下创建同名数据库。# mysqldump -p3307 -uroot create mysqlsystems_com3. 在旧版本下备份该数据库。# mysqldump -p3306 -uroot mysqlsystems_com &gt; mysqlsystems_com.bkNote: 你也可以加上&ndash;opt选项，这样可以使用优化方式将你的数据库导出，减少未知的问题。4. 将导出的数据库备份导入到新版本的MySQL数据库中。# mysql -p3307 -uroot mysqlsystems_com &lt; mysqlsystems_com.bk5. 再将旧版本数据库中的data目录下的mysql数据库全部覆盖到新版本中。# cp -R /opt/mysql-5.1/data/mysql /opt/mysql-5.4/dataNote: 大家也都知道这个默认数据库的重要性。6. 在新版下执行mysql_upgrade命令，其实这个命令包含一下三个命令：# mysqlcheck &ndash;check-upgrade &ndash;all-databases &ndash;auto-repair# mysql_fix_privilege_tables# mysqlcheck &ndash;all-databases &ndash;check-upgrade &ndash;fix-db-names &ndash;fix-table-namesNote: 在每一次的升级过程中，mysql_upgrade这个命令我们都应该去执行，它通过mysqlcheck命令帮我们去检查表是否兼容新版本的数据库同时作出修复，还有个很重要的作用就是使用mysql_fix_privilege_tables命令去升级权限表。7. 关闭旧版本，将新版的数据库的使用端口改为3306，重新启动新版本MySQL数据库。到此，一个简单环境下的数据库升级就结束了。<strong>第二种，同样适用任何存储引擎。</strong>1. 同样先安装好新版本的MySQL。2. 在旧版本中，备份数据库。# mkdir /opt/mysqlsystems_bk ; mysqldump -p3306 -uroot &ndash;tab=/opt/mysqlsystems_bk mysqlsystems_comNote: &ndash;tab选项可以在备份目录mysqlsystems_bk下生成后缀为*.sql和*.txt的两类文件；其中，.sql保存了创建表的SQL语句而.txt保存着原始数据。3. 接下来在新版本的数据库下更新数据。# mysqladmin -p3307 -uroot create mysqlsystems_com# cat /opt/mysqlsystems_bk/*.sql | mysql -p3307 -uroot mysqlsystems_com ( Create Tables )# mysqlimport mysqlsystems_com /opt/mysqlsystems_bk/*.txt ( Load Data )4. 之后的所有步骤与第一种方法的后三步5、6、7相同。<strong>第三种，适用于MyISAM存储引擎，全部是文件间的拷贝。 </strong>1. 安装。2. 从旧版本mysqlsystems_com数据库下将所有.frm、.MYD 和.MYI文件拷贝到新版本的相同目录下。3.之后的步骤依然同于第一种的后三步。以上就是三种升级MySQL的方法，看似没有出现什么问题，其实，在实际的生产环境中，为会有诸多问题发生，这就需要我们在升级之前充分了解新版本中增加了哪些新功能，进一步分析升级以后这些新特性是否将会对我们原来应用产生影响对于老版本的mysql升级可以看下一页。
<div class="pagenum tc"><strong>12345下一页阅读全文 </strong>
<p><strong>对此感兴趣的朋友，看看idc笔记做的技术笔记！</strong></p><strong>1、概述通常，从一个发布版本升级到另一个版本时，我们建议按照顺序来升级版本。例如，想要升级MySQL3.23时，先升级到MySQL4.0，而不是直接升级到MySQL4.1或MySQL5.0。以下是在升级MySQL时需要注意的事项：仔细阅读一下升级的目标版本的新特性和改变的特性，以及2个版本之间的不同特性升级前一定要备份所有的数据如果是在Windows平台上升级MySQL，请阅读附录&quot;在Windows平台上升级MySQL&quot;有些不同版本间的升级可能会涉及对授权表的修改，请尤其注意这个问题，详情请阅读附录&quot;升级授权表&quot;如果正在运行着同步，请阅读附录&quot;升级同步&quot;如果之前运行着MySQL-Max发布版本，想要升级到非MySQL-Max发布版本时，就需要从mysqld_safe去掉启动mysqld-max服务器的参数在同一个发布系列版本的MySQL间，可以随意拷贝格式文件和数据文件。如果在MySQL运行过程中改变了字符集，就需要对每个MyISAM表执行&quot;myisamchk-r-q--set-character-set=charset&quot;命令修复一下。否则的话，索引的排序可能不正确，因为修改了字符集，就可能会改变索引的顺序。通常情况下，升级到新版本不需要修改任何数据表。请检查MySQL发布事项中提到的升级需要注意的地方，如果发现不能直接升级的话，就先用mysqldump将数据导出来，然后再导回去。如果担心升级失败，就先把旧版本的MySQL改个名字备份起来，以备所需。同时，升级完之后可能还需要重新编译跟MySQL相关的程序，因为新版本的头文件和库文件可能有改变了。如果升级后发生问题了，请先检查是否使用了旧的my.cnf配置文件，可以通过执行命令&quot;mysqld--print-defaults&quot;来打印出各种配置信息来确认。升级的时候最好也升级类似Perl的DBD::mysql模块，同样，对PHP和Python而言也是一样。2、从MySQL5.0升级到MySQL5.1从5.0升级到5.1的时候，必须要升级授权表。否则，可能某些存储过程无法运行。详情请看附录&quot;mysql_updateMySQL升级时检查数据表&quot;。以下是从5.0升级到5.1需要注意的事项：检查所有的变化，尤其注意那些标志为&quot;不兼容的变化&quot;的部分。详情请看附录&quot;mysql_updateMySQL升级时检查数据表&quot;可能某些发布版本会改变授权表的机制查看所有重大的变化，详情请看MySQL手册的&quot;D.1.1.?Changesinrelease5.1.10(Notyetreleased)&quot;章节以下是升级到MySQL5.1之后会发生的一些变化：服务器部分：不兼容的变化：MySQL5.1实现了支持无需重启服务器就能在运行时加载或卸载API插件。这个特性需要用到mysql.plugin表，可以运行&quot;mysql_upgrade&quot;命令来创建该表插件安装在系统变量plugin_dir所指的目录下。这个变量也控制着用户自定义函数(UDFs)所在目录，这相对以前的版本有所改变。在MySQL5.1中，所有的UDFs库必须都安装到plugin_dir目录下，从旧版本升级的时候，必须把那些库文件都移动到这个目录下不兼容的变化：系统变量table_cache改名为table_open_cache不兼容的变化：在MySQL5.1.6中FULLTEXT的索引结构发生变化了。当升级到5.1.6甚至更高之后，需要对每个包含FULLTEXT字段的数据表执行&quot;REPAIRTABLE&quot;语句在MySQL5.1.6以前，MySQL把普通的查询日志和慢查询都写到文件中。从5.1.6以后，这些日志可以灵活地选择是是写到日志文件中(跟以前一样)或者写到mysql数据库的general_log和slow_log表中。如果启用日志记录，这2种方式都可以使用。选项--log-output用来控制这2种日志的记录方式从5.1.6开始，特殊字符集的数据库和表的标识符在创建相应目录和文件时都会用对应的字符集编码了SQL分： </strong>
<div class="pagenum tc"><strong>上一页1<strong>2345下一页阅读全文 </strong></strong>
<p><strong><strong>对此感兴趣的朋友，看看idc笔记做的技术笔记！</strong></strong></p><strong><strong>不兼容的变化：在MySQL5.1.8开始，TYPE=engine_name还仍然是ENGINE=engine_name的同义语法，但有警告。从5.2开始，将完全删除这种语法，并报告错误。不兼容的变化：在MySQL5.0.10中，触发器的命名空间已经改变了。在以前，触发器的名字必须和每个数据表都不一样。现在，只需要在数据库内唯一就行了。隐含的变化就是，DROPTRIGGER语法使用模式名而非数据表名(模式名是可选参数，如果忽略了，就使用当前的模式)当从5.0升级到5.0.10及更高时，则必须删除触发器后重新创建它们，否则升级后就无法删除触发器了。建议如下：导出触发器：SELECTCONCAT(&#39;CREATETRIGGER&#39;,t.TRIGGER_SCHEMA,&#39;.&#39;,t.TRIGGER_NAME,&#39;&#39;,t.ACTION_TIMING,&#39;&#39;,t.EVENT_MANIPULATION,&#39;ON&#39;,t.EVENT_OBJECT_SCHEMA,&#39;.&#39;,t.EVENT_OBJECT_TABLE,&#39;FOREACHROW&#39;,t.ACTION_STATEMENT,&#39;//&#39;)INTOOUTFILE&#39;/tmp/triggers.sql&#39;FROMINFORMATION_SCHEMA.TRIGGERSASt;将触发器导出到文件&quot;/tmp/triggers.sql&quot;中去。停止服务器，然后删除数据库目录下的所有&quot;TRG&quot;文件：shell&gt;rm-f*/*.TRG启动服务器，倒入触发器：mysql&gt;delimiter//;mysql&gt;source/tmp/triggers.sql//不兼容的变化：MySQL5.1.6引进了触发器权限机制。以前，创建触发器需要有SUPER权限，现在，这个操作只需要有TRIGGER权限。这改善了权限安全状况一些MySQL5.1中作为保留关键字在MySQL5.0中并没有作为保留关键字新引入了&quot;INSTALLPLUGIN&quot;和&quot;UNINSTALLPLUGIN&quot;语句用于操作API插件。同样，创建FULLTEXT索引时，可以用&quot;WITHPARSER&quot;子句关联解析器插件3、从MySQL4.1升级到MySQL5.0服务器部分：不兼容的变化：InnoDB和MyISAM表中空格结尾的TEXT字段索引顺序改变了。因此需要运行&quot;CHECKTABLE&quot;语句修复数据表，如果出现错误，就运行&quot;OPTIMIZETABLE&quot;或&quot;REPAIRTABLE&quot;语句修复，甚至重新转储(用mysqldump)不兼容的变化：从MySQL5.0.15开始，如何处理BINARY字段中填充的值已经改变了。填充的值现在是0x00而非空格了，并且在取值的时候不会去除末尾的空格不兼容的变化：从MySQL5.0.3开始，DECIMAL的实现方式已经改变了，5.0对DECIMAL的格式限制严格多了不兼容的变化：在MySQL5.0.3到5.0.5之间版本的MyISAM和InnoDB表中创建的DECIMAL字段升级到5.0.6之后会发生崩溃不兼容的变化：从5.0.3开始，除非和主函数之间有辅助的符号链接，否则服务器将不再默认地加载用户自定义函数(UDFs)，也可以通过--allow-suspicious-udfs选项来启用不兼容的变化：5.0中禁用了更新日志(updatelog)，不过可以用二进制日志(binarylog)来代替它不兼容的变化：5.0中不再支持ISAM类型存储引擎(作者：可以通过重新编译源代码支持，不过非常不建议这么做)不兼容的变化：5.0中不再支持MyISAM的RAID选项，可以用mysqldump导出旧表然后重新导回去实现升级在5.0.6中，记录存储过程和触发器的二进制日志发生了一些变化，详见手册的&quot;17.4BinaryLoggingofStoredRoutinesandTriggers&quot;SQL部分：不兼容的变化：从5.0.12开始，自然连接和使用USING的连接，包括外部连接的衍生形式，都按照SQL:2003标准来处理了；这个变化导致减少了自然连接和使用USING的连接产生的结果字段数，并且还将按照更合理的顺序显示这些字段，逗号比较符的优先顺序和JOIN,LEFTJOIN中的一样了不兼容的变化：在以前，等待超时的锁会导致InnoDB回滚当前全部事务，从5.0.13开始，就只回滚最近的SQL语句了不兼容的变化：触发器的变化，跟前面讲到的一样不兼容的变化：从5.0.15开始，CHAR()函数返回二进制字符串，而不是按照连接字符集格式的字符串。子句USINGcharset_name可以自定义返回结果的字符集不兼容的变化：在5.0.13以前，NOW()和SYSDATE()返回的结果一样。但从5.0.13开始，SYSDATE()返回的是语句执行点的时间，这就可能和NOW()返回的结果不一样了，不过可以用--sysdate-is-now选项让SYSDATE()作为NOW()的同名函数不兼容的变化：在5.0.13以前，GREATEST(x,NULL)和LEAST(x,NULL)如果x不是NULL值，则返回x。从5.0.13开始，只要任何参数是NULL，就返回NULL，跟Oracle一样不兼容的变化：在4.1.13/5.0.8以前，DATETIME的加0后就转换成YYYYMMDDHHMMSS格式，现在变成YYYYMMDDHHMMSS.000000格式了不兼容的变化：在4.1.12/5.0.6中，语句LOADDATAINFILE和SELECT...INTOOUTFILE中，当FIELDSTERMINATEDBY和FIELDSENCLOSEDBY的值都是空的时候，结果就被改变了。以前，字段都按照它显示的宽度来读写的。现在变成按照足够保存字段值的宽度来读写它。然而，对MySQL4.0.12/5.0.6来说，那些在它们之前导出来的文件可能无法正确用LOADDATAINFILE语句导入一些MySQL5.0中作为保留关键字在MySQL4.1中并没有作为保留关键字从5.0.3开始，DECIMAL用更有效的格式来存储5.0.3开始，在计算DECIMAL值和舍入精确值的时候采用精确数学4.1中，FLOAT或DOUBLE之间的比较碰巧没问题，但在5.0中可能就不行了从5.0.3开始，VARCHAR和VARBINARY字段中末尾的空格不再删除从5.0.3开始，BIT是一个独立的数据类型了，不再是TINYINT(1)的同名词了MySQL5.0.2增加了一些SQL模式以使对排除包含非法或者缺失值得记录有着更严格的控制从5.0.2开始，关键字SCHEMA和SCHEMAS被认为分别是DATABASE和DATABASES的同名词5.0中用户变量对大小写不敏感，而4.1中则不然增加了一个新的启动选项innodb_table_locks，它导致LOCKTABLE时也可以请求InnoDB表锁。这个选项默认打开，不过可能在AUTOCOMMIT=1和LOCKTABLES应用中会导致死锁CAPI部分： </strong></strong>
<div class="pagenum tc"><strong><strong>上一页12<strong>345下一页阅读全文 </strong></strong></strong>
<p><strong><strong><strong>对此感兴趣的朋友，看看idc笔记做的技术笔记！</strong></strong></strong></p><strong><strong><strong>不兼容的变化：由于5.0中DECIMAL数据类型的实现方式发生了变化，因此如果使用就版本的库文件需要注意这个问题不兼容的变化：在5.0.3中，ER_WARN_DATA_TRUNCATED警告符号改名为WARN_DATA_TRUNCATED了MYSQL结构体中的reconnect标志被mysql_real_connect()设为0。4、从MySQL4.0升级到MySQL4.1服务器部分：不兼容的变化：以下好几个都是需要重建数据表的，可以使用mysqldump导出表后重新导回去如果在4.1.0到4.1.3版本的MySQL中创建了包含TIMESTAMP字段的InnoDB表。则在升级到4.1.4及更高时需要重建表，因为存储格式发生变化了从4.1.3开始，InnoDB表采用同一种字符集比较函数来比较那些非latin1_swedish_ci字符集且不是BINARY的字符串如果在4.1.0到4.1.5版本的MySQl中对UTF8字段或者其他多字节字段作了前缀索引，则在升级到4.1.6及更高时必须重建表如果在4.1之前，数据库、表、字段、约束名中使用了重音字符(字节值是128到255的字符)，那么不能直接升级到4.1。因为4.1使用UTF8来存储元数据名。字符串根据标准SQL来比较：比较之前不删除末尾的空格，以前用末尾空格扩展了比较短的字符串。现在的结果是&#39;a&#39;&gt;&#39;a\t&#39;，以前则不这样。可以用mysqlcheck来检查一下数据表MyISAM现在使用更好的校验和算法了不兼容的变化：MySQL把字符串类型字段的长度定义理解为字符长度而不是字节长度。重要提示：MySQL4.1用UTF8字符集存储数据表名和字段名。如果有用标准7字节US-ASCII范围之外的字符作为表名/字段名的话，需要重建表重要提示：升级到4.1.1或更高后，就很难降级回到4.0或4.1了，因为InnoDB使用了多个表空间的缘故不兼容的变化：MySQL4.1.13支持让每个连接设定时区，因此系统变量timezone改成system_time_zone所有的数据表和非二进制字符串(CHAR,VARCHAR,和TEXT)的字段都有字符集，二进制字符串字段包括BINARY,VARBINARY,和BLOBMySQL4.0中，如果有字段类型为CHARBINARY或VARCHARBINARY，则它们会被当作二进制字符串类型如果数据表的字段中存储着MySQL4.1直接就能支持的字符集字符数据时，则可以将这个字段的值转换成由合适的字符集存储MySQL4.1中对数据结构描述文件.frm的格式稍作改进，新版本能兼容这个新格式，但是旧版本则不能windows下的服务器启动时增加--shared-memory选项即可支持从本地客户端连接时使用共享内存不兼容的变化：从MySQL4.1.1开始，对用户自定义函数集合接口发生了很大改进不兼容的变化：从4.1.10a开始，除非和主函数之间有辅助的链接，否则服务器将不再默认地加载用户自定义函数(UDFs)，也可以通过--allow-suspicious-udfs选项来启用客户端部分：mysqldump默认启用--opt和--quote-names选项SQL部分：不兼容的变化：字符串根据标准SQL来比较，如上面的&quot;服务器变化&quot;部分中提到的不兼容的变化：TIMESTAMP返回&#39;YYYY-MM-DDHH:MM:SS&#39;格式的字符串。在MySQL4.0中，可以增加选项--new来获得MySQL4.1中这方面的特性不兼容的变化：二进制数据例如0xFFDF被当成字符串而非数字不兼容的变化：在MySQL4.1.1前，语句解析器不是那么严格，它在处理字符串转时间转换时会忽略第一个数字前的其他字符。在4.1.1之后，就比较严格了不兼容的变化：在MySQL4.1.2，SHOWTABLESTATUS结果的Type字段改名为Engine了当执行多表删除语句时，要删除的表只能使用它的别名，而不能用真实表名返回结果是DATE,DATETIME,或TIME类型的函数的结果会被转换成时间型AUTO_INCREMENT字段不能设定默认(DEFAULT)值了LIMIT不再接受负数参数了SERIALIZE不再是sql_mode变量的有效值了，它的取代值是SETTRANSACTIONISOLATIONLEVELSERIALIZABLECAPI部分：MySQL4.1中的密码哈希算法做了改进以提升安全性，不过会导致兼容性问题。使用MySQL4.0及更早版本的客户端库文件会发生问题。不兼容的变化：mysql_shutdown()函数增加一个参数：SHUTDOWN-level某些函数例如mysql_real_query()发生错误时返回1而非-1密码处理部分：MySQL4.1中的密码哈希算法做了改进以提升安全性，不过会导致兼容性问题。使用MySQL4.0及更早版本的客户端库文件会发生问题。解决办法有：升级客户端库文件到4.1(不用升级服务器端库文件)运行mysql_fix_privilege_tables脚本来加宽user表中的Password字段值，以适应新的哈希算法。如果想要允许4.1以下的客户端还能连接到服务器，那么服务器运行时要增加参数--old-passwords5、附录1、)在Windows平台上升级MySQL步骤：备份旧数据停止旧服务器从windows的系统服务中删掉mysql服务，用如下命令：C:\&gt;C:\mysql\bin\mysqld--remove用可执行安装文件方式安装mysql，或者解压可直接执行的二进制压缩包来安装重新注册mysql服务，用如下命令：C:\&gt;C:\mysql\bin\mysqld--install重启服务器其他的问题详见上面提到的各种升级中会碰到的情况2、)升级授权表 </strong></strong></strong>
<div class="pagenum tc"><strong><strong><strong>上一页123<strong>45下一页阅读全文 </strong></strong></strong></strong>
<p><strong><strong><strong><strong>对此感兴趣的朋友，看看idc笔记做的技术笔记！</strong></strong></strong></strong></p><strong><strong><strong><strong>升级授权表之前一定要备份好mysql数据库，以备升级失败时使用旧的授权表。在unix或类unix系统中，运行mysql_fix_privilege_tables脚本来升级授权表：shell&gt;mysql_fix_privilege_tables必须在mysqld运行着的时候执行这个脚本，它尝试使用root帐号来连接服务器；因此，当root需要密码时，用如下方式来指定密码：shell&gt;mysql_fix_privilege_tables--password=root_password在MySQL4.1之前，则是用如下形式来指定密码：shell&gt;mysql_fix_privilege_tablesroot_password接下来mysql_fix_privilege_tables脚本会升级授权表，在这个过程中可能会有一些Duplicatecolumnname警告信息，无需理会它们。待它运行完之后，重启一下服务器即可。在windows平台上，授权表想要升级到4.0.15并不容易。从4.0.15开始，发行版中包含一个sql脚本：mysql_fix_privilege_tables.sql，用mysql客户端运行它来升级授权表，运行类似如下命令：C:\&gt;C:\mysql\bin\mysql-uroot-pmysqlmysql&gt;SOURCEC:/mysql/scripts/mysql_fix_privilege_tables.sql把上面提到的目录改成真实的目录。3、)升级同步请查看我翻译的文档&quot;6.6升级同步&quot;4、)mysql_updateMySQL升级时检查数据表每次升级的时候都必须运行mysql_upgrade脚本。它检查了当前版本的MySQL下的所有数据库表的不兼容性，就会检查这些表；并且发现有问题时，也会修复这些表。mysql_update同时升级了系统表，因此可以兼容新的权限机制并且使用新增的权限。由于mysql_update会把检查过和修复过的表都标记上当前的MySQL版本号，因而保证了下一次在同一个MySQL版本下运行这个脚本时，都会再次报告哪些表需要修复或检查。它还会把MySQL的版本号记录在数据文件目录下的一个文件中：mysql_upgrade.info。这个文件用于标识当前发布版本检查表时哪些表可以略过，检查时想要忽略这个文件，只需附加上--force选项。为了能检查和修复数据表，并且升级系统表，mysql_update执行了一下命令：mysqlcheck--check-upgrade--all-databases--auto-repairmysql_fix_privilege_tablesmysql_update目前只支持类unix平台；在windows下，需要手工执行mysqlcheck命令，升级授权表请看附录&quot;升级授权表&quot;。执行mysql_update时，MySQL服务器必须运行着，它有以下几个参数：--help显示帮助信息并且退出--basedir=path设定MySQL的安装路径--datadir=path设定MySQL的数据文件路径--force告诉mysql_update，在检查时忽略是否存在mysql_upgrade.info文件，强行检查该版本的MySQL数据表，不管是否已经检查过了--user=user_name,-uuser_name连接到MySQL的用户名，默认是root--verbose冗余模式。发生问题时打印出更多的信息其他的选项诸如--password[=password]是要传递给mysqlcheck和mysql_fix_privilege_tables脚本的，并不是必须的。 </strong></strong></strong></strong>
<div class="pagenum tc"><strong><strong><strong><strong>上一页1234<strong>5阅读全文 </strong></strong></strong></strong></strong></div></div></div></div></div>

<p>注：关于MySQL 升级方法指南大全第1/5页的内容就先介绍到这里，更多相关文章的可以留意</span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>
			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/mysql/biji/696.html'>通过Query Profiler查看MySQL语句运行时间的实现方法</a><a>下一篇</a><a href='/mysql/biji/698.html'>在MySQL中增添新用户权限的方法</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>