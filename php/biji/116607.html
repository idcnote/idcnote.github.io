<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>Python爬12万条影评的解决办法_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="这篇文章主要为大家详细介绍了Python爬12万条影评的简单示例，具有一定的参考价值，可以用来参考一下。<br />
<br />
对python这个高级语言对此感兴趣的朋友，看看idc笔记做的技术笔记！<br />
截止到" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li><li><a href="/php/phpbiji/108382.html"></a></li><li><a href="/php/phpbiji/108384.html"></a></li><li><a href="/php/phpbiji/108383.html"></a></li><li><a href="/php/phpbiji/108385.html"></a></li><li><a href="/php/phpbiji/108386.html"></a></li><li><a href="/php/phpbiji/108388.html"></a></li><li><a href="/php/phpbiji/108387.html"></a></li><li><a href="/php/phpbiji/108389.html"></a></li><li><a href="/php/phpbiji/108391.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">Python爬12万条影评的解决办法</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>这篇文章主要为大家详细介绍了Python爬12万条影评的简单示例，具有一定的参考价值，可以用来参考一下。<br />
<br />
对python这个高级语言对此感兴趣的朋友，看看idc笔记做的技术笔记！<br />
截止到</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p>这篇文章主要为大家详细介绍了Python爬12万条影评的简单示例，具有一定的参考价值，可以用来参考一下。</p>

对python这个高级语言对此感兴趣的朋友，看看idc笔记做的技术笔记！
<p>截止到 8 月 20 日，《战狼Ⅱ》上映的第 25 天，它的票房已超 50 亿人民币，真正成为唯一一部挺进世界影史票房前 100 名的亚洲电影。</p>
<p>抛开爆炸的票房不说，电影还激起了观众各种情绪，甚至有人放狠话说：敢喷《战狼Ⅱ》的，要么是智障，要么是公敌，就是这么简单粗暴。</p>
<p>大家对《战狼Ⅱ》褒贬不一，纷纷在豆瓣短评上面留言，表达自己对这部电影的看法。尽管各路评论出街，媒体闹得沸沸扬扬，观众还是傻傻分不清楚哪边意见比较靠谱。</p>
<p>截至目前已经有超过十五万的评论，在你看评论的时候，你可能在一段时间里看到的大部分是表扬或者是贬低的评论。</p>
<p>那么通过浏览评论我们很难看出大家对于这部电影的总体情况。现在让我们通过数据分析的方法看看在这些评论中究竟发生了什么有趣的事情！</p>
<p>本文通过 Python 爬虫的方式获取数据，对豆瓣电影评论进行分析，制作了豆瓣影评的云图。</p>
<p>现在，让我们来看看，《战狼Ⅱ》评论里到底藏着哪些有趣的潜台词。</p>
<h3>数据的获取</h3>
<p>本文采用的是 Python 爬虫的方式获取的数据，用到的主要是 requests 包与正则包 re，该程序并未对验证码进行处理。</p>
<p>之前也爬取过豆瓣的网页，当时由于爬取的内容少，所以并没有遇到验证码的事情。</p>
<p>在写本文爬虫的时候，原以为也不会有验证码，但是当爬取到大概 15000 个评论的时候跳出来验证码。</p>
<p>然后我就想不就是十二万吗？最多我也就是输入大概十几次验证码，所以就没有处理验证码的事情。</p>
<p>但是接下来的事情就有点坑到我了，爬取 15000 左右评论并输入验证码的时候，我以为会接下来爬取到 30000 左右，可是才爬了 3000 左右就不行了，还是要输验证码。</p>
<p>然后就一直这样，跌跌撞撞，有时候爬取好长时间才需要验证码，有时候则不是。不过最后还是把评论爬取下来了。</p>
<p>爬取的内容主要是：用户名，是否看过，评论的星星点数，评论时间，认为有用的人数，评论内容。</p>
<p>以下是 Python 爬虫的代码：</p>
<pre><code class="python">
# @param 我用Python爬了12万条影评,告诉你《战狼》都在说些啥
# @author php教程|www.idcnote.com 

import requests 
import re
import pandas as pd
url_first=&#39;https://movie.douban.com/subject/26363254/comments?start=0&#39;
head={&#39;User-Agent&#39;:&#39;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/59.0.3071.109 Chrome/59.0.3071.109 Safari/537.36&#39;}
html=requests.get(url_first,headers=head,cookies=cookies)
cookies={&#39;cookie&#39;:&#39;你自己的cookie&#39;}  #也就是找到你的账号对应的cookie
reg=re.compile(r&#39;&lt;a href=&quot;(.*?)&amp;amp;.*?class=&quot;next&quot;&gt;&#39;) #下一页
ren=re.compile(r&#39;&lt;span&gt;(.*?)&lt;/span&gt;.*?comment&quot;&gt;(.*?)&lt;/a&gt;.*?&lt;/span&gt;.*?&lt;span.*?class=&quot;&quot;&gt;(.*?)&lt;/a&gt;.*?&lt;span&gt;(.*?)&lt;/span&gt;.*?title=&quot;(.*?)&quot;&gt;&lt;/span&gt;.*?title=&quot;(.*?)&quot;&gt;.*?class=&quot;&quot;&gt; (.*?)\n&#39;,re.S)  #评论等内容
while html.status_code==200:
    url_next=&#39;https://movie.douban.com/subject/26363254/comments&#39;+re.findall(reg,html.text)[0]                             
    zhanlang=re.findall(ren,html.text)
    data=pd.DataFrame(zhanlang)
    data.to_csv(&#39;/home/wajuejiprince/文档/zhanlang/zhanlangpinglun.csv&#39;, header=False,index=False,mode=&#39;a+&#39;) #写入csv文件,&#39;a+&#39;是追加模式
    data=[]
    zhanlang=[]
    html=requests.get(url_next,cookies=cookies,headers=head)

# End www_512pic_com
</code></pre>
<p>以上代码注意设置你自己的 User-Agent，Cookie，CSV 保存路径等。</p>
<p>爬取的内容保存成 CSV 格式的文件，保存的文件内容如下:</p>
<h3>数据清洗</h3>
<p>本文用 R语言来处理数据，虽然在爬取的时候已经非常注意爬取内容的结构了，但是还是不可避免的有一些值不是我们想要的。</p>
<p>比如有的评论内容会出现在评论者这一项中，所以还是有必要进行一下数据的清洗。</p>
<p>首先加载要用到的所有包：</p>
<pre><code class="bash">
library(data.table)
library(plotly)
library(stringr)
library(jiebaR)
library(wordcloud2)
library(magrittr)

# End www_512pic_com
</code></pre>
<p></p>
<p>导入数据并清洗：</p>
<pre><code class="bash">
dt&lt;-fread(file.choose()) #导入数据
dt[,c(&quot;V8&quot;,&quot;V9&quot;,&quot;V10&quot;,&quot;V11&quot;,&quot;V12&quot;,&quot;V13&quot;):=NULL] #删除空列
#一条命令清洗数据
my_dt&lt;-dt[str_detect(赞成评论数,&quot;d+&quot;)][评论有用==&#39;有用&#39;][是否看过==&quot;看过&quot;][五星数%in%c(&quot;很差&quot;,&quot;较差&quot;,&quot;还行&quot;,&quot;推荐&quot;,&quot;力荐&quot;)]

# End www_512pic_com
</code></pre>
<h3>数据浅析</h3>
<p>先来看一看通过星星数评论的情况：</p>
<pre><code class="bash">
plot_ly(my_dt[,.(.N),by=.(五星数)],type = &#39;bar&#39;,x=~五星数,y=~N)

# End www_512pic_com
</code></pre>
<p><img src="https://www.idcnote.com/d/file/20181010/7189fbf80135bc92f13a3608150f3bd4.png" title="QQ20170904-190525.png" /></p>
<p>五角星的个数对应 5 个等级，5 颗星代表力荐，4 颗星代表推荐，3 颗星代表还行，2 颗星代表较差，1 颗星代表很差。</p>
<p>通过五角星的评论显而易见，我们有理由相信绝大部分观看者对这部影片持满意态度。</p>
<p>对评论结果的云图展示</p>
<p>首先我们应该先进行评论的分词：</p>
<pre><code class="python">
# @param 我用Python爬了12万条影评,告诉你《战狼》都在说些啥
# @author php教程|www.idcnote.com 

wk &lt;- worker()
sw&lt;-function(x){wk&lt;=x}
segwords&lt;-lapply(my_dt[,评论内容],sw)
my_segwords&lt;-unlist(segwords) #不要列表
#去除停止词
st&lt;-readLines(file.choose()) #读取停止词
stopwords&lt;-c(NULL)
for(i in 1:length(st))
{
  stopwords[i]&lt;-st[i]
}
seg_Words&lt;-filter_segment(my_segwords,stopwords)  #去除中文停止词

# End www_512pic_com
</code></pre>
<p>总体评论云图展示：</p>
<pre><code class="python">
# @param 我用Python爬了12万条影评,告诉你《战狼》都在说些啥
# @author php教程|www.idcnote.com 


words&lt;-table(seg_Words)%&gt;%data.table()
setnames(words,&quot;N&quot;,&quot;pinshu&quot;)
words[pinshu&gt;1000] #去除较低频数的词汇（小于1000的）
wordcloud2(words[pinshu&gt;1000], size = 2, fontFamily = &quot;微软雅黑&quot;,color = &quot;random-light&quot;, backgroundColor = &quot;grey&quot;)

# End www_512pic_com
</code></pre>
<p></p>
<p>由于数据太多，导致我的破电脑卡顿，所以在制作云图的时候去掉了频数低于 1000 的词汇。</p>
<p>云图结果如下：</p>
<p><img src="https://www.idcnote.com/d/file/20181010/29a92f0e1762d2148cc5f7942de411de.png" title="QQ20170904-190642.png" /></p>
<p>整体来看，大家对这不影片的评论还是不错呀！剧情，动作，爱国等话题是大家谈论的焦点。</p>
<p>评价关键词：吴京、个人英雄主义、主旋律、中国、主角光环、达康书记、很燃。</p>
<p>可见，&ldquo;燃&rdquo;并不是看完之后的最多反馈，观众更多是对吴京本人的赞叹，以及对爱国主义和个人主义的评价。</p>
<h3>不同评论等级的云图展示</h3>
<p>但是如果把不同评价的人的评论分别展示会是什么样子呢？也就是对五个等级（力荐，推荐，还行，较差，很差）的评论内容制作云图，代码如下（只要改变代码中力荐为其他即可）：</p>
<p></p>
<p>1. 力荐的评论人的评论云图</p>
<p><img src="https://www.idcnote.com/d/file/20181010/a3a9ca9c073ad617061db9693867149c.png" style="width: 900px; height: 439px;" title="QQ20170904-190759.png" /></p>
<p>2. 推荐的评论人的评论云图</p>
<p><img src="https://www.idcnote.com/d/file/20181010/7ed690217433357c1c94178c33d46e26.png" title="QQ20170904-190840.png" /></p>
<p>3. 还行的评论人的评论云图</p>
<p><img src="https://www.idcnote.com/d/file/20181010/94b4c9d446d9c0d6b619b978e52f748e.png" title="QQ20170904-190917.png" /></p>
<p>4. 较差的评论人的评论云图</p>
<p><img src="https://www.idcnote.com/d/file/20181010/81b1b1775f5e0f635ad1f7e8ef5b3509.png" title="QQ20170904-190956.png" /></p>
<p>5. 很差的评论人的评论云图</p>
<p><img src="https://www.idcnote.com/d/file/20181010/9d6c5b11ce9cbd2efd1bf680f1fe390c.png" title="QQ20170904-191023.png" /></p>
<h3>结论</h3>
<p>从不同的评论的分词结果来看，他们都有一个共同的话题：爱国。</p>
<p>在力荐的评论中可能爱国话题的基数比很差的评论中的多，在力荐的评论中人们更愿意讨论的是爱国话题之外的事情。在很差的评论中人们讨论的大多是爱国话题。而且他们占的比例很有意思，从力荐的人到评论很差的人，爱国话题的比例逐渐增加。</p>
<p>我们不能主观的认为谁对谁错，只能说他们站在的角度不一样，所以看到的结果也不太一样。当我们和别人意见不同时，往往是所处的角度不同。评论很差的人考虑的更多的是爱国的话题吧（这里只是爱国话题的讨论，并不是谁爱不爱国）！！</p>
<p>分析完了，这部《战狼2》之所以能获得这么多人的支持，根本原因还是在于从制作上实现了《战狼1》所没有的美国大片级大场面，同时在爱国主义上引起了共鸣，激起了民心。</p>

<p>注：关于Python爬12万条影评的简单示例的内容就先介绍到这里，更多相关文章的可以留意</span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/116606.html'>Python 选择转盘中某一个方框，来进行抽奖示例</a><a>下一篇</a><a href='/php/biji/116608.html'>Python FTP传输的解决办法</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>