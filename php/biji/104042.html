<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>PostgreSQL教程(四)：数据类型详解_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="一、数值类型：<br />
    下面是PostgreSQL所支持的数值类型的列表和简单说明：<br />
<br />
<br />
1. 整数类型：<br />
    类型smallint、integer和bigint存储各种范围的全部是数字的数，也就是没有小数部分" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li><li><a href="/php/phpbiji/108382.html"></a></li><li><a href="/php/phpbiji/108384.html"></a></li><li><a href="/php/phpbiji/108383.html"></a></li><li><a href="/php/phpbiji/108385.html"></a></li><li><a href="/php/phpbiji/108386.html"></a></li><li><a href="/php/phpbiji/108388.html"></a></li><li><a href="/php/phpbiji/108387.html"></a></li><li><a href="/php/phpbiji/108389.html"></a></li><li><a href="/php/phpbiji/108391.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">PostgreSQL教程(四)：数据类型详解</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>一、数值类型：<br />
    下面是PostgreSQL所支持的数值类型的列表和简单说明：<br />
<br />
<br />
1. 整数类型：<br />
    类型smallint、integer和bigint存储各种范围的全部是数字的数，也就是没有小数部分</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p><strong>一、数值类型：</strong></p>
<p>&nbsp;&nbsp;&nbsp; 下面是PostgreSQL所支持的数值类型的列表和简单说明：<br />
</p>
<p><strong>1. 整数类型：</strong></p>
<p>&nbsp;&nbsp;&nbsp; 类型smallint、integer和bigint存储各种范围的全部是数字的数，也就是没有小数部分的数字。试图存储超出范围以外的数值将导致一个错误。常用的类型是integer，因为它提供了在范围、存储空间和性能之间的最佳平衡。一般只有在磁盘空间紧张的时候才使用smallint。而只有在integer的范围不够的时候才使用bigint，因为前者(integer)绝对快得多。</p>
<p><strong>&nbsp;&nbsp;&nbsp; 2. 任意精度数值：</strong></p>
<p>&nbsp;&nbsp;&nbsp; 类型numeric可以存储最多1000位精度的数字并且准确地进行计算。因此非常适合用于货币金额和其它要求计算准确的数量。不过，numeric类型上的算术运算比整数类型或者浮点数类型要慢很多。<br />
&nbsp;&nbsp;&nbsp; numeric字段的最大精度和最大比例都是可以配置的。要声明一个类型为numeric的字段，你可以用下面的语法：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="38601" class="copybut" id="copybut38601" onclick="doCopy('code38601')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code38601"><br />
&nbsp;&nbsp;&nbsp; NUMERIC(precision,scale)<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 比如数字23.5141的精度为6，而刻度为4。<br />
&nbsp;&nbsp;&nbsp; 在目前的PostgreSQL版本中，decimal和numeric是等效的。<br />
&nbsp;&nbsp;&nbsp;&nbsp;<br />
<strong>&nbsp;&nbsp;&nbsp; 3. 浮点数类型：</strong></p>
<p>&nbsp;&nbsp;&nbsp; 数据类型real和double是不准确的、牺牲精度的数字类型。不准确意味着一些数值不能准确地转换成内部格式并且是以近似的形式存储的，因此存储后再把数据打印出来可能显示一些缺失。<br />
&nbsp;&nbsp;&nbsp;&nbsp;<br />
<strong>&nbsp;&nbsp; 4. Serial(序号)类型：<br />
</strong>&nbsp;&nbsp;&nbsp; serial和bigserial类型不是真正的类型，只是为在表中设置唯一标识做的概念上的便利。<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="30315" class="copybut" id="copybut30315" onclick="doCopy('code30315')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code30315"><br />
&nbsp;&nbsp;&nbsp; CREATE TABLE tablename (<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; colname SERIAL<br />
&nbsp;&nbsp;&nbsp; );<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 等价于<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="8289" class="copybut" id="copybut8289" onclick="doCopy('code8289')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code8289"><br />
&nbsp;&nbsp;&nbsp; CREATE SEQUENCE tablename_colname_seq;<br />
&nbsp;&nbsp;&nbsp; CREATE TABLE tablename(<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; colname integer DEFAULT nextval('tablename_colname_seq') NOT NULL<br />
&nbsp;&nbsp;&nbsp; );<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 这样，我们就创建了一个整数字段并且把它的缺省数值安排为从一个序列发生器取值。应用了一个NOT NULL约束以确保空值不会被插入。在大多数情况下你可能还希望附加一个UNIQUE或者PRIMARY KEY约束避免意外地插入重复的数值，但这个不是自动发生的。因此，如果你希望一个序列字段有一个唯一约束或者一个主键，那么你现在必须声明，就像其它数据类型一样。<br />
&nbsp;&nbsp;&nbsp; 还需要另外说明的是，一个serial类型创建的序列在其所属字段被删除时，该序列也将被自动删除，但是其它情况下是不会被删除的。因此，如果你想用同一个序列发生器同时给几个字段提供数据，那么就应该以独立对象的方式创建该序列发生器。</p>
<p><strong>二、字符类型：</strong></p>
<p>&nbsp;&nbsp;&nbsp; 下面是PostgreSQL所支持的字符类型的列表和简单说明：</p>
<p></p>
<p>SQL 定义了两种基本的字符类型，varchar(n)和char(n)，这里的n是一个正整数。两种类型都可以存储最多n个字符长的字串，试图存储更长的字串到这些类型的字段里会产生一个错误，除非超出长度的字符都是空白，这种情况下该字串将被截断为最大长度。如果没有长度声明，char等于char(1)，而varchar则可以接受任何长度的字串。<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="47810" class="copybut" id="copybut47810" onclick="doCopy('code47810')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code47810"><br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; CREATE TABLE testtable(first_col varchar(2));<br />
&nbsp;&nbsp;&nbsp; CREATE TABLE<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; INSERT INTO testtable VALUES('333');&nbsp;&nbsp; --插入字符串的长度，超过其字段定义的长度，因此报错。<br />
&nbsp;&nbsp;&nbsp; ERROR:&nbsp; value too long for type character varying(2)<br />
&nbsp;&nbsp;&nbsp; --插入字符串中，超出字段定义长度的部分是空格，因此可以插入，但是空白符被截断。<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; INSERT INTO testtable VALUES('33 ');&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; INSERT 0 1<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; SELECT * FROM testtable;<br />
&nbsp;&nbsp;&nbsp;&nbsp; first_col<br />
&nbsp;&nbsp;&nbsp; -----------<br />
&nbsp;&nbsp;&nbsp;&nbsp; 33<br />
&nbsp;&nbsp;&nbsp; (1 row)<br />
</div><br />
&nbsp;&nbsp;&nbsp; 这里需要注意的是，如果是将数值转换成char(n)或者varchar(n)，那么超长的数值将被截断成n个字符，而不会抛出错误。<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="29247" class="copybut" id="copybut29247" onclick="doCopy('code29247')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code29247"><br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; select 1234::varchar(2);<br />
&nbsp;&nbsp;&nbsp;&nbsp; varchar<br />
&nbsp;&nbsp;&nbsp; ---------<br />
&nbsp;&nbsp;&nbsp;&nbsp; 12<br />
&nbsp;&nbsp;&nbsp; (1 row)<br />
</div><br />
&nbsp;&nbsp;&nbsp; 最后需要提示的是，这三种类型之间没有性能差别，只不过是在使用char类型时增加了存储尺寸。虽然在某些其它的数据库系统里，char(n)有一定的性能优势，但在PostgreSQL里没有。在大多数情况下，应该使用text或者varchar。<br />
&nbsp;&nbsp;&nbsp; <br />
<strong>三、日期/时间类型：</strong></p>
<p>&nbsp;&nbsp;&nbsp; 下面是PostgreSQL所支持的日期/时间类型的列表和简单说明：<br />
</p>
<p><strong>1. 日期/时间输入:</strong><br />
&nbsp;&nbsp;&nbsp; 任何日期或者时间的文本输入均需要由单引号包围，就象一个文本字符串一样。<br />
&nbsp;&nbsp;&nbsp; 1). 日期:<br />
&nbsp;&nbsp;&nbsp; 以下为合法的日期格式列表：</p>
<p></p>
<p><strong>2). 时间：</strong><br />
&nbsp;&nbsp;&nbsp; 以下为合法的时间格式列表：</p>
<p></p>
<p><strong>3). 时间戳：</strong></p>
<p>&nbsp;&nbsp;&nbsp; 时间戳类型的有效输入由一个日期和时间的联接组成，后面跟着一个可选的时区。因此，1999-01-08 04:05:06和1999-01-08 04:05:06 -8:00都是有效的数值。<br />
&nbsp;&nbsp; <br />
&nbsp;&nbsp; 2. 示例：<br />
&nbsp;&nbsp;&nbsp; 1). 在插入数据之前先查看datestyle系统变量的值：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="11493" class="copybut" id="copybut11493" onclick="doCopy('code11493')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code11493"><br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; show datestyle;<br />
&nbsp;&nbsp;&nbsp;&nbsp; DateStyle<br />
&nbsp;&nbsp;&nbsp; -----------<br />
&nbsp;&nbsp;&nbsp;&nbsp; ISO, YMD<br />
&nbsp;&nbsp;&nbsp; (1 row)<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 2). 创建包含日期、时间和时间戳类型的示例表：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="38196" class="copybut" id="copybut38196" onclick="doCopy('code38196')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code38196"><br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; CREATE TABLE testtable (id integer, date_col date, time_col time, timestamp_col timestamp);<br />
&nbsp;&nbsp;&nbsp; CREATE TABLE<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 3). 插入数据：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="58086" class="copybut" id="copybut58086" onclick="doCopy('code58086')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code58086"><br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; INSERT INTO testtable(id,date_col) VALUES(1, DATE'01/02/03');&nbsp; --datestyle为YMD<br />
&nbsp;&nbsp;&nbsp; INSERT 0 1<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; SELECT id, date_col FROM testtable;<br />
&nbsp;&nbsp;&nbsp;&nbsp; id&nbsp;&nbsp; |&nbsp; date_col<br />
&nbsp;&nbsp;&nbsp; ----+------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp; | 2001-02-03<br />
&nbsp;&nbsp;&nbsp; (1 row)<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; set datestyle = MDY;<br />
&nbsp;&nbsp;&nbsp; SET<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; INSERT INTO testtable(id,date_col) VALUES(2, DATE'01/02/03');&nbsp; --datestyle为MDY<br />
&nbsp;&nbsp;&nbsp; INSERT 0 1<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; SELECT id,date_col FROM testtable;<br />
&nbsp;&nbsp;&nbsp;&nbsp; id&nbsp;&nbsp; |&nbsp; date_col<br />
&nbsp;&nbsp;&nbsp; ----+------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp; | 2001-02-03<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp; | 2003-01-02&nbsp;</p>
<p>&nbsp;&nbsp;&nbsp; MyTest=&gt; INSERT INTO testtable(id,time_col) VALUES(3, TIME'10:20:00');&nbsp; --插入时间。<br />
&nbsp;&nbsp;&nbsp; INSERT 0 1<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; SELECT id,time_col FROM testtable WHERE time_col IS NOT NULL;<br />
&nbsp;&nbsp;&nbsp;&nbsp; id&nbsp;&nbsp; | time_col<br />
&nbsp;&nbsp;&nbsp; ----+----------<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3&nbsp;&nbsp; | 10:20:00<br />
&nbsp;&nbsp;&nbsp; (1 row)</p>
<p>&nbsp;&nbsp;&nbsp; MyTest=&gt; INSERT INTO testtable(id,timestamp_col) VALUES(4, DATE'01/02/03'); <br />
&nbsp;&nbsp;&nbsp; INSERT 0 1<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; INSERT INTO testtable(id,timestamp_col) VALUES(5, TIMESTAMP'01/02/03 10:20:00');<br />
&nbsp;&nbsp;&nbsp; INSERT 0 1<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; SELECT id,timestamp_col FROM testtable WHERE timestamp_col IS NOT NULL;<br />
&nbsp;&nbsp;&nbsp;&nbsp; id&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp; timestamp_col<br />
&nbsp;&nbsp;&nbsp; ----+---------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4&nbsp; | 2003-01-02 00:00:00<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5&nbsp; | 2003-01-02 10:20:00<br />
&nbsp;&nbsp;&nbsp; (2 rows)<br />
&nbsp;</div></p>
<p><strong>四、布尔类型：</strong></p>
<p>&nbsp;&nbsp;&nbsp; PostgreSQL支持标准的SQL boolean数据类型。boolean只能有两个状态之一：真(True)或 假(False)。该类型占用1个字节。<br />
&nbsp;&nbsp;&nbsp; "真"值的有效文本值是：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="24974" class="copybut" id="copybut24974" onclick="doCopy('code24974')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code24974"><br />
&nbsp;&nbsp;&nbsp; TRUE<br />
&nbsp;&nbsp;&nbsp; 't'<br />
&nbsp;&nbsp;&nbsp; 'true'<br />
&nbsp;&nbsp;&nbsp; 'y'<br />
&nbsp;&nbsp;&nbsp; 'yes'<br />
&nbsp;&nbsp;&nbsp; '1'<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 而对于"假"而言，你可以使用下面这些：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="24311" class="copybut" id="copybut24311" onclick="doCopy('code24311')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code24311"><br />
&nbsp;&nbsp;&nbsp; FALSE<br />
&nbsp;&nbsp;&nbsp; 'f'<br />
&nbsp;&nbsp;&nbsp; 'false'<br />
&nbsp;&nbsp;&nbsp; 'n'<br />
&nbsp;&nbsp;&nbsp; 'no'<br />
&nbsp;&nbsp;&nbsp; '0'<br />
&nbsp;</div><br />
　 见如下使用方式：<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="99744" class="copybut" id="copybut99744" onclick="doCopy('code99744')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code99744"><br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; CREATE TABLE testtable (a boolean, b text);<br />
&nbsp;&nbsp;&nbsp; CREATE TABLE<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; INSERT INTO testtable VALUES(TRUE, 'sic est');<br />
&nbsp;&nbsp;&nbsp; INSERT 0 1<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; INSERT INTO testtable VALUES(FALSE, 'non est');<br />
&nbsp;&nbsp;&nbsp; INSERT 0 1<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; SELECT * FROM testtable;<br />
&nbsp;&nbsp;&nbsp;&nbsp; a&nbsp; |&nbsp;&nbsp;&nbsp; b<br />
&nbsp;&nbsp;&nbsp; ---+---------<br />
&nbsp;&nbsp;&nbsp;&nbsp; t&nbsp; | sic est<br />
&nbsp;&nbsp;&nbsp;&nbsp; f&nbsp; | non est<br />
&nbsp;&nbsp;&nbsp; (2 rows)&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; SELECT * FROM testtable WHERE a;<br />
&nbsp;&nbsp;&nbsp;&nbsp; a&nbsp; |&nbsp;&nbsp;&nbsp; b<br />
&nbsp;&nbsp;&nbsp; ---+---------<br />
&nbsp;&nbsp;&nbsp;&nbsp; t&nbsp; | sic est<br />
&nbsp;&nbsp;&nbsp; (1 row)&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; SELECT * FROM testtable WHERE a = true;<br />
&nbsp;&nbsp;&nbsp;&nbsp; a&nbsp; |&nbsp;&nbsp;&nbsp; b<br />
&nbsp;&nbsp;&nbsp; ---+---------<br />
&nbsp;&nbsp;&nbsp;&nbsp; t&nbsp; | sic est<br />
&nbsp;&nbsp;&nbsp; (1 row)<br />
&nbsp;</div>&nbsp;&nbsp; <br />
<strong>五、位串类型：</strong></p>
<p>&nbsp;&nbsp;&nbsp; 位串就是一串1和0的字串。它们可以用于存储和视觉化位掩码。我们有两种类型的SQL位类型：bit(n)和bit varying(n); 这里的n是一个正整数。bit类型的数据必须准确匹配长度n; 试图存储短些或者长一些的数据都是错误的。类型bit varying数据是最长n的变长类型；更长的串会被拒绝。写一个没有长度的bit等效于bit(1)，没有长度的bit varying相当于没有长度限制。<br />
&nbsp;&nbsp;&nbsp; 针对该类型，最后需要提醒的是，如果我们明确地把一个位串值转换成bit(n)，那么它的右边将被截断或者在右边补齐零，直到刚好n位，而不会抛出任何错误。类似地，如果我们明确地把一个位串数值转换成bit varying(n)，如果它超过n位，那么它的右边将被截断。 见如下具体使用方式：&nbsp;&nbsp;&nbsp; <br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="73445" class="copybut" id="copybut73445" onclick="doCopy('code73445')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code73445"><br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; CREATE TABLE testtable (a bit(3), b bit varying(5));<br />
&nbsp;&nbsp;&nbsp; CREATE TABLE<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; INSERT INTO testtable VALUES (B'101', B'00');<br />
&nbsp;&nbsp;&nbsp; INSERT 0 1<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; INSERT INTO testtable VALUES (B'10', B'101');<br />
&nbsp;&nbsp;&nbsp; ERROR:&nbsp; bit string length 2 does not match type bit(3)<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; INSERT INTO testtable VALUES (B'10'::bit(3), B'101');<br />
&nbsp;&nbsp;&nbsp; INSERT 0 1<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; SELECT * FROM testtable;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a&nbsp; |&nbsp; b<br />
&nbsp;&nbsp;&nbsp; -----+-----<br />
&nbsp;&nbsp;&nbsp;&nbsp; 101 | 00<br />
&nbsp;&nbsp;&nbsp;&nbsp; 100 | 101<br />
&nbsp;&nbsp;&nbsp; (2 rows)<br />
&nbsp;&nbsp;&nbsp; MyTest=&gt; SELECT B'11'::bit(3);<br />
&nbsp;&nbsp;&nbsp;&nbsp; bit<br />
&nbsp;&nbsp;&nbsp; -----<br />
&nbsp;&nbsp;&nbsp;&nbsp; 110<br />
&nbsp;&nbsp;&nbsp; (1 row)</p>
<p></div></p>
<p><strong>六、数组：</strong></p>
<p>&nbsp;&nbsp;&nbsp; 1. 数组类型声明：<br />
&nbsp;&nbsp;&nbsp; 1). 创建字段含有数组类型的表。<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="25783" class="copybut" id="copybut25783" onclick="doCopy('code25783')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code25783"><br />
&nbsp;&nbsp;&nbsp; CREATE TABLE sal_emp (<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pay_by_quarter&nbsp; integer[] --还可以定义为integer[4]或integer ARRAY[4]<br />
&nbsp;&nbsp;&nbsp; );<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 2). 插入数组数据：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="68768" class="copybut" id="copybut68768" onclick="doCopy('code68768')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code68768"><br />
&nbsp;&nbsp;&nbsp; MyTest=# INSERT INTO sal_emp VALUES ('Bill', '{11000, 12000, 13000, 14000}');<br />
&nbsp;&nbsp;&nbsp; INSERT 0 1<br />
&nbsp;&nbsp;&nbsp; MyTest=# INSERT INTO sal_emp VALUES ('Carol', ARRAY[21000, 22000, 23000, 24000]);<br />
&nbsp;&nbsp;&nbsp; INSERT 0 1<br />
&nbsp;&nbsp;&nbsp; MyTest=# SELECT * FROM sal_emp;<br />
&nbsp;&nbsp;&nbsp;&nbsp; name&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pay_by_quarter<br />
&nbsp;&nbsp;&nbsp; --------+---------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp; Bill&nbsp;&nbsp;&nbsp;&nbsp; | {11000,12000,13000,14000}<br />
&nbsp;&nbsp;&nbsp;&nbsp; Carol&nbsp; | {21000,22000,23000,24000}<br />
&nbsp;&nbsp;&nbsp; (2 rows)&nbsp;&nbsp;&nbsp; <br />
</div><br />
&nbsp;&nbsp;&nbsp; 2. 访问数组：<br />
&nbsp;&nbsp;&nbsp; 和其他语言一样，PostgreSQL中数组也是通过下标数字(写在方括弧内)的方式进行访问，只是PostgreSQL中数组元素的下标是从1开始n结束。<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="92930" class="copybut" id="copybut92930" onclick="doCopy('code92930')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code92930"><br />
&nbsp;&nbsp;&nbsp; MyTest=# SELECT pay_by_quarter[3] FROM sal_emp;<br />
&nbsp;&nbsp;&nbsp;&nbsp; pay_by_quarter<br />
&nbsp;&nbsp;&nbsp; ----------------<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 13000<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 23000<br />
&nbsp;&nbsp;&nbsp; (2 rows)<br />
&nbsp;&nbsp;&nbsp; MyTest=# SELECT name FROM sal_emp WHERE pay_by_quarter[1] &lt;&gt; pay_by_quarter[2];<br />
&nbsp;&nbsp;&nbsp;&nbsp; name<br />
&nbsp;&nbsp;&nbsp; ------<br />
&nbsp;&nbsp;&nbsp;&nbsp; Bill<br />
&nbsp;&nbsp;&nbsp;&nbsp; Carol<br />
&nbsp;&nbsp;&nbsp; (2 rows)<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; PostgreSQL中还提供了访问数组范围的功能，即ARRAY[脚标下界:脚标上界]。<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="20443" class="copybut" id="copybut20443" onclick="doCopy('code20443')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code20443"><br />
&nbsp;&nbsp;&nbsp; MyTest=# SELECT name,pay_by_quarter[1:3] FROM sal_emp;<br />
&nbsp;&nbsp;&nbsp;&nbsp; name&nbsp; |&nbsp;&nbsp; pay_by_quarter<br />
&nbsp;&nbsp;&nbsp; --------+---------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp; Bill&nbsp;&nbsp;&nbsp;&nbsp; | {11000,12000,13000}<br />
&nbsp;&nbsp;&nbsp;&nbsp; Carol&nbsp; | {21000,22000,23000}<br />
&nbsp;&nbsp;&nbsp; (2 rows)<br />
&nbsp;&nbsp;&nbsp; </div><br />
&nbsp;&nbsp;&nbsp; 3. 修改数组：<br />
&nbsp;&nbsp;&nbsp; 1). 代替全部数组值：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="84790" class="copybut" id="copybut84790" onclick="doCopy('code84790')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code84790"><br />
&nbsp;&nbsp;&nbsp; --UPDATE sal_emp SET pay_by_quarter = ARRAY[25000,25000,27000,27000] WHERE name = 'Carol'; 也可以。<br />
&nbsp;&nbsp;&nbsp; MyTest=# UPDATE sal_emp SET pay_by_quarter = '{31000,32000,33000,34000}' WHERE name = 'Carol';<br />
&nbsp;&nbsp;&nbsp; UPDATE 1<br />
&nbsp;&nbsp;&nbsp; MyTest=# SELECT * FROM sal_emp;<br />
&nbsp;&nbsp;&nbsp;&nbsp; name&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pay_by_quarter<br />
&nbsp;&nbsp;&nbsp; --------+---------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp; Bill&nbsp;&nbsp;&nbsp;&nbsp; | {11000,12000,13000,14000}<br />
&nbsp;&nbsp;&nbsp;&nbsp; Carol&nbsp; | {31000,32000,33000,34000}<br />
&nbsp;&nbsp;&nbsp; (2 rows)<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 2). 更新数组中某一元素：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="18306" class="copybut" id="copybut18306" onclick="doCopy('code18306')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code18306"><br />
&nbsp;&nbsp;&nbsp; MyTest=# UPDATE sal_emp SET pay_by_quarter[4] = 15000 WHERE name = 'Bill';<br />
&nbsp;&nbsp;&nbsp; UPDATE 1<br />
&nbsp;&nbsp;&nbsp; MyTest=# SELECT * FROM sal_emp;<br />
&nbsp;&nbsp;&nbsp;&nbsp; name&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pay_by_quarter<br />
&nbsp;&nbsp;&nbsp; --------+---------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp; Carol&nbsp; | {31000,32000,33000,34000}<br />
&nbsp;&nbsp;&nbsp;&nbsp; Bill&nbsp;&nbsp;&nbsp;&nbsp; | {11000,12000,13000,15000}<br />
&nbsp;&nbsp;&nbsp; (2 rows)<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 3). 更新数组某一范围的元素：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="91198" class="copybut" id="copybut91198" onclick="doCopy('code91198')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code91198"><br />
&nbsp;&nbsp;&nbsp; MyTest=# UPDATE sal_emp SET pay_by_quarter[1:2] = '{37000,37000}' WHERE name = 'Carol';<br />
&nbsp;&nbsp;&nbsp; UPDATE 1<br />
&nbsp;&nbsp;&nbsp; MyTest=# SELECT * FROM sal_emp;<br />
&nbsp;&nbsp;&nbsp;&nbsp; name&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pay_by_quarter<br />
&nbsp;&nbsp;&nbsp; --------+---------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp; Bill&nbsp;&nbsp;&nbsp;&nbsp; | {11000,12000,13000,15000}<br />
&nbsp;&nbsp;&nbsp;&nbsp; Carol&nbsp; | {37000,37000,33000,34000}<br />
&nbsp;&nbsp;&nbsp; (2 rows)<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 4). 直接赋值扩大数组：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="99080" class="copybut" id="copybut99080" onclick="doCopy('code99080')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code99080"><br />
&nbsp;&nbsp;&nbsp; MyTest=# UPDATE sal_emp SET pay_by_quarter[5] = 45000 WHERE name = 'Bill';<br />
&nbsp;&nbsp;&nbsp; UPDATE 1<br />
&nbsp;&nbsp;&nbsp; MyTest=# SELECT * FROM sal_emp;<br />
&nbsp;&nbsp;&nbsp;&nbsp; name&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pay_by_quarter<br />
&nbsp;&nbsp;&nbsp; --------+---------------------------------<br />
&nbsp;&nbsp;&nbsp;&nbsp; Carol&nbsp; | {37000,37000,33000,34000}<br />
&nbsp;&nbsp;&nbsp;&nbsp; Bill&nbsp;&nbsp;&nbsp;&nbsp; | {11000,12000,13000,15000,45000}<br />
&nbsp;&nbsp;&nbsp; (2 rows)<br />
</div><br />
&nbsp;&nbsp;&nbsp; 4. 在数组中检索：<br />
&nbsp;&nbsp;&nbsp; 1). 最简单直接的方法：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="48878" class="copybut" id="copybut48878" onclick="doCopy('code48878')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code48878"><br />
&nbsp;&nbsp;&nbsp; SELECT * FROM sal_emp WHERE pay_by_quarter[1] = 10000 OR<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pay_by_quarter[2] = 10000 OR<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pay_by_quarter[3] = 10000 OR<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; pay_by_quarter[4] = 10000;&nbsp;&nbsp;&nbsp; <br />
</div><br />
&nbsp;&nbsp;&nbsp; 2). 更加有效的方法：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="26042" class="copybut" id="copybut26042" onclick="doCopy('code26042')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code26042"><br />
&nbsp;&nbsp;&nbsp; SELECT * FROM sal_emp WHERE 10000 = ANY (pay_by_quarter); --数组元素中有任何一个等于10000，where条件将成立。<br />
&nbsp;&nbsp;&nbsp; SELECT * FROM sal_emp WHERE 10000 = ALL (pay_by_quarter); --只有当数组中所有的元素都等于10000时，where条件才成立。<br />
</div></p>
<p><strong>七、复合类型：</strong></p>
<p>&nbsp;&nbsp;&nbsp; PostgreSQL中复合类型有些类似于C语言中的结构体，也可以被视为Oracle中的记录类型，但是还是感觉复合类型这个命名比较贴切。它实际上只是一个字段名和它们的数据类型的列表。PostgreSQL允许像简单数据类型那样使用复合类型。比如，表字段可以声明为一个复合类型。</p>
<p>&nbsp;&nbsp;&nbsp; 1. 声明复合类型:</p>
<p>&nbsp;&nbsp;&nbsp; 下面是两个简单的声明示例：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="21106" class="copybut" id="copybut21106" onclick="doCopy('code21106')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code21106"><br />
&nbsp;&nbsp;&nbsp; CREATE TYPE complex AS (<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; r double,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i double<br />
&nbsp;&nbsp;&nbsp; );&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; CREATE TYPE inventory_item AS (<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; text,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; supplier_id&nbsp;&nbsp; integer,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; price&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; numeric<br />
&nbsp;&nbsp;&nbsp; );<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 和声明一个数据表相比，声明类型时需要加AS关键字，同时在声明TYPE时不能定义任何约束。下面我们看一下如何在表中指定复合类型的字段，如：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="9357" class="copybut" id="copybut9357" onclick="doCopy('code9357')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code9357"><br />
&nbsp;&nbsp;&nbsp; CREATE TABLE on_hand (<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; item&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; inventory_item,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; count&nbsp;&nbsp;&nbsp; integer<br />
&nbsp;&nbsp;&nbsp; );<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 最后需要指出的是，在创建表的时候，PostgreSQL也会自动创建一个与该表对应的复合类型，名字与表字相同，即表示该表的复合类型。<br />
&nbsp;&nbsp;&nbsp; <br />
&nbsp;&nbsp;&nbsp; 2. 复合类型值输入：<br />
&nbsp;&nbsp;&nbsp; 我们可以使用文本常量的方式表示复合类型值，即在圆括号里包围字段值并且用逗号分隔它们。你也可以将任何字段值用双引号括起，如果值本身包含逗号或者圆括号，那么就用双引号括起，对于上面的inventory_item复合类型的输入如下：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="44605" class="copybut" id="copybut44605" onclick="doCopy('code44605')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code44605"><br />
&nbsp;&nbsp;&nbsp; '("fuzzy dice",42,1.99)'<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 如果希望类型中的某个字段为NULL，只需在其对应的位置不予输入即可，如下面的输入中price字段的值为NULL，<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="38860" class="copybut" id="copybut38860" onclick="doCopy('code38860')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code38860"><br />
&nbsp;&nbsp;&nbsp; '("fuzzy dice",42,)'<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 如果只是需要一个空字串，而非NULL，写一对双引号，如：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="35769" class="copybut" id="copybut35769" onclick="doCopy('code35769')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code35769"><br />
&nbsp;&nbsp;&nbsp; '("",42,)'<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 在更多的场合中PostgreSQL推荐使用ROW表达式来构建复合类型值，使用该种方式相对简单，无需考虑更多标识字符问题，如：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="77831" class="copybut" id="copybut77831" onclick="doCopy('code77831')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code77831"><br />
&nbsp;&nbsp;&nbsp; ROW('fuzzy dice', 42, 1.99)<br />
&nbsp;&nbsp;&nbsp; ROW('', 42, NULL)<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 注：对于ROW表达式，如果里面的字段数量超过1个，那么关键字ROW就可以省略，因此以上形式可以简化为：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="25088" class="copybut" id="copybut25088" onclick="doCopy('code25088')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code25088"><br />
&nbsp;&nbsp;&nbsp; ('fuzzy dice', 42, 1.99)<br />
&nbsp;&nbsp;&nbsp; ('', 42, NULL)<br />
&nbsp;&nbsp;&nbsp; </div><br />
&nbsp;&nbsp;&nbsp; 3. 访问复合类型：<br />
&nbsp;&nbsp;&nbsp; 访问复合类型中的字段和访问数据表中的字段在形式上极为相似，只是为了对二者加以区分，PostgreSQL设定在访问复合类型中的字段时，类型部分需要用圆括号括起，以避免混淆，如：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="36433" class="copybut" id="copybut36433" onclick="doCopy('code36433')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code36433"><br />
&nbsp;&nbsp;&nbsp; SELECT (item).name FROM on_hand WHERE (item).price &gt; 9.99;<br />
&nbsp;</div><br />
&nbsp;&nbsp;&nbsp; 如果在查询中也需要用到表名，那么表名和类型名都需要被圆括号括起，如：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="28956" class="copybut" id="copybut28956" onclick="doCopy('code28956')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code28956"><br />
&nbsp;&nbsp;&nbsp; SELECT (on_hand.item).name FROM on_hand WHERE (on_hand.item).price &gt; 9.99;<br />
&nbsp;&nbsp;&nbsp; </div><br />
&nbsp;&nbsp;&nbsp; 4. 修改复合类型：<br />
&nbsp;&nbsp;&nbsp; 见如下几个示例：<br />
&nbsp;<div class="codetitle"><span><a style="CURSOR: pointer" data="51387" class="copybut" id="copybut51387" onclick="doCopy('code51387')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code51387"><br />
&nbsp;&nbsp;&nbsp; --直接插入复合类型的数据，这里是通过ROW表达式来完成的。<br />
&nbsp;&nbsp;&nbsp; INSERT INTO on_hand(item) VALUES(ROW("fuzzy dice",42,1.99));<br />
&nbsp;&nbsp;&nbsp; --在更新操作中，也是可以通过ROW表达式来完成。<br />
&nbsp;&nbsp;&nbsp; UPDATE on_hand SET item = ROW("fuzzy dice",42,1.99) WHERE count = 0;<br />
&nbsp;&nbsp;&nbsp; --在更新复合类型中的一个字段时，我们不能在SET后面出现的字段名周围加圆括号，<br />
&nbsp;&nbsp;&nbsp; --但是在等号右边的表达式里引用同一个字段时却需要圆括号。<br />
&nbsp;&nbsp;&nbsp; UPDATE on_hand SET item.price = (item).price + 1 WHERE count = 0;<br />
&nbsp;&nbsp;&nbsp; --可以在插入中，直接插入复合类型中字段。<br />
&nbsp;&nbsp;&nbsp; INSERT INTO on_hand (item.supplier_id, item.price) VALUES(100, 2.2);<br />
&nbsp; </div></p>
<p>&nbsp;&nbsp;&nbsp; 该篇博客是对PostgreSQL官方文档中“数据类型”章节的简单归纳，这里之所以用一篇独立的博客来专门介绍，不仅是为了系统学习，也便于今后需要时的快速查阅。</p>
<hr></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/104041.html'>window.location不跳转的问题解决方法</a><a>下一篇</a><a href='/php/biji/104043.html'>JS操作HTML自定义属性的方法</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>