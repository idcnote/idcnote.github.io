<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>vue构建单页面应用实战_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="这篇文章主要为大家详细介绍了vue构建单页面应用实战，具有一定的参考价值，可以用来参考一下。<br />
<br />
对此感兴趣的朋友，看看idc笔记做的技术笔记！<br />
1. 为什么要 SPA？<br />
SPA： 就是俗称的单" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li><li><a href="/php/phpbiji/108382.html"></a></li><li><a href="/php/phpbiji/108384.html"></a></li><li><a href="/php/phpbiji/108383.html"></a></li><li><a href="/php/phpbiji/108385.html"></a></li><li><a href="/php/phpbiji/108386.html"></a></li><li><a href="/php/phpbiji/108388.html"></a></li><li><a href="/php/phpbiji/108387.html"></a></li><li><a href="/php/phpbiji/108389.html"></a></li><li><a href="/php/phpbiji/108391.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">vue构建单页面应用实战</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>这篇文章主要为大家详细介绍了vue构建单页面应用实战，具有一定的参考价值，可以用来参考一下。<br />
<br />
对此感兴趣的朋友，看看idc笔记做的技术笔记！<br />
1. 为什么要 SPA？<br />
SPA： 就是俗称的单</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p>这篇文章主要为大家详细介绍了vue构建单页面应用实战，具有一定的参考价值，可以用来参考一下。</p>

<p>对此感兴趣的朋友，看看idc笔记做的技术笔记！</p>
<h3>1. 为什么要 SPA？</h3>
<p>SPA： 就是俗称的单页应用（Single Page Web Application）。</p>
<p>在移动端，特别是 hybrid 方式的H5应用中，性能问题一直是痛点。 使用 SPA，没有页面切换，就没有白屏阻塞，可以大大提高 H5 的性能，达到接近原生的流畅体验。</p>
<h3>2. 为什么选择 vue？</h3>
<p>在选择 vue 之前，使用 reactjs 也做过一个小 Demo，虽然两者都是面向组件的开发思路，但是 reactjs 的全家桶方式，实在太过强势，而自己定义的 JSX 规范，揉和在 JS 的组件框架里，导致如果后期发生页面改版工作，工作量将会巨大。</p>
<p>vue 相对来说，就轻量的多，他的view层，还是原来的 dom 结构，除了一些自定义的 vue 指令作为自定义标签以外，只要学会写组件就可以了，学习成本也比较低。</p>
<p><img alt="" src="//files.512pic.com/file_images/article/201704/2017041014020725.png" /></p>
<h3>3. 环境配置</h3>
<p>初始化工程，需要 node 环境使用 npm 安装相应的依赖包。</p>
<p>先创建一个测试目录，在里面依次输入以下命令。</p>
<p>代码如下：</p>
<pre>
<code>
//初始化package.json
npm init

//安装vue的依赖
npm install vue --save
npm install vue-router --save

//安装webpack的开发依赖
npm install webpack --save-dev

//安装babel的ES6 Loader 的开发依赖
npm install babel --save-dev
npm install babel-core --save-dev
npm install babel-loader --save-dev
npm install babel-preset-es2015 --save-dev

//安装html loacer 的开发依赖
npm install html-loader --save-dev

</code></pre>
<h3>4. 目录结构</h3>
<p>src 为开发目录，其中 components 为组件子目录，templates 为模板子目录。</p>
<p>dist 为构建出的文件目录。</p>
<p>index.html 为入口文件。</p>
<p>package.json 为项目描述文件，是刚才 npm init 所建立。</p>
<p>webpack.config.js 是 webpack 的构建配置文件</p>
<p><img alt="" src="//files.512pic.com/file_images/article/201704/2017041014020726.png" /></p>
<h3>5. Webpack 配置</h3>
<p>下面是 webpack 的配置文件，如何使用 webpack，请移步 webpack 的官网。</p>
<p>代码如下：</p>
<pre>
<code>
var webpack= require("webpack");

module.exports={
 entry:{
 bundle:[ "./src/app.js"]
 },
 output:{
 path:__dirname,
 publicPath:"/",
 filename:"dist/[name].js"
 },
 module:{
 loaders:[
   {test: /\.html$/, loaders: ['html']},
  {test: /(\.js)$/, loader:["babel"] ,exclude:/node_modules/, 
  query:{
   presets:["es2015"]
  }
   }
 ]
 },
 resolve:{
 },
 plugins:[
  /* 
  new webpack.optimize.UglifyJsPlugin({
  compress: {
  warnings: false
  }
 })
        */
 ]
}
</code></pre>
<h3>6. 入口文件</h3>
<p>index.html</p>
<p>代码如下：</p>
<pre>
<code>
&lt;!doctype html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
  &lt;meta charset="UTF-8"&gt;
  &lt;title&gt;Vue Router Demo&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div id="app"&gt;
   &lt;router-view&gt;&lt;/router-view&gt;
  &lt;/div&gt;
  &lt;script src="dist/bundle.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>其中 id 为 app 的 div 是页面容器，其中的 router-view 会由 vue-router 去渲染组件，讲结果挂载到这个 div 上。</p>
<p>app.js</p>
<p>代码如下：</p>
<pre>
<code>
var Vue = require('vue');
var VueRouter = require('vue-router');

Vue.use(VueRouter);
Vue.config.debug = true;
Vue.config.delimiters = ['${', '}']; // 把默认的{{ }} 改成ES6的模板字符串 ${ }
Vue.config.devtools = true;

var App = Vue.extend({});
var router = new VueRouter({});

router.map(require('./routes'));
router.start(App, '#app');
router.go({"path":"/"});

</code></pre>
<p>这是 vue 路由的配置。 其中由于习惯问题，我把 vue 默认的{{ }} 改成了的 ${ } ,总感觉这样看模板，才顺眼一些。</p>
<p>routes.js</p>
<p>代码如下：</p>
<pre>
<code>
module.exports = {
 '/': {
  component: require('./components/index')
 },
  '/list': {
  component: require('./components/list')
 },
 '*': {
  component: require('./components/notFound')
 }
}
</code></pre>
<h3>7. 第一个组件</h3>
<p>components/index.js</p>
<p>代码如下：</p>
<pre>
<code>
module.exports = {
 template: require('../templates/index.html'),

 ready: function () {
 }
};

</code></pre>
<p>templates/index.html</p>
<p>代码如下：</p>
<pre>
<code>
&lt;h1&gt;Index&lt;/h1&gt;
&lt;hr/&gt;
&lt;p&gt;Hello World Index!&lt;/p&gt;</code></pre>
<p>执行 webpack 构建命令</p>
<p><img alt="" src="//files.512pic.com/file_images/article/201704/2017041014020727.jpg" /></p>
<p>浏览器中访问：</p>
<p><img alt="" src="//files.512pic.com/file_images/article/201704/2017041014020728.png" /></p>
<p>查看 bundle 源码：</p>
<p><img alt="" src="//files.512pic.com/file_images/article/201704/2017041014020729.jpg" /></p>
<p>发现 template 模板文件，已经被 webpack 打成字符串了。这其中，其实是 webpack 的 html-loader 起的作用</p>
<h3>8. 组件之间跳转</h3>
<p>修改刚才的 index 组件，增加一个跳转链接，不用 href 了，要用 vue 的指令 v-link。</p>
<p>代码如下：</p>
<pre>
<code>
&lt;h1&gt;Index&lt;/h1&gt;
&lt;hr/&gt;
&lt;p&gt;Hello World Index!&lt;/p&gt;
&lt;p&gt;&lt;a v-link="{path:'/list'}" &gt;List Page&lt;/a&gt;&lt;/p&gt;</code></pre>
<p>添加 list 组件</p>
<p>components/list.js</p>
<p>代码如下：</p>
<pre>
<code>
module.exports = {
 template: require('../templates/list.html'),

 data:function(){
  return {items:[{"id":1,"name":"hello11"},{"id":2,"name":"hello22"}]};
 },
 ready: function () {
 }
};

</code></pre>
<p>templates/list.html</p>
<p>代码如下：</p>
<pre>
<code>
&lt;h1&gt;List&lt;/h1&gt;
&lt;hr/&gt;

&lt;p&gt;Hello List Page!&lt;/p&gt;
&lt;ul&gt;
 &lt;li v-for="(index,item) in items"&gt;
   ${item.id} : ${item.name}
 &lt;/li&gt;
&lt;/ul&gt;

</code></pre>
<p>v-for 也是 vue 的默认指令，是用来循环数据列表的。</p>
<p>现在开始执行 webpack --watch 命令进行监听，这样就不用每次敲 webpack 命令了。只要开发者每次修改 js 点了保存，webpack 都会自动构建最新的 bundle 文件。</p>
<p><img alt="" src="//files.512pic.com/file_images/article/201704/2017041014020730.png" /></p>
<p>浏览器里试试看：</p>
<p>index 页</p>
<p><img alt="" src="//files.512pic.com/file_images/article/201704/2017041014020831.png" /></p>
<p>点击 List Page 跳转到 list 页</p>
<p><img alt="" src="//files.512pic.com/file_images/article/201704/2017041014020832.png" /></p>
<p>Bingo！ 单页面两个组件之间跳转切换成功！</p>
<h3>9. 组件生命周期</h3>
<p>修改 **componets/list.js **</p>
<p>代码如下：</p>
<pre>
<code>
module.exports = {
 template: require('../templates/list.html'),

 data:function(){
  return {items:[{"id":1,"name":"hello11"},{"id":2,"name":"hello22"}]};
 },
 
 //在实例开始初始化时同步调用。此时数据观测、事件和 watcher 都尚未初始化
 init:function(){
  console.log("init..");
 },

 //在实例创建之后同步调用。此时实例已经结束解析选项，这意味着已建立：数据绑定，计算属性，方法，watcher/事件回调。但是还没有开始 DOM 编译，$el 还不存在。
 created:function(){
  console.log("created..");
 },

 //在编译开始前调用。
 beforeCompile:function(){
  console.log("beforeCompile..");
 },

 //在编译结束后调用。此时所有的指令已生效，因而数据的变化将触发 DOM 更新。但是不担保 $el 已插入文档。
 compiled:function(){
  console.log("compiled..");
 },

  //在编译结束和 $el 第一次插入文档之后调用，如在第一次 attached 钩子之后调用。注意必须是由 Vue 插入（如 vm.$appendTo() 等方法或指令更新）才触发 ready 钩子。
 ready: function () {
  console.log("ready..");

 },

 //在 vm.$el 插入 DOM 时调用。必须是由指令或实例方法（如 $appendTo()）插入，直接操作 vm.$el 不会 触发这个钩子。
 attached:function(){
  console.log("attached..");
 },

 //在 vm.$el 从 DOM 中删除时调用。必须是由指令或实例方法删除，直接操作 vm.$el 不会 触发这个钩子。
 detached:function(){
  console.log("detached..");
 },

 //在开始销毁实例时调用。此时实例仍然有功能。
 beforeDestroy:function(){
  console.log("beforeDestroy..");
 },

 //在实例被销毁之后调用。此时所有的绑定和实例的指令已经解绑，所有的子实例也已经被销毁。如果有离开过渡，destroyed 钩子在过渡完成之后调用。
 destroyed:function(){
  console.log("destroyed..");
 }

};

</code></pre>
<p>在浏览器里执行了看看：</p>
<p>首次进入 List 页面的执行顺序如下：</p>
<p><img alt="" src="//files.512pic.com/file_images/article/201704/2017041014020833.jpg" /></p>
<p>此时点一下浏览器的后退，List Component 会被销毁，执行顺序如下：</p>
<p><img alt="" src="//files.512pic.com/file_images/article/201704/2017041014020834.jpg" /></p>
<p>这是官方的生命周期的图：</p>
<p><img alt="" height="734" src="//files.512pic.com/file_images/article/201704/2017041014020835.jpg" width="315" /></p>
<h3>10. 父组件与子组件</h3>
<p>在很多情况下，组件是有父子关系的，比如 list 列表组件有个子组件 item</p>
<p>components/item.js</p>
<p>代码如下：</p>
<pre>
<code>
module.exports = {
 template: require('../templates/item.html'),

 props:["id","name"],
 
 ready: function () {
  
 }
};
</code></pre>
<p>templates/item.html</p>
<p>代码如下：</p>
<pre>
<code>
&lt;p&gt;我是subitem： ${id} - ${name}&lt;/p&gt;</code></pre>
<p>修改 list 组件，添加 item 的引用</p>
<p>components/list.js</p>
<p>代码如下：</p>
<pre>
<code>
//引用item组件
import item from "./item";

module.exports = {
 template: require('../templates/list.html'),

 data:function(){
  return {items:[{"id":1,"name":"hello11"},{"id":2,"name":"hello22"}]};
 },
 
 //定义item组件为子组件
 components:{
   "item":item
 },

 ready: function () {
 }

};

</code></pre>
<p>templates/list.html</p>
<p>代码如下：</p>
<pre>
<code>
&lt;h1&gt;List&lt;/h1&gt;
&lt;hr/&gt;
&lt;p&gt;Hello List Page!&lt;/p&gt;
&lt;ul&gt;
 &lt;li v-for="(index,item) in items"&gt;
   &lt;!--使用item子组件，同时把id,name使用props传值给item子组件--&gt;
   &lt;item v-bind:id="item.id" v-bind:name="item.name"&gt;&lt;/item&gt;
 &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<p>浏览器里试试看：</p>
<p><img alt="" src="//files.512pic.com/file_images/article/201704/2017041014020836.png" /></p>
<p>子组件成功被调用了</p>
<h3>11. 组件跳转传参</h3>
<p>组件之间的跳转传参，也是一种非常常见的情况。下面为列表页，增加跳转到详情页的跳转，并传参 id 给详情页</p>
<p>修改路由 routes.js</p>
<p>代码如下：</p>
<pre>
<code>
module.exports = {

 '/': {
  component: require('./components/index')
 },
  '/list': {
  component: require('./components/list')
 },

 //增加详情页的跳转路由，并在路径上加上id传参，具名为name：show
  '/show/:id': {
   name:"show",
   component: require('./components/show')
  },
 '*': {
  component: require('./components/notFound')
 }
}

</code></pre>
<p>添加组件 show</p>
<p>components/show.js</p>
<p>代码如下：</p>
<pre>
<code>
module.exports = {
 template: require('../templates/show.html'),

 data:function(){
  return {};
 },

 created:function(){
  //获取params的参数ID
  var id=this.$route.params.id;

  //根据获取的参数ID，返回不同的data对象（真实业务中，这里应该是Ajax获取数据）
  if (id==1){
   this.$data={"id":id,"name":"hello111","age":24};
  }else{
    this.$data={"id":id,"name":"hello222","age":28};
  }
 },
 
 ready: function () {
  console.log(this.$data);
 }

};

</code></pre>
<p>templates/show.html</p>
<p>代码如下：</p>
<pre>
<code>
&lt;h1&gt;Show&lt;/h1&gt;
&lt;hr/&gt;

&lt;p&gt;Hello show page!&lt;/p&gt;

&lt;p&gt;id:${id}&lt;/p&gt;
&lt;p&gt;name:${name}&lt;/p&gt;
&lt;p&gt;age:${age}&lt;/p&gt;

</code></pre>
<p>修改 templates/item.html</p>
<p></p>
<div class="codetitle"><u>复制代码</u> 代码如下:</div>
<div class="codebody" id="code88438">&lt;p&gt;我是subitem： &lt;a v-link=&quot;{name:&#39;show&#39;,params: { &#39;id&#39;: id } }&quot;&gt; ${id} : ${name}&lt;/a&gt; &lt;/p&gt;</div>
<p></p>
<p>这里 name:&lsquo;show&#39; 表示具名路由路径，params 就是传参。</p>
<p>继续浏览器里点到详情页试试：</p>
<p><img alt="" src="//files.512pic.com/file_images/article/201704/2017041014020837.jpg" /></p>
<p>点击&ldquo;hello11&rdquo;，跳转到详情页：</p>
<p><img alt="" src="//files.512pic.com/file_images/article/201704/2017041014020838.png" /></p>
<p>传参逻辑成功。</p>
<h3>12. 嵌套路由</h3>
<p>仅有路由跳转是远远不够的，很多情况下，我们还有同一个页面上，多标签页的切换，在 vue 中，用嵌套路由，也可以非常方便的实现。</p>
<p>添加两个小组件</p>
<p>components/tab1.js</p>
<p>代码如下：</p>
<pre>
<code>
module.exports = {
 template: "&lt;p&gt;Tab1 content&lt;/p&gt;"
};
</code></pre>
<p>components/tab2.js</p>
<p>代码如下：</p>
<pre>
<code>
module.exports = {
 template: "&lt;p&gt;Tab2 content&lt;/p&gt;"
};
</code></pre>
<p>修改 components/index.js 组件，挂载这两个子组件</p>
<p>代码如下：</p>
<pre>
<code>
import tab1 from "./tab1";
import tab2 from "./tab2";

module.exports = {
 template: require('../templates/index.html'),

 components:{
   "tab1":tab1,
   "tab2":tab2
 },

 ready: function () {
  
 }
};

</code></pre>
<p>在路由里加上子路由</p>
<p>代码如下：</p>
<pre>
<code>
module.exports = {

 '/': {
  component: require('./components/index'),

  //子路由
  subRoutes:{
   "/tab1":{
     component:require('./components/tab1')
   },
   "/tab2":{
     component:require('./components/tab2')
   }
  }
 },

  '/list': {
  component: require('./components/list')
 },

  '/show/:id': {
   name:"show",
   component: require('./components/show')
  },

 '*': {
  component: require('./components/notFound')
 }

}

</code></pre>
<p>好了，在浏览器里试一下：</p>
<p>初始状态：</p>
<p><img alt="" src="//files.512pic.com/file_images/article/201704/2017041014020839.png" /></p>
<p>点了 tab1，tab2：</p>
<p><img alt="" src="//files.512pic.com/file_images/article/201704/2017041014020840.png" /></p>
<p>Tab 切换没问题，可是，初始状态显示是空的，能不能默认显示 Tab1 Content 呢？很简单，调整下路由就可以了：</p>
<p>代码如下：</p>
<pre>
<code>
module.exports = {

 '/': {
  component: require('./components/index'),

  //子路由
  subRoutes:{
   //默认显示Tab1
   "/":{
     component:require('./components/tab1')
   },
   "/tab1":{
     component:require('./components/tab1')
   },
   "/tab2":{
     component:require('./components/tab2')
   }
  }
 }
}

</code></pre>
<p>以上就是本文的全部内容，希望对大家的学习有所帮助，也希望大家多多支持php教程。</p>

<p>注：关于vue构建单页面应用实战的内容就先介绍到这里，更多相关文章的可以留意</span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/115952.html'>VueJs单页应用实现微信网页授权及微信分享功能示例</a><a>下一篇</a><a href='/php/biji/115954.html'>如何使用vuejs实现更好的Form validation?</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>