<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>详解C语言中printf输出的相关函数_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="C语言printf()函数：格式化输出函数<br />
<br />
printf()函数是最常用的格式化输出函数，其原型为：<br />
<br />
<br />
<br />
<br />
  int printf( char * format, ... );<br />
<br />
<br />
printf()会根据参数 format 字符串来转换并" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li><li><a href="/php/phpbiji/108382.html"></a></li><li><a href="/php/phpbiji/108384.html"></a></li><li><a href="/php/phpbiji/108383.html"></a></li><li><a href="/php/phpbiji/108385.html"></a></li><li><a href="/php/phpbiji/108386.html"></a></li><li><a href="/php/phpbiji/108388.html"></a></li><li><a href="/php/phpbiji/108387.html"></a></li><li><a href="/php/phpbiji/108389.html"></a></li><li><a href="/php/phpbiji/108391.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">详解C语言中printf输出的相关函数</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>C语言printf()函数：格式化输出函数<br />
<br />
printf()函数是最常用的格式化输出函数，其原型为：<br />
<br />
<br />
<br />
<br />
  int printf( char * format, ... );<br />
<br />
<br />
printf()会根据参数 format 字符串来转换并</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p><strong>C语言printf()函数：格式化输出函数<br />
</strong>printf()函数是最常用的格式化输出函数，其原型为：<br />
</p>
<div class="phpstudycode">
<pre class="brush:cpp;">
  int printf( char * format, ... );
</pre>
</div>
<p>printf()会根据参数 format 字符串来转换并格式化数据，然后将结果输出到标准输出设备（显示器），直到出现字符串结束('\0')为止。</p>
<p>参数 format 字符串可包含下列三种字符类型：</p>
<ol>
<li>一般文本，将会直接输出</li>
<li>ASCII 控制字符，如\t、\n 等有特定含义</li>
<li>格式转换字符</li>
</ol>
<p>格式转换为一个百分比符号(%)及其后的格式字符所组成。一般而言，每个%符号在其后都必需有一个参数与之相呼应（只有当%%转换字符出现时会直接输出%字符），而欲输出的数据类型必须与其相对应的转换字符类型相同。</p>
<p>printf()格式转换的一般形式如下：<br />
</p>
<div class="phpstudycode">
<pre class="brush:cpp;">
  %(flags)(width)(. prec)type
</pre>
</div>
<p>以括号括起来的参数为选择性参数，而%与type 则是必要的，下面介绍 type 的几种形式。</p>
<p>1) 整数</p>
<ul>
<li>%d&nbsp; 整数的参数会被转成有符号的十进制数字</li>
<li>%u&nbsp; 整数的参数会被转成无符号的十进制数字</li>
<li>%o&nbsp; 整数的参数会被转成无符号的八进制数字</li>
<li>%x&nbsp; 整数的参数会被转成无符号的十六进制数字，并以小写abcdef 表示</li>
<li>%X&nbsp; 整数的参数会被转成无符号的十六进制数字，并以大写ABCDEF 表示浮点型数</li>
<li>%f double&nbsp; 型的参数会被转成十进制数字，并取到小数点以下六位，四舍五入</li>
<li>%e double&nbsp; 型的参数以指数形式打印，有一个数字会在小数点前，六位数字在小数点后，而在指数部分会以小写的e 来表示</li>
<li>%E 与%e 作用相同，唯一区别是指数部分将以大写的E 来表示</li>
<li>%g double&nbsp; 型的参数会自动选择以%f 或%e 的格式来打印，其标准是根据打印的数值及所设置的有效位数来决定。</li>
<li>%G 与%g 作用相同，唯一区别在以指数形态打印时会选择%E 格式。</li>
</ul>
<p>2) 字符及字符串</p>
<ul>
<li>%c 整型数的参数会被转成unsigned char 型打印出</li>
<li>%s 指向字符串的参数会被逐字输出，直到出现NULL 字符为止</li>
<li>%p 如果是参数是"void *"型指针则使用十六进制格式显示</li>
</ul>
<p>prec 有几种情况：</p>
<ul>
<li>正整数的最小位数</li>
<li>在浮点型数中代表小数位数</li>
<li>格式代表有效位数的最大值</li>
<li>在%s 格式代表字符串的最大长度</li>
<li>若为×符号则代表下个参数值为最大长度</li>
</ul>
<p>width 为参数的最小长度，若此栏并非数值，而是*符号，则表示以下一个参数当做参数长度。</p>
<p>flags 有下列几种情况</p>
<ul>
<li>+&nbsp; 一般在打印负数时，printf ()会加印一个负号，整数则不加任何负号，此旗标会使得在打印正数前多一个正号 (+)。</li>
<li>#&nbsp; 此旗标会根据其后转换字符的不同而有不同含义。当在类型为o 之前 (如%#o)，则会在打印八进制数值前多印一个o。而在类型为x 之前 (%#x)则会在打印十六进制数前多印'0x'，在型态为e、E、f、g 或G 之前则会强迫数值打印小数点。在类型为g 或G 之前时则同时保留小数点及小数位数末尾的零。</li>
<li>0&nbsp; 当有指定参数时，无数字的参数将补上0。默认是关闭此旗标，所以一般会打印出空白字符。</li>
</ul>
<p>【返回值】成功则返回写入的字符数目。</p>
<p>如果发生写入错误，将会设置文件错误标志（可通过 ferror() 检测），并返回一个负数。</p>
<p>如果在写入宽字符时一个多字节的字符发生编码错误，那么 errno 将被设置为 EILSEQ，并返回一个负数。</p>
<p>printf( format, ... ) 等价于 fprintf(stdout, format, ...)，更多信息请参考 fprintf() 函数。</p>
<p>【实例】分别输出整数、浮点数和字符串。<br />
</p>
<div class="phpstudycode">
<pre class="brush:cpp;">
#include&lt;stdio.h&gt;
int main(void)
{
  int a=1;
  float b=5.0;
  char str[100]= "";
  scanf("%c %c %c",&a,&b,str);
  /*分别演示 整数*/
  printf("int is:%d\n",a);
  /*分别演示 浮点数*/
  printf("float is:%f\n",b);
  /*分别演示 字符串*/
  printf("char is:%s\n",str);
  
  return 0;
}
</pre>
</div>
<p>输出结果：<br />
【运行结果】<br />
</p>
<div class="phpstudycode">
<pre class="brush:plain;">
1 4.4 fs
int is:1
float is:4.400000
char is:fs
</pre>
</div>
<p>例子首先是等待用户输入整数浮点数和一个字符串，然后调用函数printf()按照对应的格式输出。</p>
<p>又如，输出更多格式的数据。<br />
</p>
<div class="phpstudycode">
<pre class="brush:cpp;">
#include &lt;stdio.h&gt;
int main()
{
  printf ("Characters: %c %c \n", 'a', 65);
  printf ("Decimals: %d %ld\n", 1977, 650000L);
  printf ("Preceding with blanks: %10d \n", 1977);
  printf ("Preceding with zeros: %010d \n", 1977);
  printf ("Some different radices: %d %x %o %#x %#o \n", 100, 100, 100, 100, 100);
  printf ("floats: %4.2f %+.0e %E \n", 3.1416, 3.1416, 3.1416);
  printf ("Width trick: %*d \n", 5, 10);
  printf ("%s \n", "A string");
  return 0;
}
</pre>
</div>
<p>输出结果：<br />
</p>
<div class="phpstudycode">
<pre class="brush:plain;">
Characters: a A
Decimals: 1977 650000
Preceding with blanks:    1977
Preceding with zeros: 0000001977
Some different radices: 100 64 144 0x64 0144
floats: 3.14 +3e+000 3.141600E+000
Width trick:  10
A string
</pre>
</div>
<p><strong>C语言fprintf()函数：输出函数(格式化输出数据至文件)<br />
</strong>头文件：</p>
<div class="phpstudycode">
<pre class="brush:cpp;">
#include &lt;stdio.h&gt;
</pre>
</div>
<p>定义函数：</p>
<div class="phpstudycode">
<pre class="brush:cpp;">
int fprintf(FILE * stream, const char * format, ...);
</pre>
</div>
<p>函数说明：fprintf()会根据参数format 字符串来转换并格式化数据, 然后将结果输出到参数stream 指定的文件中, 直到出现字符串结束('\0')为止。</p>
<p>返回值：关于参数format 字符串的格式请参考printf(). 成功则返回实际输出的字符数, 失败则返回-1, 错误原因存于errno 中.</p>
<p>范例<br />
</p>
<div class="phpstudycode">
<pre class="brush:cpp;">
#include &lt;stdio.h&gt;
main()
{
  int i = 150;
  int j = -100;
  double k = 3.14159;
  fprintf(stdout, "%d %f %x \n", j, k, i);
  fprintf(stdout, "%2d %*d\n", i, 2, i);
}
</pre>
</div>
<p>执行：<br />
</p>
<div class="phpstudycode">
<pre class="brush:plain;">
-100 3.141590 96
150 150
</pre>
</div>
<p><strong>C语言sprintf()函数：将格式化的数据写入字符串<br />
</strong>头文件：</p>
<div class="phpstudycode">
<pre class="brush:cpp;">
#include &lt;stdio.h&gt;
</pre>
</div>
<p>sprintf()函数用于将格式化的数据写入字符串，其原型为：<br />
</p>
<div class="phpstudycode">
<pre class="brush:cpp;">
int sprintf(char *str, char * format [, argument, ...]);
</pre>
</div>
<p>【参数】str为要写入的字符串；format为格式化字符串，与printf()函数相同；argument为变量。</p>
<p>除了前两个参数类型固定外，后面可以接任意多个参数。而它的精华，显然就在第二个参数--格式化字符串--上。 printf()和sprintf()都使用格式化字符串来指定串的格式，在格式串内部使用一些以“%”开头的格式说明符（format specifications）来占据一个位置，在后边的变参列表中提供相应的变量，最终函数就会用相应位置的变量来替代那个说明符，产生一个调用者想要的字符串。</p>
<p>sprintf()最常见的应用之一莫过于把整数打印到字符串中，如：</p>
<ul>
<li>&nbsp;&nbsp;&nbsp; sprintf(s, "%d", 123);&nbsp; //把整数123打印成一个字符串保存在s中</li>
<li>&nbsp;&nbsp;&nbsp; sprintf(s, "%8x", 4567);&nbsp; //小写16进制，宽度占8个位置，右对齐</li>
</ul>
<p>sprintf的作用是将一个格式化的字符串输出到一个目的字符串中，而printf是将一个格式化的字符串输出到屏幕。sprintf的第一个参数应该是目的字符串，如果不指定这个参数，执行过程中出现 "该程序产生非法操作,即将被关闭...."的提示。</p>
<p>sprintf()会根据参数format 字符串来转换并格式化数据，然后将结果复制到参数str 所指的字符串数组，直到出现字符串结束('\0')为止。关于参数format 字符串的格式请参考printf()。</p>
<p>【返回值】成功则返回参数str 字符串长度，失败则返回-1，错误原因存于errno 中。</p>
<p>注意：C语言对数组进行操作时并不检测数组的长度，如果str的长度不够，sprintf()很容易造成缓冲区溢出，带来意想不到的后果，黑客经常利用这个弱点攻击看上去安全的系统。请看下面的代码：<br />
</p>
<div class="phpstudycode">
<pre class="brush:cpp;">
#include &lt;stdio.h&gt;
main()
{
  char buf[10];
  sprintf(buf, "The length of the string is more than 10");
  printf("%s", buf);
}
</pre>
</div>
<p>编译并运行，屏幕上输出”The length of the string is more than 10“，同时系统提示程序已经停止。原因就是要写入的字符串的长度超过了buf的长度，造成缓冲区溢出。</p>
<p>使用snprintf()来代替sprintf()将能够很好的解决这个问题。</p>
<p>【实例】打印字母a的ASCII值。<br />
</p>
<div class="phpstudycode">
<pre class="brush:cpp;">
#include &lt;stdio.h&gt;
main()
{
  char a = 'a';
  char buf[80];
  sprintf(buf, "The ASCII code of a is %d.", a);
  printf("%s", buf);
}
</pre>
</div>
<p>运行结果：<br />
</p>
<div class="phpstudycode">
<pre class="brush:plain;">
The ASCII code of a is 97.
</pre>
</div>
<p>又如，产生10个100以内的随机数并输出。<br />
</p>
<div class="phpstudycode">
<pre class="brush:cpp;">
#include&lt;stdio.h&gt;
#include&lt;stdlib.h&gt;
#include&lt;time.h&gt;
int main(void)
{
  char str[100];
  int offset =0;
  int i=0;
  srand(time(0)); // *随机种子
  for(i = 0;i&lt;10;i++)
  {
    offset+=sprintf(str+offset,"%d,",rand()%100); // 格式化的数据写入字符串
  }
  str[offset-1]='\n';
  printf(str);
  return 0;
}
</pre>
</div>
<p>运行结果：<br />
</p>
<div class="phpstudycode">
<pre class="brush:plain;">
74,43,95,95,44,90,70,23,66,84
</pre>
</div>
<p>例子使用了一个新函数srand()，它能产生随机数。例子中最复杂的部分是for循环中每次调用函数sprintf()往字符数组写数据的时候，str+foffset为每次写入数据的开始地址，最终的结果是所有产生的随机数据都被以整数的形式存入数组中。<br />
</p>
<hr></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/91866.html'>Javascript实现计算个人所得税</a><a>下一篇</a><a href='/php/biji/91868.html'>mysql insert语句操作实例讲解</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>