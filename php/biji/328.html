<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>MySQL权威指南读书笔记(二)_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="二，select 的使用<br />
    现在，数据表都已经创建起来了，假设我们已经插入了许多的数据，我们就可以用自己喜欢的方式对数据表里面的信息进行检索和显示了，比如说：可以象下面这样把整个" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/122.html"></a></li><li><a href="/php/phpbiji/123.html"></a></li><li><a href="/php/phpbiji/124.html"></a></li><li><a href="/php/phpbiji/125.html"></a></li><li><a href="/php/phpbiji/126.html"></a></li><li><a href="/php/phpbiji/127.html"></a></li><li><a href="/php/phpbiji/128.html"></a></li><li><a href="/php/phpbiji/129.html"></a></li><li><a href="/php/phpbiji/130.html"></a></li><li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">MySQL权威指南读书笔记(二)</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>二，select 的使用<br />
    现在，数据表都已经创建起来了，假设我们已经插入了许多的数据，我们就可以用自己喜欢的方式对数据表里面的信息进行检索和显示了，比如说：可以象下面这样把整个</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><P>二，select 的使用</P>
<P>&nbsp;&nbsp;&nbsp; 现在，数据表都已经创建起来了，假设我们已经插入了许多的数据，我们就可以用自己喜欢的方式对数据表里面的信息进行检索和显示了，比如说：可以象下面这样把整个数据表内的内容都显示出来</P>
<P>&nbsp;&nbsp;&nbsp; select * from president;</P>
<P>也可以只选取某一个数据行里的某一个数据列</P>
<P>&nbsp;&nbsp;&nbsp; select birth from president where last_name=’Eisenhower’;</P>
<P>select语句的通用形式如下：</P>
<P>&nbsp;&nbsp;&nbsp; select 你要的信息<BR>&nbsp;&nbsp;&nbsp; from 数据表(一个或多个)<BR>&nbsp;&nbsp;&nbsp; where 满足的条件</P>
<P>select语句有几个子句，他们的各种搭配能帮你查出最感兴趣的信息，这些子句可以很简单，也可以很复杂,看看作者是如何详细讲解的</P>
<P>１，用各种操作符来设定检索条件</P>
<P>要想让select语句只把满足特定条件的记录检索出来，就必须给它加上where字句来设置数据行的检索条件。只有这样，才能有选择地把数据列的取值满足特定要求的那些数据行挑选出来。可以针对任何类型的值进行查找，比如说，对数值进行搜索<BR>select * from score where score&gt;95; //显示所有分数在９５分以上的信息<BR>也可以针对字符串值进行查找<BR>select last_name,first_name from president where last_name=’Tom’; //找出所有姓tom的总统<BR>还可以对不同类型的值进行组合查找<BR>select last_name,first_name,birth,state from president<BR>where birth&lt;’1950-1-1’ and (state=’VA’ or state=’BA’);<BR>//找出1950年前出生于VA州或ＢＡ州的总统<BR>可见 where子句中可以使用的是算术操作符（+-*/%）,比较操作符(&lt;&gt;=)以及逻辑运算符，我们应该熟练理解这些操作符的含义（都很简单）</P>
<P>２，NULL 值的特别处理</P>
<P>这是一种不属于任何类型的值。它通常用来表示“没有数据”“数据未知”“数据缺失”“数据超出取值范围”“与本数据列无关”“与本数据列的其它值不同”等多种含义。在许多情况下，NULL 值是非常有用的。<BR>我们的各种操作符是不能对NULL 值进行处理的，如果相对NULL 值进行查找，用的是 is null 或 is not null 来进行判断，举例如下：<BR>select last_name,first_name,birth,state from president<BR>where death is null; //找出所有没死的总统<BR>在某些情况下，NULL 值是很有用的类型，大家慢慢就会理解的。</P>
<P>３，查询结果进行排序</P>
<P>一般说来，如果创建了一个数据表并向里面插入了一些记录，当发出一条select * from name命令的时候，数据记录在查询结果中的先后顺序通常与它们被插入时的先后顺序一样．这当然符合我们的思维习惯．但这只是一种＂想当然＂的假设而已，事实上，但记录被删除时，数据库中会产生一些空的区域，MYSQL会用新的记录来填补这些区域，也就是说，这个时候本假设就不正确了．因此我们必须记住一点，从服务器返回的记录行的先后顺序是没有任何保证的！如果想要按照一定的顺序，就必须使用order by 子句来设置这个顺序．<BR>select last_name,first_name,birth,state from president<BR>order by last_name; //让总统们的名字按字母顺序排列<BR>还可以设置排列的升序降序<BR>select last_name,first_name from president<BR>order by state DESC,last_name ASC;<BR>//先按照出生地的降序排列，同出生地的按照姓氏的升序排列<BR>注意：如果结果中含有NULL 值，默认情况下他们总是出现在查询结果的开头。</P>
<P>４，限制查询结果中数据行个数</P>
<P>这个简单，只要用limit 子句就可以了，看两个例子：<BR>select last_name,first_name,birth,state from president<BR>order by birth limit 5;&nbsp; //只想看前５个<BR>order by birth limit 10,5; //返回从第11个记录开始的5个记录（跳过了10个）<BR>小技巧：从president表中随机找出一个总统来玩：<BR>select last_name,first_name,birth,state from president<BR>order by rand() limit 1; //这是用了表达式求值的方法，在哪里都管用</P>
<P>５，对输出列进行求值和命名</P>
<P>为了提高效率，MYSQL还可以把表达式的计算结果当作输出列的值。表达式可以很简单，也可以很复杂。例如：下面这个查询有两个输出列，前一个输出列对应一个非常简单的表达式（一个常数），而后一个输出列则对应着一个使用了多个算术运算符和两个函数调用的复杂表达式。<BR>Select 17,format(sqrt(3*3+4*4),0))<BR>输出：17 5<BR>再看这个命令：把两个输出列合并成一个<BR>select concat(first_namem,’ ‘,last_name),concat(city,’,’,state) from president;<BR>如果合并之后输出列的标题过长，则可以给其一个别名，如：<BR>select concat(first_namem,’ ‘,last_name) as name,<BR>concat(city,’,’,state) as birth place<BR>from president;这样就比较美观了。</P>
<P>６，和日期有关的问题</P>
<P>首先记住：在MYSQL中，年份是放到最前面的！我们通常对日期进行下列操作：<BR>按日期进行排序<BR>查找某个日期或日期范围<BR>提取日期中的年，元，日各个部分<BR>计算两个日期的间隔<BR>用一个日期求出另外一个日期<BR>看例子：<BR>select * from event where date=’2002-10-01’ //看看这天有何考试信息？<BR>select last_name,first_name,birth,state from president<BR>where death&gt;’1900-01-01’ and death&lt;’2000-01-01’; //看看上个世纪死了几个？<BR>三个函数year,month,dayofmonth可以分别分离出日期中的年月日来。<BR>select last_name,first_name,birth from president <BR>where month(birth)=3; //谁生在3月 ？<BR>where month(birth)=7 and dayofmonth(birth) =6; //谁生在7月6日？(汤姆克鲁斯？)<BR>函数to_days可以把日期转换为天数。<BR>select last_name,first_name,birth to_days(death)-to_days(birth) as age from president <BR>可以看看这帮家伙都活了多少天！你自己把它改为年吧。<BR>日期值的减法运算还能帮我们计算出现在距离某个特定日期还有多长的时间，这正是我们用来找到需要在近期内缴纳会费的会员的办法：<BR>select last_name,first_name,expiration from member<BR>where (to_days(expiration)-to_days(curdate())&lt;60; //有些人60天内需要花钱了！</P>
<P>７，模式匹配</P>
<P>有些情况下，模糊查询是很必要的，我们使用like和not like加上一个带通配符的字符串就可以了。共有两个通配符”_”(单个字符)和”&amp;”（多个字符）<BR>select concat(first_namem,’ ‘,last_name) as name,<BR>where last_name like ‘W%’; //找到以Ｗ或w开头的人<BR>where last_name like ‘％W%’; //找到名字里面Ｗ或w开头的人</P>
<P>８，设置和使用SQL变量</P>
<P>MYSQL 3.23.6以上的版本可以使用查询结果来设置变量，我们就能够方面的把一些结果保存起来以供他用。变量的命名规格是：@name, 赋值语法是 @name:=value ( pascal?) 使用起来也简单：<BR>select @birth:=birth from president<BR>where last_name =’adsltiger’;&nbsp; //执行完成后我们就就会有一个@birth变量可用<BR>用一下试试：<BR>select concat(first_namem,’ ‘,last_name) as name from president<BR>where birth&lt;@birth order by birth; //看看那些人比我大！</P>
<P>＊９，生成统计信息</P>
<P>单纯依靠手工来生成统计信息是一项既艰苦又耗时还容易出错的工作，如果我们能熟练掌握用数据库来生成各种统计信息的技巧，他就会成为很有威力的信息处理工具。作者在这里用了许多篇幅讲这个主题，为了便于大家理解，我分解开来论述：</P>
<P>9.1 找出一组数据中到底有多少种不同的值是一项比较常见的统计工作，而关键字distinct就可以把查询结果中的重复数据清除掉。如<BR>select distinct state from president&nbsp; //看看美国总统们都来自那些州？(重复的不计)</P>
<P>9.2用count()函数来统计相关记录的个数，注意其使用方法：count(*)计算所有的，NULL也要；count(数据列名称) NULL值不计算在内。<BR>select count(*) from president;</P>
<P>9.3如果我们想知道班级内的男女生数目？该如何查询呢？最简单的方法是<BR>select count(*) from student where sex=’f’;<BR>select count(*) from student where sex=’m<BR>但是如果使用count函数结合group by关键字，一行命令就搞定了<BR>select sex,count(*) f rom student group by sex;</P>
<P>我们可以看到，与反复使用彼此类似的查询来分别统计某数据列不同取值出现次数的做法相比， 把count(*)和group by字句相结合使用有许多优点，主要表现在：<BR>在开始统计自前，不必知道被统计的数据列里面有多少种不同的取值<BR>因为只用了一个查询命令，我们可以对输出做排序的处理<BR>select state,count(*) as count from president<BR>group by state order by count desc limt4; //看看出生总统最多的前四个州是哪几个？</P>
<P>9.4除了count()，我们还用其他一些统计函数，如求出最小值的min()，求最大值的max()，求和的sum()，求平均值的avg()，在实际工作中，这些函数时经常用到的！</P>
<P>*１０,从多个表提取信息</P>
<P>我们目前的例子都是从一个表里面提取信息，但数据库的真正威力还在于用“关系”来综合多个数据表里面的记录，这种操作称之为“关联”或“结合”我们可以看到，select需要给出多个数据表里面的信息（不可重复）；from需要知道从哪几个表里面做事；where则对几个表之间的关联信息作出详细的描述。<BR>首先我们要学习最可靠的数据列引用方式：数据表名.数据列名。这样在查询中就一定不会混淆这个数据列到底在哪一个表里。</P>
<P>例子1:查询某一天内的学生们的考试成绩，用学号列出。<BR>select scroe.student_id,event_date,score.score.event.type<BR>from event,score<BR>where event.date=’2003-09-12’ <BR>and event.event_id=score.event_id<BR>首先，利用event数据表把日期映射到一个考试事件编号，在利用这个编号把score表内相匹配的考试分数找出来。关联两个表，一个查询搞定。</P>
<P>例子2:查询某一天内的学生们的考试成绩，用姓名列出。<BR>select student.name event.name,score.score,event.type<BR>form event,score,student<BR>where event.date=’2003-09-12’<BR>and event.event_id= score.event_id<BR>and scroe.student_id=student.student_id;<BR>关联三个表，一个查询搞定。</P>
<P>例子3:查询一下缺席学生的名字，学号，缺席次数<BR>select student.student_id,student_name<BR>count(absence.date) as absences<BR>from student,absence<BR>where student.student_id=absence.student_id&nbsp; //关联条件<BR>group by student.student_id;</P>
<P>简单的关联操作就介绍到这里。事实上，对于关联的知识我们需要学的很多很多，比如说，我们怀疑某一个数据表内不存在和我们相关的数据，把么在关联查询的时候如何处理这个表呢？这就涉及到内联接，外联接，左联接，右联接的许多新概念了。不知道大家还有没有信心向下看我的笔记？在本书第四章里面，对关联进行了十分详细的论述，看来“在SQL里面，干粗活的是select”的说法再对不过了。</P>
<P>我们了解了select命令的如此之多的用法，感到了它的灵活性，许多字句的组合能够形成一个非常“精妙”的ＳＱＬ语句，在基础没有打好之前，我等初学者目前还没有必要去钻研那些技巧性很高的东西，“一定程度的创造性是必要的，但太专业或充满技巧的代码则是各种 bug的发源地，同时也是若干个不眠之夜的前奏”</P>
<P>第一章&nbsp; 总结</P>
<P>78页的知识量还是比较大的，我们学会了MYSQL中最最基础的知识：创建数据库和数据表；对数据表里面的记录进行插入，检索，修改，删除等操作，并且对select语句的用法作了一些相对复杂的讲解，不知道各位好学的朋友有何感想<BR></P>
本文作者:<P>二，select 的使用</P>
<P>&nbsp;&nbsp;&nbsp; 现在，数据表都已经创建起来了，假设我们已经插入了许多的数据，我们就可以用自己喜欢的方式对数据表里面的信息进行检索和显示了，比如说：可以象下面这样把整个数据表内的内容都显示出来</P>
<P>&nbsp;&nbsp;&nbsp; select * from president;</P>
<P>也可以只选取某一个数据行里的某一个数据列</P>
<P>&nbsp;&nbsp;&nbsp; select birth from president where last_name=’Eisenhower’;</P>
<P>select语句的通用形式如下：</P>
<P>&nbsp;&nbsp;&nbsp; select 你要的信息<BR>&nbsp;&nbsp;&nbsp; from 数据表(一个或多个)<BR>&nbsp;&nbsp;&nbsp; where 满足的条件</P>
<P>select语句有几个子句，他们的各种搭配能帮你查出最感兴趣的信息，这些子句可以很简单，也可以很复杂,看看作者是如何详细讲解的</P>
<P>１，用各种操作符来设定检索条件</P>
<P>要想让select语句只把满足特定条件的记录检索出来，就必须给它加上where字句来设置数据行的检索条件。只有这样，才能有选择地把数据列的取值满足特定要求的那些数据行挑选出来。可以针对任何类型的值进行查找，比如说，对数值进行搜索<BR>select * from score where score&gt;95; //显示所有分数在９５分以上的信息<BR>也可以针对字符串值进行查找<BR>select last_name,first_name from president where last_name=’Tom’; //找出所有姓tom的总统<BR>还可以对不同类型的值进行组合查找<BR>select last_name,first_name,birth,state from president<BR>where birth&lt;’1950-1-1’ and (state=’VA’ or state=’BA’);<BR>//找出1950年前出生于VA州或ＢＡ州的总统<BR>可见 where子句中可以使用的是算术操作符（+-*/%）,比较操作符(&lt;&gt;=)以及逻辑运算符，我们应该熟练理解这些操作符的含义（都很简单）</P>
<P>２，NULL 值的特别处理</P>
<P>这是一种不属于任何类型的值。它通常用来表示“没有数据”“数据未知”“数据缺失”“数据超出取值范围”“与本数据列无关”“与本数据列的其它值不同”等多种含义。在许多情况下，NULL 值是非常有用的。<BR>我们的各种操作符是不能对NULL 值进行处理的，如果相对NULL 值进行查找，用的是 is null 或 is not null 来进行判断，举例如下：<BR>select last_name,first_name,birth,state from president<BR>where death is null; //找出所有没死的总统<BR>在某些情况下，NULL 值是很有用的类型，大家慢慢就会理解的。</P>
<P>３，查询结果进行排序</P>
<P>一般说来，如果创建了一个数据表并向里面插入了一些记录，当发出一条select * from name命令的时候，数据记录在查询结果中的先后顺序通常与它们被插入时的先后顺序一样．这当然符合我们的思维习惯．但这只是一种＂想当然＂的假设而已，事实上，但记录被删除时，数据库中会产生一些空的区域，MYSQL会用新的记录来填补这些区域，也就是说，这个时候本假设就不正确了．因此我们必须记住一点，从服务器返回的记录行的先后顺序是没有任何保证的！如果想要按照一定的顺序，就必须使用order by 子句来设置这个顺序．<BR>select last_name,first_name,birth,state from president<BR>order by last_name; //让总统们的名字按字母顺序排列<BR>还可以设置排列的升序降序<BR>select last_name,first_name from president<BR>order by state DESC,last_name ASC;<BR>//先按照出生地的降序排列，同出生地的按照姓氏的升序排列<BR>注意：如果结果中含有NULL 值，默认情况下他们总是出现在查询结果的开头。</P>
<P>４，限制查询结果中数据行个数</P>
<P>这个简单，只要用limit 子句就可以了，看两个例子：<BR>select last_name,first_name,birth,state from president<BR>order by birth limit 5;&nbsp; //只想看前５个<BR>order by birth limit 10,5; //返回从第11个记录开始的5个记录（跳过了10个）<BR>小技巧：从president表中随机找出一个总统来玩：<BR>select last_name,first_name,birth,state from president<BR>order by rand() limit 1; //这是用了表达式求值的方法，在哪里都管用</P>
<P>５，对输出列进行求值和命名</P>
<P>为了提高效率，MYSQL还可以把表达式的计算结果当作输出列的值。表达式可以很简单，也可以很复杂。例如：下面这个查询有两个输出列，前一个输出列对应一个非常简单的表达式（一个常数），而后一个输出列则对应着一个使用了多个算术运算符和两个函数调用的复杂表达式。<BR>Select 17,format(sqrt(3*3+4*4),0))<BR>输出：17 5<BR>再看这个命令：把两个输出列合并成一个<BR>select concat(first_namem,’ ‘,last_name),concat(city,’,’,state) from president;<BR>如果合并之后输出列的标题过长，则可以给其一个别名，如：<BR>select concat(first_namem,’ ‘,last_name) as name,<BR>concat(city,’,’,state) as birth place<BR>from president;这样就比较美观了。</P>
<P>６，和日期有关的问题</P>
<P>首先记住：在MYSQL中，年份是放到最前面的！我们通常对日期进行下列操作：<BR>按日期进行排序<BR>查找某个日期或日期范围<BR>提取日期中的年，元，日各个部分<BR>计算两个日期的间隔<BR>用一个日期求出另外一个日期<BR>看例子：<BR>select * from event where date=’2002-10-01’ //看看这天有何考试信息？<BR>select last_name,first_name,birth,state from president<BR>where death&gt;’1900-01-01’ and death&lt;’2000-01-01’; //看看上个世纪死了几个？<BR>三个函数year,month,dayofmonth可以分别分离出日期中的年月日来。<BR>select last_name,first_name,birth from president <BR>where month(birth)=3; //谁生在3月 ？<BR>where month(birth)=7 and dayofmonth(birth) =6; //谁生在7月6日？(汤姆克鲁斯？)<BR>函数to_days可以把日期转换为天数。<BR>select last_name,first_name,birth to_days(death)-to_days(birth) as age from president <BR>可以看看这帮家伙都活了多少天！你自己把它改为年吧。<BR>日期值的减法运算还能帮我们计算出现在距离某个特定日期还有多长的时间，这正是我们用来找到需要在近期内缴纳会费的会员的办法：<BR>select last_name,first_name,expiration from member<BR>where (to_days(expiration)-to_days(curdate())&lt;60; //有些人60天内需要花钱了！</P>
<P>７，模式匹配</P>
<P>有些情况下，模糊查询是很必要的，我们使用like和not like加上一个带通配符的字符串就可以了。共有两个通配符”_”(单个字符)和”&amp;”（多个字符）<BR>select concat(first_namem,’ ‘,last_name) as name,<BR>where last_name like ‘W%’; //找到以Ｗ或w开头的人<BR>where last_name like ‘％W%’; //找到名字里面Ｗ或w开头的人</P>
<P>８，设置和使用SQL变量</P>
<P>MYSQL 3.23.6以上的版本可以使用查询结果来设置变量，我们就能够方面的把一些结果保存起来以供他用。变量的命名规格是：@name, 赋值语法是 @name:=value ( pascal?) 使用起来也简单：<BR>select @birth:=birth from president<BR>where last_name =’adsltiger’;&nbsp; //执行完成后我们就就会有一个@birth变量可用<BR>用一下试试：<BR>select concat(first_namem,’ ‘,last_name) as name from president<BR>where birth&lt;@birth order by birth; //看看那些人比我大！</P>
<P>＊９，生成统计信息</P>
<P>单纯依靠手工来生成统计信息是一项既艰苦又耗时还容易出错的工作，如果我们能熟练掌握用数据库来生成各种统计信息的技巧，他就会成为很有威力的信息处理工具。作者在这里用了许多篇幅讲这个主题，为了便于大家理解，我分解开来论述：</P>
<P>9.1 找出一组数据中到底有多少种不同的值是一项比较常见的统计工作，而关键字distinct就可以把查询结果中的重复数据清除掉。如<BR>select distinct state from president&nbsp; //看看美国总统们都来自那些州？(重复的不计)</P>
<P>9.2用count()函数来统计相关记录的个数，注意其使用方法：count(*)计算所有的，NULL也要；count(数据列名称) NULL值不计算在内。<BR>select count(*) from president;</P>
<P>9.3如果我们想知道班级内的男女生数目？该如何查询呢？最简单的方法是<BR>select count(*) from student where sex=’f’;<BR>select count(*) from student where sex=’m<BR>但是如果使用count函数结合group by关键字，一行命令就搞定了<BR>select sex,count(*) f rom student group by sex;</P>
<P>我们可以看到，与反复使用彼此类似的查询来分别统计某数据列不同取值出现次数的做法相比， 把count(*)和group by字句相结合使用有许多优点，主要表现在：<BR>在开始统计自前，不必知道被统计的数据列里面有多少种不同的取值<BR>因为只用了一个查询命令，我们可以对输出做排序的处理<BR>select state,count(*) as count from president<BR>group by state order by count desc limt4; //看看出生总统最多的前四个州是哪几个？</P>
<P>9.4除了count()，我们还用其他一些统计函数，如求出最小值的min()，求最大值的max()，求和的sum()，求平均值的avg()，在实际工作中，这些函数时经常用到的！</P>
<P>*１０,从多个表提取信息</P>
<P>我们目前的例子都是从一个表里面提取信息，但数据库的真正威力还在于用“关系”来综合多个数据表里面的记录，这种操作称之为“关联”或“结合”我们可以看到，select需要给出多个数据表里面的信息（不可重复）；from需要知道从哪几个表里面做事；where则对几个表之间的关联信息作出详细的描述。<BR>首先我们要学习最可靠的数据列引用方式：数据表名.数据列名。这样在查询中就一定不会混淆这个数据列到底在哪一个表里。</P>
<P>例子1:查询某一天内的学生们的考试成绩，用学号列出。<BR>select scroe.student_id,event_date,score.score.event.type<BR>from event,score<BR>where event.date=’2003-09-12’ <BR>and event.event_id=score.event_id<BR>首先，利用event数据表把日期映射到一个考试事件编号，在利用这个编号把score表内相匹配的考试分数找出来。关联两个表，一个查询搞定。</P>
<P>例子2:查询某一天内的学生们的考试成绩，用姓名列出。<BR>select student.name event.name,score.score,event.type<BR>form event,score,student<BR>where event.date=’2003-09-12’<BR>and event.event_id= score.event_id<BR>and scroe.student_id=student.student_id;<BR>关联三个表，一个查询搞定。</P>
<P>例子3:查询一下缺席学生的名字，学号，缺席次数<BR>select student.student_id,student_name<BR>count(absence.date) as absences<BR>from student,absence<BR>where student.student_id=absence.student_id&nbsp; //关联条件<BR>group by student.student_id;</P>
<P>简单的关联操作就介绍到这里。事实上，对于关联的知识我们需要学的很多很多，比如说，我们怀疑某一个数据表内不存在和我们相关的数据，把么在关联查询的时候如何处理这个表呢？这就涉及到内联接，外联接，左联接，右联接的许多新概念了。不知道大家还有没有信心向下看我的笔记？在本书第四章里面，对关联进行了十分详细的论述，看来“在SQL里面，干粗活的是select”的说法再对不过了。</P>
<P>我们了解了select命令的如此之多的用法，感到了它的灵活性，许多字句的组合能够形成一个非常“精妙”的ＳＱＬ语句，在基础没有打好之前，我等初学者目前还没有必要去钻研那些技巧性很高的东西，“一定程度的创造性是必要的，但太专业或充满技巧的代码则是各种 bug的发源地，同时也是若干个不眠之夜的前奏”</P>
<P>第一章&nbsp; 总结</P>
<P>78页的知识量还是比较大的，我们学会了MYSQL中最最基础的知识：创建数据库和数据表；对数据表里面的记录进行插入，检索，修改，删除等操作，并且对select语句的用法作了一些相对复杂的讲解，不知道各位好学的朋友有何感想<BR></P>
本文作者:
<hr></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/327.html'>vbs SendKey 用法 Sendkey 键盘对应的码表</a><a>下一篇</a><a href='/php/biji/329.html'>asp.net JSON 序列化技术分析</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>