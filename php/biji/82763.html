<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>Android编程之Animation动画详解_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="本文实例讲述了Android编程之Animation动画用法。分享给大家供大家参考，具体如下：<br />
Animations<br />
一、Animations介绍<br />
Animations是一个实现android UI界面动画效果的API，Animatio" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li><li><a href="/php/phpbiji/108382.html"></a></li><li><a href="/php/phpbiji/108384.html"></a></li><li><a href="/php/phpbiji/108383.html"></a></li><li><a href="/php/phpbiji/108385.html"></a></li><li><a href="/php/phpbiji/108386.html"></a></li><li><a href="/php/phpbiji/108388.html"></a></li><li><a href="/php/phpbiji/108387.html"></a></li><li><a href="/php/phpbiji/108389.html"></a></li><li><a href="/php/phpbiji/108391.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">Android编程之Animation动画详解</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>本文实例讲述了Android编程之Animation动画用法。分享给大家供大家参考，具体如下：<br />
Animations<br />
一、Animations介绍<br />
Animations是一个实现android UI界面动画效果的API，Animatio</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p>本文实例讲述了Android编程之Animation动画用法。分享给大家供大家参考，具体如下：</p>
<p><span style="color: #0000ff"><strong>Animations</strong></span></p>
<p><strong>一、Animations介绍</strong></p>
<p>Animations是一个实现android UI界面动画效果的API，Animations提供了一系列的动画效果，可以进行旋转、缩放、淡入淡出等，这些效果可以应用在绝大多数的控件中。</p>
<p><strong>二、Animations的分类</strong></p>
<p>Animations从总体上可以分为两大类：</p>
<p>1.Tweened Animations：该类Animations提供了旋转、移动、伸展和淡出等效果。Alpha——淡入淡出，Scale——缩放效果，Rotate——旋转，Translate——移动效果。</p>
<p>2.Frame-by-frame Animations：这一类Animations可以创建一个Drawable序列，这些Drawable可以按照指定的时间间歇一个一个的显示。</p>
<p><strong>三、Animations的使用方法（代码中使用）</strong></p>
<p>Animations extends Object implements Cloneable</p>
<p><span style="color: #0000ff">使用TweenedAnimations的步骤：</span></p>
<p>1.创建一个AnimationSet对象（Animation子类）；<br />
2.增加需要创建相应的Animation对象；<br />
3.更加项目的需求，为Animation对象设置相应的数据；<br />
4.将Animatin对象添加到AnimationSet对象当中；<br />
5.使用控件对象开始执行AnimationSet。</p>
<p><strong>Tweened Animations的分类</strong></p>
<p>１、Alpha：淡入淡出效果<br />
２、Scale：缩放效果<br />
３、Rotate：旋转效果<br />
４、Translate：移动效果</p>
<p><strong>Animation的四个子类：</strong></p>
<p>AlphaAnimation、TranslateAnimation、ScaleAnimation、RotateAnimation</p>
<p><strong>四、具体实现</strong></p>
<p>1、main.xml</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;&#63;xml version="1.0" encoding="utf-8"&#63;&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  android:orientation="vertical" &gt;
  &lt;LinearLayout
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:orientation="horizontal" &gt;
     &lt;Button
      android:id="@+id/rotateButton"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:text="旋转" /&gt;
     &lt;Button
      android:id="@+id/scaleButton"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:text="缩放" /&gt;
     &lt;Button
      android:id="@+id/alphaButton"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:text="淡入淡出" /&gt;
     &lt;Button
      android:id="@+id/translateButton"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:text="移动" /&gt;
  &lt;/LinearLayout&gt;
   &lt;LinearLayout
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:orientation="vertical" &gt;
     &lt;ImageView
      android:id="@+id/image"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:layout_centerInParent="true"
      android:src="@drawable/an" /&gt;
  &lt;/LinearLayout&gt;
 &lt;/LinearLayout&gt;

</pre>
</div>
<p>2、.java文件</p>
<div class="phpstudycode">
<pre class="brush:java;">
importandroid.app.Activity;
importandroid.os.Bundle;
importandroid.view.View;
importandroid.view.View.OnClickListener;
import android.view.animation.AlphaAnimation;
import android.view.animation.Animation;
importandroid.view.animation.AnimationSet;
importandroid.view.animation.RotateAnimation;
importandroid.view.animation.ScaleAnimation;
import android.view.animation.TranslateAnimation;
importandroid.widget.Button;
importandroid.widget.ImageView;
public class Animation1Activity extends Activity {
  private Button rotateButton = null;
  private Button scaleButton = null;
  private Button alphaButton = null;
  private Button translateButton = null;
  private ImageView image = null;
  @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    rotateButton = (Button)findViewById(R.id.rotateButton);
    scaleButton = (Button)findViewById(R.id.scaleButton);
    alphaButton = (Button)findViewById(R.id.alphaButton);
    translateButton = (Button)findViewById(R.id.translateButton);
    image = (ImageView)findViewById(R.id.image);
    rotateButton.setOnClickListener(newRotateButtonListener());
    scaleButton.setOnClickListener(newScaleButtonListener());
    alphaButton.setOnClickListener(newAlphaButtonListener());
    translateButton.setOnClickListener(
      new TranslateButtonListener());
  }
  class AlphaButtonListener implementsOnClickListener{
    public void onClick(View v) {
      //创建一个AnimationSet对象，参数为Boolean型，
      //true表示使用Animation的interpolator，false则是使用自己的
      AnimationSet animationSet = new AnimationSet(true);
      //创建一个AlphaAnimation对象，参数从完全的透明度，到完全的不透明
      AlphaAnimation alphaAnimation = new AlphaAnimation(1, 0);
      //设置动画执行的时间
      alphaAnimation.setDuration(500);
      //将alphaAnimation对象添加到AnimationSet当中
      animationSet.addAnimation(alphaAnimation);
      //使用ImageView的startAnimation方法执行动画
      image.startAnimation(animationSet);
    }
  }
  class RotateButtonListener implementsOnClickListener{
    public void onClick(View v) {
      AnimationSet animationSet = new AnimationSet(true);
      //参数1：从哪个旋转角度开始
      //参数2：转到什么角度
      //后4个参数用于设置围绕着旋转的圆的圆心在哪里
      //参数3：确定x轴坐标的类型，有ABSOLUT绝对坐标、RELATIVE_TO_SELF相对于自身坐标、RELATIVE_TO_PARENT相对于父控件的坐标
      //参数4：x轴的值，0.5f表明是以自身这个控件的一半长度为x轴
      //参数5：确定y轴坐标的类型
      //参数6：y轴的值，0.5f表明是以自身这个控件的一半长度为x轴
      RotateAnimation rotateAnimation = new RotateAnimation(0, 360,
         Animation.RELATIVE_TO_SELF,0.5f,
         Animation.RELATIVE_TO_SELF,0.5f);
      rotateAnimation.setDuration(1000);
      animationSet.addAnimation(rotateAnimation);
      image.startAnimation(animationSet);
    }
  }
  class ScaleButtonListener implementsOnClickListener{
    public void onClick(View v) {
      AnimationSet animationSet = new AnimationSet(true);
      //参数1：x轴的初始值
      //参数2：x轴收缩后的值
      //参数3：y轴的初始值
      //参数4：y轴收缩后的值
      //参数5：确定x轴坐标的类型
      //参数6：x轴的值，0.5f表明是以自身这个控件的一半长度为x轴
      //参数7：确定y轴坐标的类型
      //参数8：y轴的值，0.5f表明是以自身这个控件的一半长度为x轴
      ScaleAnimation scaleAnimation = new ScaleAnimation(
         0, 0.1f,0,0.1f,
         Animation.RELATIVE_TO_SELF,0.5f,
         Animation.RELATIVE_TO_SELF,0.5f);
      scaleAnimation.setDuration(1000);
      animationSet.addAnimation(scaleAnimation);
      image.startAnimation(animationSet);
    }
  }
  class TranslateButtonListener implementsOnClickListener{
    public void onClick(View v) {
      AnimationSet animationSet = new AnimationSet(true);
      //参数1～2：x轴的开始位置
      //参数3～4：y轴的开始位置
      //参数5～6：x轴的结束位置
      //参数7～8：x轴的结束位置
      TranslateAnimation translateAnimation =
       new TranslateAnimation(
         Animation.RELATIVE_TO_SELF,0f,
         Animation.RELATIVE_TO_SELF,0.5f,
         Animation.RELATIVE_TO_SELF,0f,
         Animation.RELATIVE_TO_SELF,0.5f);
      translateAnimation.setDuration(1000);
      animationSet.addAnimation(translateAnimation);
      image.startAnimation(animationSet);
    }
  }
}

</pre>
</div>
<p><span style="color: #0000ff"><strong>Tween Animations的通用方法</strong></span></p>
<p>１、setDuration(long durationMills)<br />
设置动画持续时间（单位：毫秒）</p>
<p>２、setFillAfter(Boolean fillAfter)<br />
如果fillAfter的值为true,则动画执行后，控件将停留在执行结束的状态</p>
<p>３、setFillBefore(Boolean fillBefore)<br />
如果fillBefore的值为true，则动画执行后，控件将回到动画执行之前的状态</p>
<p>４、setStartOffSet(long startOffSet)<br />
设置动画执行之前的等待时间</p>
<p>５、setRepeatCount(int repeatCount)<br />
设置动画重复执行的次数</p>
<p>在代码中使用Animations可以很方便的调试、运行，但是代码的可重用性差，重复代码多。同样可以在xml文件中配置Animations，这样做可维护性变高了，只不过不容易进行调试。</p>
<p><strong>一、在xml中使用Animations步骤</strong></p>
<p>1.在res文件夹下建立一个anim文件夹；</p>
<p>2.创建xml文件，并首先加入set标签，更改标签如下：</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;&#63;xml version="1.0" encoding="utf-8"&#63;&gt;
&lt;set xmlns:android="http://schemas.android.com/apk/res/android"
android:interpolator="@android:anim/accelerate_interpolator"&gt;
&lt;/set&gt;

</pre>
</div>
<p>3.在该标签当中加入rotate，alpha，scale或者translate标签；</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;alpha
    android:fromAlpha="1.0"
    android:toAlpha="0.0"
    android:startOffset="500"
    android:duration="500"/&gt;

</pre>
</div>
<p>4.在代码当中使用AnimationUtils当中装载xml文件，并生成Animation对象。因为Animation是AnimationSet的子类，所以向上转型，用Animation对象接收。</p>
<div class="phpstudycode">
<pre class="brush:java;">
Animation animation = AnimationUtils.loadAnimation(
 Animation1Activity.this, R.anim.alpha);
// 启动动画
image.startAnimation(animation);

</pre>
</div>
<p><strong>二、具体实现</strong></p>
<p>1、 alpha.xml</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;&#63;xml version="1.0" encoding="utf-8"&#63;&gt;
&lt;set xmlns:android="http://schemas.android.com/apk/res/android"
  android:interpolator="@android:anim/accelerate_interpolator"&gt;
  &lt;!-- fromAlpha和toAlpha是起始透明度和结束时透明度 --&gt;
  &lt;alpha
    android:fromAlpha="1.0"
    android:toAlpha="0.0"
    android:startOffset="500"
    android:duration="500"/&gt;
&lt;/set&gt;

</pre>
</div>
<p>2、 rotate.xml</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;&#63;xml version="1.0" encoding="utf-8"&#63;&gt;
&lt;set xmlns:android="http://schemas.android.com/apk/res/android"
  android:interpolator="@android:anim/accelerate_interpolator"&gt;
  &lt;!--
    fromDegrees:开始的角度
    toDegrees：结束的角度，+表示是正的
    pivotX：用于设置旋转时的x轴坐标
    例
      1)当值为"50"，表示使用绝对位置定位
      2)当值为"50%"，表示使用相对于控件本身定位
      3)当值为"50%p"，表示使用相对于控件的父控件定位
    pivotY：用于设置旋转时的y轴坐标
   --&gt;
  &lt;rotate
    android:fromDegrees="0"
    android:toDegrees="+360"
    android:pivotX="50%"
    android:pivotY="50%"
    android:duration="1000"/&gt;
&lt;/set&gt;

</pre>
</div>
<p>3、 scale.xml</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;&#63;xml version="1.0" encoding="utf-8"&#63;&gt;
&lt;set xmlns:android="http://schemas.android.com/apk/res/android"
  android:interpolator="@android:anim/accelerate_interpolator"&gt;
  &lt;!--
    起始x轴坐标
      止x轴坐标
      始y轴坐标
      止y轴坐标
      轴的坐标
      轴的坐标
   --&gt;
  &lt;scale
    android:fromXScale="1.0"
    android:toXScale="0.0"
    android:fromYScale="1.0"
    android:toYScale="0.0"
    android:pivotX="50%"
    android:pivotY="50%"
    android:duration="1000"/&gt;
&lt;/set&gt;

</pre>
</div>
<p>4、 translate.xml</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;&#63;xml version="1.0" encoding="utf-8"&#63;&gt;
&lt;set xmlns:android="http://schemas.android.com/apk/res/android"
  android:interpolator="@android:anim/accelerate_interpolator"&gt;
  &lt;!--
      始x轴坐标
      止x轴坐标
      始y轴坐标
      止y轴坐标
   --&gt;
  &lt;translate
    android:fromXDelta="0%"
    android:toXDelta="100%"
    android:fromYDelta="0%"
    android:toYDelta="100%"
    android:duration="2000"/&gt;
&lt;/set&gt;

</pre>
</div>
<p>5、 .java文件</p>
<div class="phpstudycode">
<pre class="brush:java;">
importandroid.app.Activity;
importandroid.os.Bundle;
importandroid.view.View;
importandroid.view.View.OnClickListener;
import android.view.animation.Animation;
importandroid.view.animation.AnimationUtils;
import android.widget.Button;
import android.widget.ImageView;
public class Animation1Activity extends Activity {
  private Button rotateButton = null;
  private Button scaleButton = null;
  private Button alphaButton = null;
  private Button translateButton = null;
  private ImageView image = null;
  @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    rotateButton = (Button) findViewById(R.id.rotateButton);
    scaleButton = (Button) findViewById(R.id.scaleButton);
    alphaButton = (Button) findViewById(R.id.alphaButton);
    translateButton = (Button) findViewById(R.id.translateButton);
    image = (ImageView) findViewById(R.id.image);
    rotateButton.setOnClickListener(newRotateButtonListener());
    scaleButton.setOnClickListener(newScaleButtonListener());
    alphaButton.setOnClickListener(newAlphaButtonListener());
    translateButton.setOnClickListener(newTranslateButtonListener());
  }
  class AlphaButtonListener implementsOnClickListener {
    public void onClick(View v) {
      // 使用AnimationUtils装载动画配置文件
      Animation animation = AnimationUtils.loadAnimation(
         Animation1Activity.this, R.anim.alpha);
      // 启动动画
      image.startAnimation(animation);
    }
  }
  class RotateButtonListener implementsOnClickListener {
    public void onClick(View v) {
      Animation animation = AnimationUtils.loadAnimation(
         Animation1Activity.this, R.anim.rotate);
      image.startAnimation(animation);
    }
  }
  class ScaleButtonListener implementsOnClickListener {
    public void onClick(View v) {
      Animation animation = AnimationUtils.loadAnimation(
         Animation1Activity.this, R.anim.scale);
      image.startAnimation(animation);
    }
  }
  class TranslateButtonListener implementsOnClickListener {
    public void onClick(View v) {
      Animation animation = AnimationUtils.loadAnimation(Animation1Activity.this, R.anim.translate);
      image.startAnimation(animation);
    }
  }
}

</pre>
</div>
<p><span style="color: #0000ff"><strong>AnimationSet的具体使用方法</strong></span></p>
<p>1.AnimationSet是Animation的子类；</p>
<p>2.一个AnimationSet包含了一系列的Animation；</p>
<p>3.针对AnimationSet设置一些Animation的常见属性（如startOffset，duration等），可以被包含在AnimationSet当中的Animation集成；</p>
<p>例：一个AnimationSet中有两个Animation，效果叠加</p>
<p><strong>第一种方法：</strong></p>
<p>doubleani.xml</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;&#63;xml version="1.0" encoding="utf-8"&#63;&gt;
&lt;set xmlns:android="http://schemas.android.com/apk/res/android"
  android:interpolator="@android:anim/accelerate_interpolator"
  android:shareInterpolator="true"&gt;
  &lt;!-- fromAlpha和toAlpha是起始透明度和结束时透明度 --&gt;
  &lt;alpha
    android:fromAlpha="1.0"
    android:toAlpha="0.0"
    android:startOffset="500"
    android:duration="500"/&gt;
  &lt;translate
    android:fromXDelta="0%"
    android:toXDelta="100%"
    android:fromYDelta="0%"
    android:toYDelta="100%"
    android:duration="2000"/&gt;
&lt;/set&gt;

</pre>
</div>
<p>.java文件中</p>
<div class="phpstudycode">
<pre class="brush:java;">
classDoubleButtonListener implements OnClickListener {
    public void onClick(View v) {
      // 使用AnimationUtils装载动画配置文件
      Animation animation = AnimationUtils.loadAnimation(
         Animation2Activity.this, R.anim. doubleani);
      // 启动动画
      image.startAnimation(animation);
    }
  }

</pre>
</div>
<p><strong>第二种方法：</strong></p>
<p>.java文件中</p>
<div class="phpstudycode">
<pre class="brush:java;">
classDoubleButtonListener implements OnClickListener {
    public void onClick(View v) {
      AnimationSet animationSet = new AnimationSet(true);
      AlphaAnimation alphaAnimation = new AlphaAnimation(1, 0);
      RotateAnimation rotateAnimation = new RotateAnimation(0, 360,
         Animation.RELATIVE_TO_SELF,0.5f,
         Animation.RELATIVE_TO_SELF,0.5f);
      rotateAnimation.setDuration(1000);
      animationSet.addAnimation(rotateAnimation);
      animationSet.addAnimation(alphaAnimation);
      image.startAnimation(animationSet);
    }
  }

</pre>
</div>
<p><strong>Interpolator的具体使用方法</strong></p>
<p>Interpolator定义了动画变化的速率，在Animations框架当中定义了以下几种Interpolator</p>
<p><span style="text-transform: none; background-color: rgb(255,255,255); text-indent: -28px; display: inline !important; font: 16px/21px Wingdings; white-space: normal; float: none; letter-spacing: normal; color: rgb(68,68,68); word-spacing: 0px; -webkit-text-stroke-width: 0px">&#63;</span><span style="text-transform: none; background-color: rgb(255,255,255); text-indent: -28px; font: 7pt 'Times new roman'; white-space: normal; letter-spacing: normal; color: rgb(68,68,68); word-spacing: 0px; -webkit-text-stroke-width: 0px">&nbsp;&nbsp;</span>AccelerateDecelerateInterpolator：在动画开始与结束的地方速率改变比较慢，在中间的时候速率快。<br />
<span style="text-transform: none; background-color: rgb(255,255,255); text-indent: -28px; display: inline !important; font: 16px/21px Wingdings; white-space: normal; float: none; letter-spacing: normal; color: rgb(68,68,68); word-spacing: 0px; -webkit-text-stroke-width: 0px">&#63;</span><span style="text-transform: none; background-color: rgb(255,255,255); text-indent: -28px; font: 7pt 'Times new roman'; white-space: normal; letter-spacing: normal; color: rgb(68,68,68); word-spacing: 0px; -webkit-text-stroke-width: 0px">&nbsp;&nbsp;</span>AccelerateInterpolator：在动画开始的地方速率改变比较慢，然后开始加速<br />
<span style="text-transform: none; background-color: rgb(255,255,255); text-indent: -28px; display: inline !important; font: 16px/21px Wingdings; white-space: normal; float: none; letter-spacing: normal; color: rgb(68,68,68); word-spacing: 0px; -webkit-text-stroke-width: 0px">&#63;</span><span style="text-transform: none; background-color: rgb(255,255,255); text-indent: -28px; font: 7pt 'Times new roman'; white-space: normal; letter-spacing: normal; color: rgb(68,68,68); word-spacing: 0px; -webkit-text-stroke-width: 0px">&nbsp;&nbsp;</span>CycleInterpolator：动画循环播放特定的次数，速率改变沿着正弦曲线<br />
<span style="text-transform: none; background-color: rgb(255,255,255); text-indent: -28px; display: inline !important; font: 16px/21px Wingdings; white-space: normal; float: none; letter-spacing: normal; color: rgb(68,68,68); word-spacing: 0px; -webkit-text-stroke-width: 0px">&#63;</span><span style="text-transform: none; background-color: rgb(255,255,255); text-indent: -28px; font: 7pt 'Times new roman'; white-space: normal; letter-spacing: normal; color: rgb(68,68,68); word-spacing: 0px; -webkit-text-stroke-width: 0px">&nbsp;&nbsp;</span>DecelerateInterpolator：在动画开始的地方速率改变比较慢，然后开始减速<br />
<span style="text-transform: none; background-color: rgb(255,255,255); text-indent: -28px; display: inline !important; font: 16px/21px Wingdings; white-space: normal; float: none; letter-spacing: normal; color: rgb(68,68,68); word-spacing: 0px; -webkit-text-stroke-width: 0px">&#63;</span><span style="text-transform: none; background-color: rgb(255,255,255); text-indent: -28px; font: 7pt 'Times new roman'; white-space: normal; letter-spacing: normal; color: rgb(68,68,68); word-spacing: 0px; -webkit-text-stroke-width: 0px">&nbsp;&nbsp;</span>LinearInterpolator：动画以均匀的速率改变</p>
<p>分为以下几种情况：</p>
<p>1、在set标签中</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;set xmlns:android="http://schemas.android.com/apk/res/android"
android:interpolator="@android:anim/accelerate_interpolator"/&gt;

</pre>
</div>
<p>2、如果在一个set标签中包含多个动画效果，如果想让这些动画效果共享一个Interpolator。<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="43600" class="copybut" id="copybut43600" onclick="doCopy('code43600')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code43600">android:shareInterpolator="true"</div><br />
3、如果不想共享一个interpolator，则设置android:shareInterpolator="true"，并且需要在每一个动画效果处添加interpolator。</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;alpha
    android:interpolator="@android:anim/accelerate_decelerate_interpolator"
    android:fromAlpha="1.0"
    android:toAlpha="0.0"
    android:startOffset="500"
    android:duration="500"/&gt;

</pre>
</div>
<p>4、如果是在代码上设置共享一个interpolator，则可以在AnimationSet设置interpolator。</p>
<div class="phpstudycode">
<pre class="brush:java;">
AnimationSet animationSet = newAnimationSet(true);
animationSet.setInterpolator(new AccelerateInterpolator());

</pre>
</div>
<p>5、如果不设置共享一个interpolator则可以在每一个Animation对象上面设置interpolator。</p>
<div class="phpstudycode">
<pre class="brush:java;">
AnimationSet animationSet = newAnimationSet(false);
alphaAnimation.setInterpolator(new AccelerateInterpolator());
rotateAnimation.setInterpolator(new DecelerateInterpolator());

</pre>
</div>
<p><span style="color: #0000ff"><strong>Frame-By-Frame Animations的使用方法</strong></span></p>
<p>Frame-By-Frame Animations是一帧一帧的格式显示动画效果。类似于电影胶片拍摄的手法。</p>
<p>main.xml</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;&#63;xml version="1.0" encoding="utf-8"&#63;&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:orientation="vertical"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"&gt;
  &lt;LinearLayout
    android:orientation="horizontal"
    android:layout_height="wrap_content"
    android:layout_width="wrap_content"&gt;
    &lt;Button
      android:id="@+id/button"
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        android:text="运动"/&gt;
  &lt;/LinearLayout&gt;
  &lt;LinearLayout
    android:orientation="vertical"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"&gt;
    &lt;ImageView
      android:id="@+id/image"
      android:layout_width="wrap_content"
      android:layout_height="wrap_content"
      android:layout_centerInParent="true"/&gt;
  &lt;/LinearLayout&gt;
&lt;/LinearLayout&gt;

</pre>
</div>
<p>3、anim.xml</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;&#63;xml version="1.0" encoding="utf-8"&#63;&gt;
&lt;animation-list xmlns:android="http://schemas.android.com/apk/res/android"
  android:oneshot="false"&gt;
  &lt;item android:drawable="@drawable/a_01" android:duration="50"/&gt;
  &lt;item android:drawable="@drawable/a_02" android:duration="50"/&gt;
  &lt;item android:drawable="@drawable/a_03" android:duration="50"/&gt;
  &lt;item android:drawable="@drawable/a_04" android:duration="50"/&gt;
  &lt;item android:drawable="@drawable/a_05" android:duration="50"/&gt;
  &lt;item android:drawable="@drawable/a_06" android:duration="50"/&gt;
&lt;/animation-list&gt;

</pre>
</div>
<p>4、.java文件</p>
<div class="phpstudycode">
<pre class="brush:java;">
importandroid.app.Activity;
importandroid.graphics.drawable.AnimationDrawable;
importandroid.os.Bundle;
importandroid.view.View;
importandroid.view.View.OnClickListener;
importandroid.widget.Button;
importandroid.widget.ImageView;
public class AnimationsActivity extends Activity {
  private Button button = null;
  private ImageView imageView = null;
  @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    button = (Button)findViewById(R.id.button);
    imageView = (ImageView)findViewById(R.id.image);
    button.setOnClickListener(newButtonListener());
  }
  class ButtonListener implementsOnClickListener{
    public void onClick(View v) {
      imageView.setBackgroundResource(R.anim.anim);
      AnimationDrawable animationDrawable = (AnimationDrawable)
       imageView.getBackground();
      animationDrawable.start();
    }
  }
}

</pre>
</div>
<p><span style="color: #0000ff"><strong>LayoutAnimationsController</strong></span></p>
<p><strong>1、什么是LayoutAnimationsController<br />
</strong>LayoutAnimationsController可以用于实现使多个控件按顺序一个一个的显示。</p>
<p>1)LayoutAnimationsController用于为一个layout里面的控件，或者是一个ViewGroup里面的控件设置统一的动画效果。</p>
<p>2)每一个控件都有相同的动画效果。</p>
<p>3)控件的动画效果可以在不同的时间显示出来。</p>
<p>4)LayoutAnimationsController可以在xml文件当中设置，以可以在代码当中进行设置。</p>
<p><strong>2、在xml当中使用LayoutAnimationController</strong></p>
<p>1)在res/anim文件夹下创建一个名为list_anim_layout.xml文件：</p>
<p>android:delay - 动画间隔时间；子类动画时间间隔 （延迟）&nbsp;&nbsp; 70% 也可以是一个浮点数 如“1.2”等</p>
<p>android:animationOrder - 动画执行的循序<span style="color: #ff0000">(normal：顺序，random：随机，reverse：反向显示)</span></p>
<p>android:animation – 引用动画效果文件</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;layoutAnimation
  xmlns:android="http://schemas.android.com/apk/res/android"
  android:delay="0.5"
  android:animationOrder="normal"
  android:animation="@anim/list_anim"/&gt;

</pre>
</div>
<p>2)创建list_anim.xml文件，设置动画效果</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;&#63;xml version="1.0" encoding="utf-8"&#63;&gt;
&lt;set xmlns:android="http://schemas.android.com/apk/res/android"
  android:interpolator="@android:anim/accelerate_interpolator"
  android:shareInterpolator="true"&gt;
  &lt;alpha
    android:fromAlpha="0.0"
    android:toAlpha="1.0"
    android:duration="1000"/&gt;
&lt;/set&gt;

</pre>
</div>
<p>3）在布局文件main.xml当中为ListVIew添加如下配置</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;ListView
    android:id="@id/android:list"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:scrollbars="vertical"
    android:layoutAnimation="@anim/list_anim_layout"/&gt;

</pre>
</div>
<p>4)程序结构</p>
<p></p>
<p>5)list_anim_layout.xml</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;layoutAnimation
xmlns:android="http://schemas.android.com/apk/res/android"
  android:delay="0.5"
  android:animationOrder="normal"
  android:animation="@anim/list_anim"/&gt;

</pre>
</div>
<p>6)list_anim.xml</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;&#63;xml version="1.0" encoding="utf-8"&#63;&gt;
&lt;set xmlns:android="http://schemas.android.com/apk/res/android"
  android:interpolator="@android:anim/accelerate_interpolator"
  android:shareInterpolator="true"&gt;
  &lt;alpha
    android:fromAlpha="0.0"
    android:toAlpha="1.0"
    android:duration="1000"/&gt;
&lt;/set&gt;

</pre>
</div>
<p>7)main.xml</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;&#63;xml version="1.0" encoding="utf-8"&#63;&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:orientation="vertical"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  &gt;
  &lt;ListView
    android:id="@id/android:list"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:scrollbars="vertical"
    android:layoutAnimation="@anim/list_anim_layout"/&gt;
  &lt;Button
    android:id="@+id/button"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:text="测试"/&gt;
&lt;/LinearLayout&gt;

</pre>
</div>
<p>8)item.xml</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;&#63;xml version="1.0" encoding="utf-8"&#63;&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  android:orientation="horizontal"
  android:paddingLeft="10dip"
  android:paddingRight="10dip"
  android:paddingTop="1dip"
  android:paddingBottom="1dip"&gt;
  &lt;TextView android:id="@+id/name"
    android:layout_width="180dip"
    android:layout_height="30dip"
    android:textSize="5pt"
    android:singleLine="true" /&gt;
  &lt;TextView android:id="@+id/sex"
    android:layout_width="fill_parent"
    android:layout_height="fill_parent"
    android:textSize="5pt"
    android:singleLine="true"/&gt;
&lt;/LinearLayout&gt;

</pre>
</div>
<p>9)java文件</p>
<div class="phpstudycode">
<pre class="brush:java;">
public class Animation2Activity extendsListActivity {
  private Button button = null;
  private ListView listView = null;
  @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    listView = getListView();
    button = (Button)findViewById(R.id.button);
    button.setOnClickListener(newButtonListener());
  }
  private ListAdapter createListAdapter() {
    List&lt;HashMap&lt;String,String&gt;&gt; list =
      new ArrayList&lt;HashMap&lt;String,String&gt;&gt;();
    HashMap&lt;String,String&gt; m1 = new HashMap&lt;String,String&gt;();
    m1.put("name", "bauble");
    m1.put("sex", "male");
    HashMap&lt;String,String&gt; m2 = new HashMap&lt;String,String&gt;();
    m2.put("name", "Allorry");
    m2.put("sex", "male");
    HashMap&lt;String,String&gt; m3 = new HashMap&lt;String,String&gt;();
    m3.put("name", "Allotory");
    m3.put("sex", "male");
    HashMap&lt;String,String&gt; m4 = new HashMap&lt;String,String&gt;();
    m4.put("name", "boolbe");
    m4.put("sex", "male");
    list.add(m1);
    list.add(m2);
    list.add(m3);
    list.add(m4);
    SimpleAdapter simpleAdapter = new SimpleAdapter(
       this,list,R.layout.item,new String[]{"name","sex"},
       new int[]{R.id.name,R.id.sex});
    return simpleAdapter;
  }
  private class ButtonListener implementsOnClickListener{
    public void onClick(View v) {
      listView.setAdapter(createListAdapter());
    }
  }
}

</pre>
</div>
<p>备注：<strong>要将整个动画效果设置到LinerLayout中，可以这样设置：</strong></p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;LinearLayoutxmlns:android="http://schemas.android.com/apk/res/android"
  android:orientation="vertical"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"
  android:layoutAnimation="@anim/list_anim_layout"
&gt;

</pre>
</div>
<p><strong>3、在代码当中使用LayoutAnimationController</strong></p>
<p>1）去掉main.xml中的<span style="color: #0000ff">android:layoutAnimation="@anim/list_anim_layout"/&gt;</span></p>
<p>2）创建一个Animation对象：可以通过装载xml文件，或者是直接使用Animation的构造方法创建Animation对象；</p>
<div class="phpstudycode">
<pre class="brush:java;">
Animation animation = (Animation) AnimationUtils.loadAnimation(
 Animation2Activity.this, R.anim.list_anim);

</pre>
</div>
<p>3）创建LayoutAnimationController对象：&nbsp; <br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="35314" class="copybut" id="copybut35314" onclick="doCopy('code35314')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code35314">LayoutAnimationController controller = new LayoutAnimationController(animation);</div><br />
4）设置控件的显示顺序以及延迟时间</p>
<div class="phpstudycode">
<pre class="brush:java;">
controller.setOrder(LayoutAnimationController.ORDER_NORMAL);
controller.setDelay(0.5f);

</pre>
</div>
<p>5）为ListView设置LayoutAnimationController属性：<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="13287" class="copybut" id="copybut13287" onclick="doCopy('code13287')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code13287">listView.setLayoutAnimation(controller);</div><br />
完整代码：</p>
<div class="phpstudycode">
<pre class="brush:java;">
private class ButtonListener implementsOnClickListener {
    public void onClick(View v) {
      listView.setAdapter(createListAdapter());
      Animation animation = (Animation) AnimationUtils.loadAnimation(
         Animation2Activity.this, R.anim.list_anim);
      LayoutAnimationController controller = new LayoutAnimationController(animation); 
      controller.setOrder(LayoutAnimationController.ORDER_NORMAL); 
      controller.setDelay(0.5f);
      listView.setLayoutAnimation(controller); 
    }
  }

</pre>
</div>
<p><span style="color: #0000ff"><strong>AnimationListener</strong></span></p>
<p><strong>1、什么是AnimationListener</strong></p>
<p>1).AnimationListener是一个监听器，该监听器在动画执行的各个阶段会得到通知，从而调用相应的方法；</p>
<p>2).AnimationListener主要包括如下三个方法：</p>
<p>① onAnimationEnd(Animation animation) - 当动画结束时调用<br />
② onAnimationRepeat(Animation animation) - 当动画重复时调用<br />
③ onAniamtionStart(Animation animation) - 当动画启动时调用</p>
<p><strong>2、具体实现</strong></p>
<p>1）main.xml</p>
<div class="phpstudycode">
<pre class="brush:xml;">
&lt;&#63;xml version="1.0" encoding="utf-8"&#63;&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
  android:id="@+id/layout"
  android:orientation="vertical"
  android:layout_width="fill_parent"
  android:layout_height="fill_parent"&gt;
  &lt;Button android:id="@+id/addButton"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_alignParentBottom="true"
    android:text="添加图片" /&gt;
  &lt;Button android:id="@+id/deleteButton"
    android:layout_width="fill_parent"
    android:layout_height="wrap_content"
    android:layout_above="@id/addButton"
    android:text="删除图片" /&gt;
  &lt;ImageView android:id="@+id/image"
    android:layout_width="wrap_content"
    android:layout_height="wrap_content"
    android:layout_centerInParent="true"
    android:layout_marginTop="100dip"
    android:src="@drawable/an" /&gt;
&lt;/RelativeLayout&gt;

</pre>
</div>
<p>2).java文件</p>
<div class="phpstudycode">
<pre class="brush:java;">
public class Animation2Activity extends Activity {
  private Button addButton = null;
  private Button deleteButton = null;
  private ImageView imageView = null;
  private ViewGroup viewGroup = null;
  @Override
  public void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);
    setContentView(R.layout.main);
    addButton = (Button)findViewById(R.id.addButton);
    deleteButton = (Button)findViewById(R.id.deleteButton);
    imageView = (ImageView)findViewById(R.id.image);
    //LinearLayout下的一组控件
    viewGroup = (ViewGroup)findViewById(R.id.layout);
    addButton.setOnClickListener(newAddButtonListener());
    deleteButton.setOnClickListener(newDeleteButtonListener());
  }
  private class AddButtonListener implements OnClickListener{
    public void onClick(View v) {
      //淡入
      AlphaAnimation animation = new AlphaAnimation(0.0f, 1.0f);
      animation.setDuration(1000);
      animation.setStartOffset(500);
      //创建一个新的ImageView
      ImageView newImageView = new ImageView(
       Animation2Activity.this);
      newImageView.setImageResource(R.drawable.an);
      viewGroup.addView(newImageView,
       new LayoutParams(
         LayoutParams.FILL_PARENT,
         LayoutParams.WRAP_CONTENT));
      newImageView.startAnimation(animation);
    }
  }
  private class DeleteButtonListener implements OnClickListener{
    public void onClick(View v) {
      //淡出
      AlphaAnimation animation = new AlphaAnimation(1.0f, 0.0f);
      animation.setDuration(1000);
      animation.setStartOffset(500);
      //为Aniamtion对象设置监听器
      animation.setAnimationListener(
       new RemoveAnimationListener());
      imageView.startAnimation(animation);
    }
  }
  private class RemoveAnimationListener implements AnimationListener{
    //动画效果执行完时remove
    public void onAnimationEnd(Animation animation) {
      System.out.println("onAnimationEnd");
      viewGroup.removeView(imageView);
    }
    public void onAnimationRepeat(Animation animation) {
      System.out.println("onAnimationRepeat");
    }
    public void onAnimationStart(Animation animation) {
      System.out.println("onAnimationStart");
    }
  }
}

</pre>
</div>
<p><strong>3、总结一下</strong></p>
<p>可以在Activity中动态添加和删除控件，方法是：</p>
<p>1)取到那个Layout<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="52808" class="copybut" id="copybut52808" onclick="doCopy('code52808')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code52808">viewGroup = (ViewGroup)findViewById(R.id.layout);</div><br />
2)添加时，先创建对象，然后添加</p>
<div class="phpstudycode">
<pre class="brush:java;">
ImageView newImageView = new ImageView(
  Animation2Activity.this);
newImageView.setImageResource(R.drawable.an);
viewGroup.addView(newImageView,
       new LayoutParams(
         LayoutParams.FILL_PARENT,
         LayoutParams.WRAP_CONTENT));

</pre>
</div>
<p>3）删除时，直接删除。<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="34246" class="copybut" id="copybut34246" onclick="doCopy('code34246')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code34246">viewGroup.removeView(imageView);</div></p>
<p>希望本文所述对大家Android程序设计有所帮助。</p>
<hr></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/82762.html'>简单了解C#设计模式编程中的桥接模式</a><a>下一篇</a><a href='/php/biji/82764.html'>DropDownList根据下拉项的Text文本序号排序</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>