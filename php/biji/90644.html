<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>全面介绍javascript实用技巧及单竖杠_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="JavaScript 本身可以算是一门简单的语言，但我们也不断用智慧和灵活的模式来改进它。昨天我们将这些模式应用到了 JavaScript 框架中，今天这些框架又驱动了我们的 Web 应用程序" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li><li><a href="/php/phpbiji/108382.html"></a></li><li><a href="/php/phpbiji/108384.html"></a></li><li><a href="/php/phpbiji/108383.html"></a></li><li><a href="/php/phpbiji/108385.html"></a></li><li><a href="/php/phpbiji/108386.html"></a></li><li><a href="/php/phpbiji/108388.html"></a></li><li><a href="/php/phpbiji/108387.html"></a></li><li><a href="/php/phpbiji/108389.html"></a></li><li><a href="/php/phpbiji/108391.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">全面介绍javascript实用技巧及单竖杠</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>JavaScript 本身可以算是一门简单的语言，但我们也不断用智慧和灵活的模式来改进它。昨天我们将这些模式应用到了 JavaScript 框架中，今天这些框架又驱动了我们的 Web 应用程序</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p>JavaScript 本身可以算是一门简单的语言，但我们也不断用智慧和灵活的模式来改进它。昨天我们将这些模式应用到了 JavaScript 框架中，今天这些框架又驱动了我们的 Web 应用程序。很多新手开发者被各种强大的 JavaScript 框架吸引进来，但他们却忽略了框架身后浩如星海的 JavaScript 实用技巧。本文将为你全面的介绍其中的知识点。<strong><br />
</strong></p>
<p><strong>一、js整数的操作</strong></p>
<p>使用|0和~~可以将浮点转成整型且效率方面要比同类的parseInt,Math.round 要快,在处理像素及动画位移等效果的时候会很有用。性能比较见此。</p>
<div class="phpstudycode">
<pre class="brush:js;">
var foo = (12.4 / 4.13) | 0;//结果为3
var bar = ~~(12.4 / 4.13);//结果为3</pre>
</div>
<p>还有一个小技巧，就是！！2个叹号，可以讲一个值，快速转化为布尔值。你可以测试一下！</p>
<div class="phpstudycode">
<pre class="brush:js;">
var eee="eee";
alert(!!eee)</pre>
</div>
<p>返回的是true,也就是说任何一个值前面加！！都可以恒等于true。除非这个值本来就是布尔值，或者为 undefined, null, 0, false, NaN, ''，因为我提到的 undefined, null, 0, false, NaN, '' ，这些，本来就是false,所以加了两个！！之后，还是fasle。</p>
<p><strong>二、重写原生alert,记录弹框次数</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
(function() {
 var oldAlert = window.alert,
 count = 0;
 window.alert = function(a) {
 count++;
 oldAlert(a + "\n You've called alert " + count + " times now. Stop, it's evil!");
 };
})();
alert("Hello Haorooms");</pre>
</div>
<p><strong>三、数字交换不声明中间变量的方法</strong></p>
<p>两个数字之间做交换，我们的一般做法是声明一个中间变量，但是今天的做法比较奇葩，不用声明中间变量，看看是如何实现的！</p>
<div class="phpstudycode">
<pre class="brush:js;">
var a=1,b=2;a=[b,b=a][0];
console.log('a:'+a+',b:'+b);

 //输出a:2,b:1</pre>
</div>
<p>怎么样，这个方法是不是有一种焕然一新的感觉？</p>
<p><strong>四、万物皆对象</strong></p>
<p>在JavaScript的世界，万物皆对象。除了null和undefined，其他基本类型数字，字符串和布尔值都有对应有包装对象。对象的一个特征是你可以在它身上直接调用方法。</p>
<p>对于数字基本类型，当试图在其身上调用toString方法会失败，但用括号括起来后再调用就不会失败了，内部实现是用相应的包装对象将基本类型转为对象。所以(1).toString()相当于new Number(1).toString()。因此，你的确可以把基本类型数字，字符串，布尔等当对象使用的，只是注意语法要得体。</p>
<p>同时我们注意到，JavaScript中数字是不分浮点和整形的，所有数字其实均是浮点类型，只是把小数点省略了而以，比如你看到的1可以写成1.，这也就是为什么当你试图1.toString()时会报错，所以正确的写法应该是这样：1..toString()，或者如上面所述加上括号，这里括号的作用是纠正JS解析器，不要把1后面的点当成小数点。内部实现如上面所述，是将1.用包装对象转成对象再调用方法。</p>
<p><strong>五、If语句的变形</strong></p>
<p>当你需要写一个if语句的时候，不妨尝试另一种更简便的方法，用JavaScript中的逻辑操作符来代替。</p>
<div class="phpstudycode">
<pre class="brush:js;">
var day=(new Date).getDay()===0;
//传统if语句
if (day) {
 alert('Today is Sunday!');
};
//运用逻辑与代替if
day&&alert('Today is Sunday!');</pre>
</div>
<p>比如上面的代码，首先得到今天的日期，如果是星期天，则弹窗，否则什么也不做。我们知道逻辑操作存在短路的情况，对于逻辑与表达式，只有两者都真才结果才为真，如果前面的day变量被判断为假了，那么对于整个与表达式来说结果就是假，所以就不会继续去执行后面的alert了，如果前面day为真，则还要继续执行后面的代码来确定整个表达式的真假。利用这点达到了if的效果。</p>
<p>对于传统的if语句，如果执行体代码超过了1 条语句，则需要加花括号，而利用逗号表达式，可以执行任意条代码而不用加花括号。</p>
<div class="phpstudycode">
<pre class="brush:js;">
if(conditoin) alert(1),alert(2),console.log(3);</pre>
</div>
<p><strong>六、使用===，而不是＝＝</strong></p>
<p>==（或!=）操作符在需要的时候会自动执行类型转换。===（或!==）操作不会执行任何转换。它将比较值和类型，而且在速度上也被认为优于==。</p>
<div class="phpstudycode">
<pre class="brush:js;">
[10] === 10 // is false
[10] == 10 // is true
'10' == 10 // is true
'10' === 10 // is false
 [] == 0 // is true
 [] === 0 // is false
 '' == false // is true but true == "a" is false
 '' === false // is false</pre>
</div>
<p><strong>七、使用闭包实现私有变量</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
function Person(name, age) {
 this.getName = function() { return name; };
 this.setName = function(newName) { name = newName; };
 this.getAge = function() { return age; };
 this.setAge = function(newAge) { age = newAge; };

 //未在构造函数中初始化的属性
 var occupation;
 this.getOccupation = function() { return occupation; };
 this.setOccupation = function(newOcc) { occupation = 
    newOcc; };
}</pre>
</div>
<p><strong>八、创建对象的构造函数</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
function Person(firstName, lastName){
 this.firstName = firstName;
 this.lastName = lastName;
}

var Saad = new Person("Saad", "Mousliki");</pre>
</div>
<p><br />
<strong>九、小心使用typeof、instanceof和constructor</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
var arr = ["a", "b", "c"];
typeof arr; // return "object"
arr instanceof Array // true
arr.constructor(); //[]</pre>
</div>
<p><strong>十、创建一个自调用函数（Self-calling Funtion）</strong></p>
<p>这个经常被称为自调用匿名函数（Self-Invoked Anonymous Function）或者即时调用函数表达式（IIFE-Immediately Invoked Function Expression)。这是一个在创建后立即自动执行的函数，通常如下：</p>
<div class="phpstudycode">
<pre class="brush:js;">
(function(){
 // some private code that will be executed automatically
})();
(function(a,b){
 var result = a+b;
 return result;
})(10,20)</pre>
</div>
<p><strong>十一、从数组中获取一个随机项</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
var items = [12, 548 , 'a' , 2 , 5478 , 'foo' , 8852, , 'Doe' , 2145 , 119];

var randomItem = items[Math.floor(Math.random() * items.length)];</pre>
</div>
<p><strong>十二、在特定范围内获取一个随机数</strong></p>
<p>这个代码片段在你想要生成测试数据的时候非常有用，比如一个在最小最大值之间的一个随机薪水值。</p>
<div class="phpstudycode">
<pre class="brush:js;">
var x = Math.floor(Math.random() * (max - min + 1)) + min;</pre>
</div>
<p><strong>十三、在0和设定的最大值之间生成一个数字数组</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
var numbersArray = [] , max = 100;

for( var i=1; numbersArray.push(i++) &lt; max;); // numbers = [0,1,2,3 ... 100]</pre>
</div>
<p><strong>十四、生成一个随机的数字字母字符串</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
function generateRandomAlphaNum(len) {
 var rdmstring = "";
 for( ; rdmString.length &lt; len; rdmString += Math.random().toString(36).substr(2));
 return rdmString.substr(0, len);
}

//调用方法generateRandomAlphaNum(15);</pre>
</div>
<p><strong>十五、打乱一个数字数组</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
var numbers = [5, 458 , 120 , -215 , 228 , 400 , 122205, -85411];
numbers = numbers.sort(function(){ return Math.random() - 0.5});
/* the array numbers will be equal for example to [120, 5, 228, -215, 400, 458, -85411, 122205] */</pre>
</div>
<p><strong>十六、 String的trim函数</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
String.prototype.trim = function(){return this.replace(/^\s+|\s+$/g, "");};</pre>
</div>
<p><strong>十七、 附加（append）一个数组到另一个数组上</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
var array1 = [12 , "foo" , {name: "Joe"} , -2458];

var array2 = ["Doe" , 555 , 100];
Array.prototype.push.apply(array1, array2);
/* array1 will be equal to [12 , "foo" , {name "Joe"} , -2458 , "Doe" , 555 , 100] */</pre>
</div>
<p><strong>十八、将arguments对象转换成一个数组</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
var argArray = Array.prototype.slice.call(arguments);
【译者注：arguments对象是一个类数组对象，但不是一个真正的数组】</pre>
</div>
<p><strong>十九、验证参数是否是数字（number）</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
function isNumber(n){
 return !isNaN(parseFloat(n)) && isFinite(n);
}</pre>
</div>
<p><strong>二十、验证参数是否是数组</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
function isArray(obj){
 return Object.prototype.toString.call(obj) === '[object Array]' ;
}</pre>
</div>
<p>注意：如果toString()方法被重写了（overridden），你使用这个技巧就不能得到想要的结果了。或者你可以使用：</p>
<div class="phpstudycode">
<pre class="brush:js;">
Array.isArray(obj); // 这是一个新的array的方法</pre>
</div>
<p>如果你不在使用多重frames的情况下，你还可以使用 instanceof 方法。但如果你有多个上下文，你就会得到错误的结果。</p>
<div class="phpstudycode">
<pre class="brush:js;">
var myFrame = document.createElement('iframe');
document.body.appendChild(myFrame);

var myArray = window.frames[window.frames.length-1].Array;
var arr = new myArray(a,b,10); // [a,b,10]

// instanceof will not work correctly, myArray loses his constructor
// constructor is not shared between frames
arr instanceof Array; // false</pre>
</div>
<p>【译者注：关于如何判断数组网上有不少讨论，大家可以google一下。这篇就写的挺详细的。】</p>
<p><strong>二十一、获取一个数字数组中的最大值或最小值</strong></p>
<p>var&nbsp; numbers = [5, 458 , 120 , -215 , 228 , 400 , 122205, -85411];<br />
var maxInNumbers = Math.max.apply(Math, numbers);<br />
var minInNumbers = Math.min.apply(Math, numbers);<br />
【译者注：这里使用了Function.prototype.apply方法传递参数的技巧】</p>
<p><strong>二十二、清空一个数组</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
var myArray = [12 , 222 , 1000 ];
myArray.length = 0; // myArray will be equal to [].</pre>
</div>
<p><strong>二十三、不要使用 delete 来删除一个数组中的项。</strong></p>
<p>使用 splice 而不要使用 delete 来删除数组中的某个项。使用 delete 只是用 undefined 来替换掉原有的项，并不是真正的从数组中删除。</p>
<p>不要使用这种方式：</p>
<div class="phpstudycode">
<pre class="brush:js;">
var items = [12, 548 ,'a' , 2 , 5478 , 'foo' , 8852, , 'Doe' ,2154 , 119 ];
items.length; // return 11
delete items[3]; // return true
items.length; // return 11
/* items will be equal to [12, 548, "a", undefined × 1, 5478, "foo", 8852, undefined × 1, "Doe", 2154, 119] */</pre>
</div>
<p>而使用：</p>
<div class="phpstudycode">
<pre class="brush:js;">
var items = [12, 548 ,'a' , 2 , 5478 , 'foo' , 8852, , 'Doe' ,2154 , 119 ];
items.length; // return 11
items.splice(3,1) ;
items.length; // return 10
/* items will be equal to [12, 548, "a", 5478, "foo", 8852, undefined × 1, "Doe", 2154, 119] */</pre>
</div>
<p>delete 方法应该被用来删除一个对象的某个属性。</p>
<p><strong>二十四、使用 length 来截短一个数组</strong></p>
<p>跟上面的清空数组的方式类似，我们使用 length 属性来截短一个数组。</p>
<div class="phpstudycode">
<pre class="brush:js;">
var myArray = [12 , 222 , 1000 , 124 , 98 , 10 ];
myArray.length = 4; // myArray will be equal to [12 , 222 , 1000 , 124].</pre>
</div>
<p>此外，如果你将一个数组的 length 设置成一个比现在大的值，那么这个数组的长度就会被改变，会增加新的 undefined 的项补上。 数组的 length 不是一个只读属性。</p>
<div class="phpstudycode">
<pre class="brush:js;">
myArray.length = 10; // the new array length is 10
myArray[myArray.length - 1] ; // undefined</pre>
</div>
<p><strong>二十五、使用逻辑 AND/OR 做条件判断</strong></p>
<p>同（五），if变形语句！</p>
<div class="phpstudycode">
<pre class="brush:js;">
var foo = 10;
foo == 10 && doSomething(); // 等价于 if (foo == 10) doSomething();
foo == 5 || doSomething(); // 等价于 if (foo != 5) doSomething();</pre>
</div>
<p><br />
逻辑 AND 还可以被使用来为函数参数设置默认值</p>
<div class="phpstudycode">
<pre class="brush:js;">
function doSomething(arg1){
 Arg1 = arg1 || 10; // 如果arg1没有被设置的话，Arg1将被默认设成10
}</pre>
</div>
<p><strong>二十六、使用 map() 方法来遍历一个数组里的项</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
var squares = [1,2,3,4].map(function (val) {
 return val * val;
});
// squares will be equal to [1, 4, 9, 16]</pre>
</div>
<p><strong>二十七、四舍五入一个数字，保留N位小数</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
var num =2.443242342;
num = num.toFixed(4); // num will be equal to 2.4432</pre>
</div>
<p><strong>二十八、浮点数问题</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
0.1 + 0.2 === 0.3 // is false
9007199254740992 + 1 // is equal to 9007199254740992
9007199254740992 + 2 // is equal to 9007199254740994</pre>
</div>
<p>为什么会这样？ 0.1+0.2等于0.30000000000000004。你要知道，所有的JavaScript数字在内部都是以64位二进制表示的浮点数，符合IEEE 754标准。更多的介绍，可以阅读这篇博文。你可以使用 toFixed() 和 toPrecision() 方法解决这个问题。</p>
<p><strong>二十九、使用for-in遍历一个对象内部属性的时候注意检查属性</strong></p>
<p>下面的代码片段能够避免在遍历一个对象属性的时候访问原型的属性</p>
<div class="phpstudycode">
<pre class="brush:js;">
for (var name in object) {
 if (object.hasOwnProperty(name)) {
 // do something with name
 }
}</pre>
</div>
<p><strong>三十、 逗号操作符</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
var a = 0;
var b = ( a++, 99 );
console.log(a); // a will be equal to 1
console.log(b); // b is equal to 99</pre>
</div>
<p><strong>三十一、缓存需要计算和查询（calculation or querying）的变量</strong></p>
<p>对于jQuery选择器，我们最好缓存这些DOM元素。</p>
<div class="phpstudycode">
<pre class="brush:js;">
var navright = document.querySelector('#right');
var navleft = document.querySelector('#left');
var navup = document.querySelector('#up');
var navdown = document.querySelector('#down');</pre>
</div>
<p><strong>三十二、在调用 isFinite()之前验证参数</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
isFinite(0/0) ; // false
isFinite("foo"); // false
isFinite("10"); // true
isFinite(10); // true
isFinite(undifined); // false
isFinite(); // false
isFinite(null); // true !!!</pre>
</div>
<p><strong>三十三、避免数组中的负数索引（negative indexes）</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
var numbersArray = [1,2,3,4,5];
var from = numbersArray.indexOf("foo") ; // from is equal to -1
numbersArray.splice(from,2); // will return [5]</pre>
</div>
<p>确保调用 indexOf 时的参数不是负数。</p>
<p><strong>三十四、基于JSON的序列化和反序列化（serialization and deserialization）</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
var person = {name :'Saad', age : 26, department : {ID : 15, name : "R&D"} };
var stringFromPerson = JSON.stringify(person);
/* stringFromPerson is equal to "{"name":"Saad","age":26,"department":{"ID":15,"name":"R&D"}}" */
var personFromString = JSON.parse(stringFromPerson);
/* personFromString is equal to person object */</pre>
</div>
<p><strong>三十五、避免使用 eval() 和 Function 构造函数</strong></p>
<p>使用 eval 和 Function 构造函数是非常昂贵的操作，因为每次他们都会调用脚本引擎将源代码转换成可执行代码。</p>
<div class="phpstudycode">
<pre class="brush:js;">
var func1 = new Function(functionCode);
var func2 = eval(functionCode);</pre>
</div>
<p><strong>三十六、避免使用 with()</strong></p>
<p>使用 with() 会插入一个全局变量。因此，同名的变量会被覆盖值而引起不必要的麻烦。</p>
<p><strong>三十七、避免使用 for-in 来遍历一个数组</strong></p>
<p>避免使用这样的方式：</p>
<div class="phpstudycode">
<pre class="brush:js;">
var sum = 0;
for (var i in arrayNumbers) {
 sum += arrayNumbers[i];
}</pre>
</div>
<p>更好的方式是：</p>
<div class="phpstudycode">
<pre class="brush:js;">
var sum = 0;
for (var i = 0, len = arrayNumbers.length; i &lt; len; i++) {
 sum += arrayNumbers[i];
}</pre>
</div>
<p>附加的好处是，i 和 len 两个变量的取值都只执行了一次，会比下面的方式更高效：</p>
<div class="phpstudycode">
<pre class="brush:js;">
for (var i = 0; i &lt; arrayNumbers.length; i++)</pre>
</div>
<p>为什么？因为arrayNumbers.length每次循环的时候都会被计算。</p>
<p><strong>三十八、在调用 setTimeout() 和 setInterval() 的时候传入函数，而不是字符串。</strong></p>
<p>如果你将字符串传递给 setTimeout() 或者 setInterval()，这个字符串将被如使用 eval 一样被解析，这个是非常耗时的。</p>
<p>不要使用：</p>
<div class="phpstudycode">
<pre class="brush:js;">
setInterval('doSomethingPeriodically()', 1000);
setTimeOut('doSomethingAfterFiveSeconds()', 5000)</pre>
</div>
<p>而用：</p>
<div class="phpstudycode">
<pre class="brush:js;">
setInterval(doSomethingPeriodically, 1000);
setTimeOut(doSomethingAfterFiveSeconds, 5000);</pre>
</div>
<p><strong>三十九、使用 switch/case 语句，而不是一长串的 if/else</strong></p>
<p>在判断情况大于2种的时候，使用 switch/case 更高效，而且更优雅（更易于组织代码）。但在判断的情况超过10种的时候不要使用 switch/case。</p>
<p><strong>四十、在判断数值范围时使用 switch/case</strong></p>
<p>在下面的这种情况，使用 switch/case 判断数值范围的时候是合理的：</p>
<div class="phpstudycode">
<pre class="brush:js;">
function getCategory(age) {
 var category = "";
 switch (true) {
 case isNaN(age):
  category = "not an age";
  break;
 case (age &gt;= 50):
  category = "Old";
  break;
 case (age &lt;= 20):
  category = "Baby";
  break;
 default:
  category = "Young";
  break;
 };
 return category;
}
getCategory(5); // will return "Baby"</pre>
</div>
<p>【译者注：一般对于数值范围的判断，用 if/else 会比较合适。 switch/case 更适合对确定数值的判断】</p>
<p><strong>四十一、为创建的对象指定prototype对象</strong></p>
<p>写一个函数来创建一个以指定参数作为prototype的对象是有可能：</p>
<div class="phpstudycode">
<pre class="brush:js;">
function clone(object) {
 function OneShotConstructor(){};
 OneShotConstructor.prototype= object;
 return new OneShotConstructor();
}
clone(Array).prototype ; // []</pre>
</div>
<p><strong>四十二、一个HTML转义函数</strong></p>
<div class="phpstudycode">
<pre class="brush:js;">
function escapeHTML(text) {
 var replacements= {"&lt;": "&lt;", "&gt;": "&gt;","&": "&", "\"": """};
 return text.replace(/[&lt;&gt;&"]/g, function(character) {
 return replacements[character];
 });
}</pre>
</div>
<p><strong>四十三、避免在循环内部使用 try-catch-finally</strong></p>
<p>在运行时，每次当 catch 从句被执行的时候，被捕获的异常对象会赋值给一个变量，而在 try-catch-finally 结构中，每次都会新建这个变量。</p>
<p>避免这样的写法：</p>
<div class="phpstudycode">
<pre class="brush:js;">
var object = ['foo', 'bar'], i;
for (i = 0, len = object.length; i &lt;len; i++) {
 try {
 // do something that throws an exception
 }
 catch (e) {
 // handle exception
 }
}</pre>
</div>
<p>而使用：</p>
<div class="phpstudycode">
<pre class="brush:js;">
var object = ['foo', 'bar'], i;
try {
 for (i = 0, len = object.length; i &lt;len; i++) {
 // do something that throws an exception
 }
}
catch (e) {
 // handle exception
}</pre>
</div>
<p><strong>四十四、为 XMLHttpRequests 设置超时。</strong></p>
<p>在一个XHR请求占用很长时间后（比如由于网络问题），你可能需要中止这次请求，那么你可以对XHR调用配套使用 setTimeout()。</p>
<div class="phpstudycode">
<pre class="brush:js;">
var xhr = new XMLHttpRequest ();
xhr.onreadystatechange = function () {
 if (this.readyState == 4) {
 clearTimeout(timeout);
 // do something with response data
 }
}
var timeout = setTimeout( function () {
 xhr.abort(); // call error callback
}, 60*1000 /* timeout after a minute */ );
xhr.open('GET', url, true); 

xhr.send();</pre>
</div>
<p>此外，一般你应该完全避免同步的Ajax请求。</p>
<p><strong>四十五、处理WebSocket超时</strong></p>
<p>通常，在一个WebSocket连接创建之后，如果你没有活动的话，服务器会在30秒之后断开（time out）你的连接。防火墙也会在一段时间不活动之后断开连接。</p>
<p>为了防止超时的问题，你可能需要间歇性地向服务器端发送空消息。要这样做的话，你可以在你的代码里添加下面的两个函数：一个用来保持连接，另一个用来取消连接的保持。通过这个技巧，你可以控制超时的问题。</p>
<p>使用一个 timerID：</p>
<div class="phpstudycode">
<pre class="brush:js;">
var timerID = 0;
function keepAlive() {
 var timeout = 15000;
 if (webSocket.readyState == webSocket.OPEN) {
 webSocket.send('');
 }
 timerId = setTimeout(keepAlive, timeout);
}
function cancelKeepAlive() {
 if (timerId) {
 cancelTimeout(timerId);
 }
}</pre>
</div>
<p>keepAlive()方法应该被添加在webSOcket连接的 onOpen() 方法的最后，而 cancelKeepAlive() 添加在 onClose() 方法的最后。</p>
<p><strong>四十六、牢记，原始运算符始终比函数调用要高效。使用VanillaJS。</strong></p>
<p>举例来说，不使用：</p>
<div class="phpstudycode">
<pre class="brush:js;">
var min = Math.min(a,b);
A.push(v);</pre>
</div>
<p>而用：</p>
<div class="phpstudycode">
<pre class="brush:js;">
var min = a &lt; b &#63; a b;
A[A.length] = v;</pre>
</div>
<p><strong>js运算符单竖杠“|”的用法和作用及js数据处理</strong></p>
<p>刚才在js整数操作的时候，相当于去除小数点，parseInt。在正数的时候相当于Math.floor(),负数的时候相当于Math.ceil() 注：</p>
<div class="phpstudycode">
<pre class="brush:js;">
1. Math.ceil()用作向上取整。
2. Math.floor()用作向下取整。
3. Math.round() 我们数学中常用到的四舍五入取整。

console.log(0.6|0)//0
console.log(1.1|0)//1
console.log(3.65555|0)//3
console.log(5.99999|0)//5
console.log(-7.777|0)//-7</pre>
</div>
<p>注：除了Math的三个方法处理数字，我们还经常用parseInt()、parseFloat()、toFixed()与toPrecision() 等等。 简单解释：</p>
<p>toFixed方法用法如下：</p>
<div class="phpstudycode">
<pre class="brush:js;">
100.456001.toFixed(2); //100.47

100.456001.toFixed(3); //100.456

Number.prototype.toFixed.call(100.456001,2); //100.47</pre>
</div>
<p>缺点：用之后就会变成字符串。</p>
<p>toPrecision用法如下：</p>
<div class="phpstudycode">
<pre class="brush:js;">
99.456001.toPrecision(5); //99.456

100.456001.toPrecision(5); //100.46

Number.prototype.toPrecision.call(10.456001,5); //10.456</pre>
</div>
<p><strong>单竖杠的运算规则</strong></p>
<p>看了上面的例子，大体知道单竖杠可以进行取整运算，就是只保留正数部分，小数部分通过拿掉，但是“|0”，又是如何进行运算的呢，为什么能“|0”能达到取整的目的呢？单竖杠不是0有会是多少呢？</p>
<p>带着这些问题，我们看下面例子：</p>
<div class="phpstudycode">
<pre class="brush:js;">
console.log(3|4); //7
console.log(4|4);//4
console.log(8|3);//11
console.log(5.3|4.1);//5
console.log(9|3455);//3455</pre>
</div>
<p>好像无规律可以寻找啊？网上搜索吧。http://tools.phpstudy.net/table/priority</p>
<p>这里面提到了单竖杠“|”但是没有javascript的。</p>
<p>好吧，我在这里公布答案吧。其实单竖杠“|”就是转换为2进制之后相加得到的结果。例如我们拿简单的举例：</p>
<div class="phpstudycode">
<pre class="brush:js;">
3|4
转换为二进制之后011|100 相加得到111=7

4|4
转换为二进制之后100 |100 相加得到100=4

8|3
转换为二进制之后1000 |011 相加得到1011=11</pre>
</div>
<p>以此类推，我在这里就不一一列举了，单竖杠“|”运算就是转换为2进制之后相加得到的结果！都学会了吗？</p>
<hr></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/90643.html'>MAC休眠后黑屏几秒钟才恢复是怎么回事</a><a>下一篇</a><a href='/php/biji/90645.html'>JavaScript为事件句柄绑定监听函数实例详解</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>