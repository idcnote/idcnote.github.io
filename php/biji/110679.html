<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>php正则表达式使用的解决办法_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="这篇文章主要为大家详细介绍了php正则表达式使用的简单示例，具有一定的参考价值，可以用来参考一下。<br />
<br />
感兴趣的小伙伴，下面一起跟随php教程的小玲来看看吧！<br />
前言<br />
正则表达式是烦" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/122.html"></a></li><li><a href="/php/phpbiji/123.html"></a></li><li><a href="/php/phpbiji/124.html"></a></li><li><a href="/php/phpbiji/125.html"></a></li><li><a href="/php/phpbiji/126.html"></a></li><li><a href="/php/phpbiji/127.html"></a></li><li><a href="/php/phpbiji/128.html"></a></li><li><a href="/php/phpbiji/129.html"></a></li><li><a href="/php/phpbiji/130.html"></a></li><li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">php正则表达式使用的解决办法</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>这篇文章主要为大家详细介绍了php正则表达式使用的简单示例，具有一定的参考价值，可以用来参考一下。<br />
<br />
感兴趣的小伙伴，下面一起跟随php教程的小玲来看看吧！<br />
前言<br />
正则表达式是烦</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p>这篇文章主要为大家详细介绍了php正则表达式使用的简单示例，具有一定的参考价值，可以用来参考一下。</p>

<p>感兴趣的小伙伴，下面一起跟随php教程的小玲来看看吧！</p>
<p><strong>前言</strong></p>
<p>正则表达式是烦琐的，但是强大的，学会之后的应用会让你除了提高效率外，会给你带来绝对的成就感。只要认真去阅读这些资料，加上应用的时候进行一定的参考，掌握正则表达式不是问题。</p>
<p><strong>1. 引子</strong></p>
<p>　　目前，正则表达式已经在很多软件中得到广泛的应用，包括*nix（Linux, Unix等），HP等操作系统，PHP，C#，Java等开发环境，以及很多的应用软件中，都可以看到正则表达式的影子。</p>
<p>　　正则表达式的使用，可以通过简单的办法来实现强大的功能。为了简单有效而又不失强大，造成了正则表达式代码的难度较大，学习起来也不是很容易，所以需要付出一些努力才行，入门之后参照一定的参考，使用起来还是比较简单有效的。</p>
<p><strong> 例子： ^.+@.+\\..+$</strong></p>
<p>　　这样的代码曾经多次把我自己给吓退过。可能很多人也是被这样的代码给吓跑的吧。继续阅读本文将让你也可以自由应用这样的代码。</p>
<p>　　注意：这里的第7部分跟前面的内容看起来似乎有些重复，目的是把前面表格里的部分重新描述了一次，目的是让这些内容更容易理解。</p>
<p><strong>2. 正则表达历史</strong>　　正则表达式的&ldquo;祖先&rdquo;可以一直上溯至对人类神经系统如何工作的早期研究。Warren McCulloch 和 Walter Pitts 这两位神经生理学家研究出一种数学方式来描述这些神经网络。</p>
<p>　　1956 年, 一位叫 Stephen Kleene 的数学家在 McCulloch 和 Pitts 早期工作的基础上，发表了一篇标题为&ldquo;神经网事件的表示法&rdquo;的论文，引入了正则表达式的概念。正则表达式就是用来描述他称为&ldquo;正则集的代数&rdquo;的表达式，因此采用&ldquo;正则表达式&rdquo;这个术语。</p>
<p>　　随后，发现可以将这一工作应用于使用 Ken Thompson 的计算搜索算法的一些早期研究，Ken Thompson 是 Unix 的主要发明人。正则表达式的第一个实用应用程序就是 Unix 中的 qed 编辑器。</p>
<p>　　如他们所说，剩下的就是众所周知的历史了。从那时起直至现在正则表达式都是基于文本的编辑器和搜索工具中的一个重要部分。</p>
<p><strong>3. 正则表达式定义</strong></p>
<p>　　正则表达式(regular expression)描述了一种字符串匹配的模式，可以用来检查一个串是否含有某种子串、将匹配的子串做替换或者从某个串中取出符合某个条件的子串等。</p>
<p> 列目录时，　dir *.txt或ls *.txt中的*.txt就不是一个正则表达式,因为这里*与正则式的*的含义是不同的。</p>
<p>　　正则表达式是由普通字符（例如字符 a 到 z）以及特殊字符（称为元字符）组成的文字模式。正则表达式作为一个模板，将某个字符模式与所搜索的字符串进行匹配。3.1 字符</p>
<p><strong> 1、普通字符：</strong></p>
<p> 由所有那些未显式指定为元字符的打印和非打印字符组成。这包括所有的大写和小写字母字符，所有数字，所有标点符号以及一些符号。</p>
<p><strong> 2、非打印字符：</strong>字符 含义\cx 匹配由x指明的控制字符。例如， \cM 匹配一个 Control-M 或回车符。x 的值必须为 A-Z 或 a-z 之一。否则，将 c 视为一个原义的 &#39;c&#39; 字符。\f 匹配一个换页符。等价于 \x0c 和 \cL。\n 匹配一个换行符。等价于 \x0a 和 \cJ。\r 匹配一个回车符。等价于 \x0d 和 \cM。\s 匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ \f\n\r\t\v]。\S 匹配任何非空白字符。等价于 [^ \f\n\r\t\v]。\t 匹配一个制表符。等价于 \x09 和 \cI。\v 匹配一个垂直制表符。等价于 \x0b 和 \cK。</p>
<p><strong>3、元字符（特殊字符）：</strong></p>
<p>　　 所谓元字符（特殊字符），就是一些有特殊含义的字符，如上面说的&quot;*.txt&quot;中的*，简单的说就是表示任何字符串的意思。如果要查找文件名中有＊的文件，则需要对＊进行转义，即在其前加一个\。ls \*.txt。正则表达式有以下特殊字符。</p>
<p> 要在正则表达式模式中包含元字符以使其不具有特殊含义，您必须使用反斜杠 (\) 转义字符。例如，下面的正则表达式与顺序依次为字母 A、字母 B、星号和字母 C 的模式匹配：</p>
<p> /AB\*C/;元字符 说明$ 匹配输入字符串的结尾位置。如果设置了 RegExp 对象的 Multiline 属性，则 $ 也匹配 &#39;\n&#39; 或 &#39;\r&#39;。要匹配 $ 字符本身，请使用 \$。( ) 标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用。要匹配这些字符，请使用 \( 和 \)。* 匹配前面的子表达式零次或多次。要匹配 * 字符，请使用 \*。+ 匹配前面的子表达式一次或多次。要匹配 + 字符，请使用 \+。. 匹配除换行符 \n之外的任何单字符。要匹配 .，请使用 \。[ 标记一个中括号表达式的开始。要匹配 [，请使用 \[。? 匹配前面的子表达式零次或一次，或指明一个非贪婪限定符。要匹配 ? 字符，请使用 \?。\ 将下一个字符标记为或特殊字符、或原义字符、或向后引用、或八进制转义符。例如， &#39;n&#39; 匹配字符 &#39;n&#39;。&#39;\n&#39; 匹配换行符。序列 &#39;\\&#39; 匹配 &quot;\&quot;，而 &#39;\(&#39; 则匹配 &quot;(&quot;。^ 匹配输入字符串的开始位置，除非在方括号表达式中使用，此时它表示不接受该字符集合。要匹配 ^ 字符本身，请使用 \^。{ 标记限定符表达式的开始。要匹配 {，请使用 \{。| 指明两项之间的一个选择。要匹配 |，请使用 \|。</p>
<p> 　　构造正则表达式的方法和创建数学表达式的方法一样。也就是用多种元字符与操作符将小的表达式结合在一起来创建更大的表达式。正则表达式的组件可以是单个的字符、字符集合、字符范围、字符间的选择或者所有这些组件的任意组合。</p>
<p><strong>4、限定符：</strong></p>
<p> 限定符用来指定正则表达式的一个给定组件必须要出现多少次才能满足匹配。有*或+或?或{n}或{n,}或{n,m}共6种。*、+和?限定符都是贪婪的，因为它们会尽可能多的匹配文字，只有在它们的后面加上一个?就可以实现非贪婪或最小匹配。　　 正则表达式的限定符有：　<strong>字符 描述</strong>* 匹配前面的子表达式零次或多次。例如，zo* 能匹配 &quot;z&quot; 以及 &quot;zoo&quot;。* 等价于{0,}。+ 匹配前面的子表达式一次或多次。例如，&#39;zo+&#39; 能匹配 &quot;zo&quot; 以及 &quot;zoo&quot;，但不能匹配 &quot;z&quot;。+ 等价于 {1,}。? 匹配前面的子表达式零次或一次。例如，&quot;do(es)?&quot; 可以匹配 &quot;do&quot; 或 &quot;does&quot; 中的&quot;do&quot; 。? 等价于 {0,1}。{n} n 是一个非负整数。匹配确定的 n 次。例如，&#39;o{2}&#39; 不能匹配 &quot;Bob&quot; 中的 &#39;o&#39;，但是能匹配 &quot;food&quot; 中的两个 o。{n,} n 是一个非负整数。至少匹配n 次。例如，&#39;o{2,}&#39; 不能匹配 &quot;Bob&quot; 中的 &#39;o&#39;，但能匹配 &quot;foooood&quot; 中的所有 o。&#39;o{1,}&#39; 等价于 &#39;o+&#39;。&#39;o{0,}&#39; 则等价于 &#39;o*&#39;。{n,m} m 和 n 均为非负整数，其中n &lt;= m。最少匹配 n 次且最多匹配 m 次。例如，&quot;o{1,3}&quot; 将匹配 &quot;fooooood&quot; 中的前三个 o。&#39;o{0,1}&#39; 等价于 &#39;o?&#39;。请注意在逗号和两个数之间不能有空格。　</p>
<p><strong>5、定界符：边界</strong></p>
<p> 用来描述字符串或单词的边界，^和$分别指字符串的开始与结束，\b描述单词的前或后边界，\B表示非单词边界。不能对定位符使用限定符。<strong>3.2 字符类[ ]</strong></p>
<p> 可以使用字符类指定字符列表以匹配正则表达式中的一个位置。使用方括号（[ 和 ]）定义字符类。例如，下面的正则表达式定义了匹配 bag、beg、big、bog 或 bug 的字符类： /b[aeiou]g/<strong>1、字符类中的转义序列：</strong> 通常在正则表达式中具有特殊含义的大多数元字符和元序列在字符类中&ldquo;不具有&rdquo;那些特殊含义。例如，在正则表达式中星号用于表示重复，但是出现在字符类中时则不具有此含义。下列字符类匹配星号本身以及列出的任何其它字符： /[abc*123]/ 但是，下表中列出的三个字符功能与元字符相同，在字符类中具有特殊含义：</p>
<p> ] ：定义字符类的结尾。 - ：定义字符范围</p>
<p> \ ：定义元序列并撤销元字符的特殊含义。对于要识别为字面字符（无特殊元字符含义）的任何字符，必须在该字符前面加反斜杠转义字符。 例如，下面的正则表达式包含匹配四个符号（$、\、] 或 -）中任意一个符号的字符类。/[$\\\]\-]/</p>
<p><strong>2、字符类中字符的范围：</strong> 使用连字符指定字符的范围，例如 A-Z、a-z 或 0-9。这些字符必须在字符类中构成有效的范围。例如，下面的字符类匹配 a-z 范围内的任何一个字符或任何数字：/[a-z0-9]/ 您还可以使用 \xnn ASCII 字符代码通过 ASCII 值指定范围。例如，下面的字符类匹配扩展 ASCII 字符集中的任意字符 （如 &eacute; 和 &ecirc;）：/[\x80-\x9A]/</p>
<p><strong>3、反转的字符类：</strong> 如果在字符类的开头使用尖号 (^) 字符，则将反转该集合的意义，即未列出的任何字符都认为匹配。下面的字符类匹配除小写字母 (a-z) 或数字以外的任何字符： /[^a-z0-9]/ 必须在字符类的&ldquo;开头&rdquo;键入尖号 (^) 字符以表示反转。否则，您只是将尖号字符添加到字符类的字符中。例如，下面的字符类匹配许多符号字符中的任意一个，其中包括尖号： /[!.,#+*%$&amp;^]/<strong>3.3 分组和选择</strong></p>
<p>　　 用圆括号将所有选择项括起来，相邻的选择项之间用|分隔。但用圆括号会有一个副作用，是相关的匹配会被缓存，此时可用?:放在第一个选项前来消除这种副作用。　　 其中?:是非捕获元之一，还有两个非捕获元是?=和?!，这两个还有更多的含义，前者为正向预查，在任何开始匹配圆括号内的正则表达式模式的位置来匹配搜索字符串，后者为负向预查，在任何开始不匹配该正则表达式模式的位置来匹配搜索字符串。</p>
<p> 例如： /(very)+/ 可以匹配very googd或者very very good</p>
<p><strong>1、后向引用（逆向引用）：</strong></p>
<p>　　 如果在模式中定义标准括号组，则之后可以在正则表达式中引用它。这称为&ldquo;逆向引用&rdquo;，并且此类型的组称为 &ldquo;捕获组&rdquo;。</p>
<p> 对一个正则表达式模式或部分模式两边添加圆括号将导致相关匹配存储到一个临时缓冲区中，所捕获的每个子匹配都按照在正则表达式模式中从左至右所遇到的内容存储。存储子匹配的缓冲区编号从 1 开始，连续编号直至最大 99 个子表达式。每个缓冲区都可以使用 &#39;\n&#39; 访问，其中 n 为一个标识特定缓冲区的一位或两位十进制数。　　 例如，在下面的正则表达式中，序列 \1 匹配在捕获括号组中匹配的任意子字符串： /(\d+)-by-\1/; // 匹配字符串：48-by-48 可以通过键入 \1, \2,..., \99 在正则表达式中指定最多 99 个此类逆向引用。</p>
<p> 可以使用非捕获元字符 &#39;?:&#39;, &#39;?=&#39;, or &#39;?!&#39; 来忽略对相关匹配的保存。</p>
<p><strong>2、使用非捕获组和向前查找组：</strong> 非捕获组是只用于分组的组，它不会被&ldquo;收集&rdquo; ，也不会匹配有限的逆向引用。可以使用 (?:和 ?!) 来定义非捕获组，如下所示： /(?:com|org|net); 例如，注意在捕获组和非捕获组中加入 (com|org) 的区别（使用php来演示）:</p>
<p> 捕获组） ：</p>
<p>代码如下:</p>
<pre>

<code>    $pattern = '/(\w+)@(\w+).(com|org)/';  
    $str = "bob@example.com";  
    preg_match($pattern, $str, $match);  
    print_r($match);  
</code></pre>Array( [0] =&gt; bob@example.com [1] =&gt; bob [2] =&gt; example [3] =&gt; com)
<p></p>
<p> 非捕获组） ：</p>
<p>代码如下:</p>
<pre>

<code>    $pattern = '/(\w+)@(\w+).(?:com|org)/';  
    $str = "bob@example.com";  
    preg_match($pattern, $str, $match);  
    print_r($match);  
</code></pre> Array( [0] =&gt; bob@example.com [1] =&gt; bob [2] =&gt; example) 一类特殊的非捕获组是 &ldquo;向前查找组&rdquo; ，它包括两种类型： &ldquo;正向前查找组&rdquo;和 &ldquo;负向前查找组&rdquo; 。 使用 (?= 和?!) 定义正向前查找组，它指定组中的子模式位置必须匹配。但是，匹配正向前查找组的字符串部分可能匹配正则表达式中的剩余模式。例如，由于 (?=e) 在下列代码中是正向前查找组，它匹配的字符 e 可以被正则表达式的后续部分匹配，在本例中为捕获组 \w*)：
<p>代码如下:</p>
<pre>

<code>      $pattern = '/sh(?=e)(\w*)/i';  
    $str = "Shelly sells seashells by the seashore";  
    preg_match($pattern, $str, $match);  
    print_r($match);  
  </code></pre>Array( [0] =&gt; Shelly [1] =&gt; elly)
<p></p>
<p> 使用 (?! 和) 定义负向前查找组，它指定该组中的子模式位置必须不匹配。例如：</p>
<p> 模式：$pattern = &#39;/sh(?!e)(\w*)/i&#39;;Array( [0] =&gt; shore [1] =&gt; ore)<strong>3.2 模式修正标志符</strong></p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p><strong>此外还有：</strong></p>
<p><strong>U: 表示PCRE_UNGREEDY，表示非贪婪，相当于perl/python语言的.*?，在匹配过程中，对于.*正则，一有匹配立即执行，而不是等.*消费了所有字符再一一回退。</strong></p>
<p>PHP正则表达式模式后面通常带有 /i, /is, /s, /isU等参数，那么这都是些什么东西呢？下面我们一起来看看：</p>
<p>模式修正符 -- 解说正则表达式模式中使用的修正符说明　　下面列出了当前在 PCRE 中可能使用的修正符。括号中是这些修正符的内部 PCRE 名。修正符中的空格和换行被忽略，其它字符会导致错误。</p>
<p><strong>i (PCRE_CASELESS)　　如果设定此修正符，模式中的字符将同时匹配大小写字母。</strong></p>
<p><strong>m（PCRE_MULTILINE）</strong>　　默认情况下，PCRE 将目标字符串作为单一的一&ldquo;行&rdquo;字符所组成的（甚至其中包含有换行符也是如此）。&ldquo;行起始&rdquo;元字符（^）仅仅匹配字符串的起始，&ldquo;行结束&rdquo;元字符（$）仅仅匹配字符串的结束，或者最后一个字符是换行符时其前面（除非设定了 D 修正符）。这和 Perl 是一样的。</p>
<p>　　当设定了此修正符，&ldquo;行起始&rdquo;和&ldquo;行结束&rdquo;除了匹配整个字符串开头和结束外，还分别匹配其中的换行符的之后和之前。这和 Perl 的 /m 修正符是等效的。如果目标字符串中没有&ldquo;\n&rdquo;字符或者模式中没有 ^ 或 $，则设定此修正符没有任何效果。</p>
<p><strong>s（PCRE_DOTALL）</strong>　　如果设定了此修正符，模式中的圆点元字符（.）匹配所有的字符，包括换行符。没有此设定的话，则不包括换行符。这和 Perl 的 /s 修正符是等效的。排除字符类例如 [^a] 总是匹配换行符的，无论是否设定了此修正符。</p>
<p><strong>x（PCRE_EXTENDED）</strong>　　如果设定了此修正符，模式中的空白字符除了被转义的或在字符类中的以外完全被忽略，在未转义的字符类之外的 # 以及下一个换行符之间的所有字符，包括两头，也都被忽略。这和 Perl 的 /x 修正符是等效的，使得可以在复杂的模式中加入注释。然而注意，这仅适用于数据字符。空白字符可能永远不会出现于模式中的特殊字符序列，例如引入条件子模式的序列 (?( 中间。</p>
<p><strong>e</strong>　　如果设定了此修正符，preg_replace() 在替换字符串中对逆向引用作正常的替换，将其作为 PHP 代码求值，并用其结果来替换所搜索的字符串。</p>
<p>　　只有 preg_replace() 使用此修正符，其它 PCRE 函数将忽略之。</p>
<p>　　注: 本修正符在 PHP3 中不可用。</p>
<p><strong>A（PCRE_ANCHORED）</strong>　　如果设定了此修正符，模式被强制为&ldquo;anchored&rdquo;，即强制仅从目标字符串的开头开始匹配。此效果也可以通过适当的模式本身来实现（在 Perl 中实现的唯一方法）。</p>
<p><strong>D（PCRE_DOLLAR_ENDONLY）</strong>　　如果设定了此修正符，模式中的美元元字符仅匹配目标字符串的结尾。没有此选项时，如果　　最后一个字符是换行符的话，美元符号也会匹配此字符之前（但不会匹配任何其它换行符之前）。如果设定了 m 修正符则忽略此选项。Perl 中没有与其等价的修正符。</p>
<p><strong>S</strong>　　当一个模式将被使用若干次时，为加速匹配起见值得先对其进行分析。如果设定了此修正符则会进行额外的分析。目前，分析一个模式仅对没有单一固定起始字符的 non-anchored 模式有用。</p>
<p><strong>U（PCRE_UNGREEDY）</strong>　　本修正符反转了匹配数量的值使其不是默认的重复，而变成在后面跟上&ldquo;?&rdquo;才变得重复。这和 Perl 不兼容。也可以通过在模式之中设定 (?U) 修正符或者在数量符之后跟一个问号（如 .*?）来启用此选项。</p>
<p> 例如：</p>
<p>代码如下:</p>
<pre>

<code>    &lt;?php
/*   php教程 www.512Pic.com   */
  
    $str = 'src="http://www.test.cn/1.mp3" type="application/x-mplayer2"test,3333';  
    echo preg_replace('/src="(.*)"/', '--', $str);  
    echo '&lt;br&gt;';  
    echo preg_replace('/src="(.*)"/U', '--', $str);  
    echo '&lt;br&gt;';  
    echo preg_replace('/src="(.*?)"/', '--', $str);//等效preg_replace('|src="(.*)"|U', '--', $str);  
</code></pre>结果：
<p></p>
<p>--test,3333</p>
<p>-- type=&quot;application/x-mplayer2&quot;test,3333</p>
<p>-- type=&quot;application/x-mplayer2&quot;test,3333</p>
<p>从这里我们就可以看出，第一个执行结果一直匹配到最后一个满足条件的字符，专业一点就叫贪婪匹配，</p>
<p>第二个执行结果只匹配第一个满足条件的字符，叫 非贪婪匹配。</p>
<p><strong>X（PCRE_EXTRA）</strong>　　此修正符启用了一个 PCRE 中与 Perl 不兼容的额外功能。模式中的任何反斜线后面跟上一个没有特殊意义的字母导致一个错误，从而保留此组合以备将来扩充。默认情况下，和 Perl 一样，一个反斜线后面跟一个没有特殊意义的字母被当成该字母本身。当前没有其它特性受此修正符控制。</p>
<p><strong>u（PCRE_UTF8）</strong>　　此修正符启用了一个 PCRE 中与 Perl 不兼容的额外功能。模式字符串被当成 UTF-8。本修正符在 Unix 下自 PHP 4.1.0 起可用，在 win32 下自 PHP 4.2.3 起可用。自 PHP 4.3.5 起开始检查模式的 UTF-8 合法性。</p>
<p><strong>4. 各种操作符的运算优先级</strong></p>
<p>　　 相同优先级的从左到右进行运算，不同优先级的运算先高后低。各种操作符的优先级从高到低如下：　操作符 描述\ 转义符(), (?:), (?=), [] 圆括号和方括号*, +, ?, {n}, {n,}, {n,m} 限定符^, $, \anymetacharacter 位置和顺序| &ldquo;或&rdquo;操作</p>
<p><strong>5. 全部符号解释</strong>字符 描述\ 将下一个字符标记为一个特殊字符、或一个原义字符、或一个 向后引用、或一个八进制转义符。例如，&#39;n&#39; 匹配字符 &quot;n&quot;。&#39;\n&#39; 匹配一个换行符。序列 &#39;\\&#39; 匹配 &quot;\&quot; 而 &quot;\(&quot; 则匹配 &quot;(&quot;。^ 匹配输入字符串的开始位置。如果设置了 RegExp 对象的 Multiline 属性，^ 也匹配 &#39;\n&#39; 或 &#39;\r&#39; 之后的位置。$ 匹配输入字符串的结束位置。如果设置了RegExp 对象的 Multiline 属性，$ 也匹配 &#39;\n&#39; 或 &#39;\r&#39; 之前的位置。* 匹配前面的子表达式零次或多次。例如，zo* 能匹配 &quot;z&quot; 以及 &quot;zoo&quot;。* 等价于{0,}。+ 匹配前面的子表达式一次或多次。例如，&#39;zo+&#39; 能匹配 &quot;zo&quot; 以及 &quot;zoo&quot;，但不能匹配 &quot;z&quot;。+ 等价于 {1,}。? 匹配前面的子表达式零次或一次。例如，&quot;do(es)?&quot; 可以匹配 &quot;do&quot; 或 &quot;does&quot; 中的&quot;do&quot; 。? 等价于 {0,1}。{n} n 是一个非负整数。匹配确定的 n 次。例如，&#39;o{2}&#39; 不能匹配 &quot;Bob&quot; 中的 &#39;o&#39;，但是能匹配 &quot;food&quot; 中的两个 o。{n,} n 是一个非负整数。至少匹配n 次。例如，&#39;o{2,}&#39; 不能匹配 &quot;Bob&quot; 中的 &#39;o&#39;，但能匹配 &quot;foooood&quot; 中的所有 o。&#39;o{1,}&#39; 等价于 &#39;o+&#39;。&#39;o{0,}&#39; 则等价于 &#39;o*&#39;。{n,m} m 和 n 均为非负整数，其中n &lt;= m。最少匹配 n 次且最多匹配 m 次。例如，&quot;o{1,3}&quot; 将匹配 &quot;fooooood&quot; 中的前三个 o。&#39;o{0,1}&#39; 等价于 &#39;o?&#39;。请注意在逗号和两个数之间不能有空格。? 当该字符紧跟在任何一个其他限制符 (*, +, ?, {n}, {n,}, {n,m}) 后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串 &quot;oooo&quot;，&#39;o+?&#39; 将匹配单个 &quot;o&quot;，而 &#39;o+&#39; 将匹配所有 &#39;o&#39;。. 匹配除 &quot;\n&quot; 之外的任何单个字符。要匹配包括 &#39;\n&#39; 在内的任何字符，请使用象 &#39;[.\n]&#39; 的模式。(pattern) 匹配 pattern 并获取这一匹配。所获取的匹配可以从产生的 Matches 集合得到，在VBScript 中使用 SubMatches 集合，在JScript 中则使用 $0&hellip;$9 属性。要匹配圆括号字符，请使用 &#39;\(&#39; 或 &#39;\)&#39;。(?:pattern) 匹配 pattern 但不获取匹配结果，也就是说这是一个非获取匹配，不进行存储供以后使用。这在使用 &quot;或&quot; 字符 (|) 来组合一个模式的各个部分是很有用。例如， &#39;industr(?:y|ies) 就是一个比 &#39;industry|industries&#39; 更简略的表达式。(?=pattern) 正向预查，在任何匹配 pattern 的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如，&#39;Windows (?=95|98|NT|2000)&#39; 能匹配 &quot;Windows 2000&quot; 中的 &quot;Windows&quot; ，但不能匹配 &quot;Windows 3.1&quot; 中的 &quot;Windows&quot;。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始。(?!pattern) 负向预查，在任何不匹配 pattern 的字符串开始处匹配查找字符串。这是一个非获取匹配，也就是说，该匹配不需要获取供以后使用。例如&#39;Windows (?!95|98|NT|2000)&#39; 能匹配 &quot;Windows 3.1&quot; 中的 &quot;Windows&quot;，但不能匹配 &quot;Windows 2000&quot; 中的 &quot;Windows&quot;。预查不消耗字符，也就是说，在一个匹配发生后，在最后一次匹配之后立即开始下一次匹配的搜索，而不是从包含预查的字符之后开始x|y 匹配 x 或 y。例如，&#39;z|food&#39; 能匹配 &quot;z&quot; 或 &quot;food&quot;。&#39;(z|f)ood&#39; 则匹配 &quot;zood&quot; 或 &quot;food&quot;。[xyz] 字符集合。匹配所包含的任意一个字符。例如， &#39;[abc]&#39; 可以匹配 &quot;plain&quot; 中的 &#39;a&#39;。[^xyz] 负值字符集合。匹配未包含的任意字符。例如， &#39;[^abc]&#39; 可以匹配 &quot;plain&quot; 中的&#39;p&#39;。[a-z] 字符范围。匹配指定范围内的任意字符。例如，&#39;[a-z]&#39; 可以匹配 &#39;a&#39; 到 &#39;z&#39; 范围内的任意小写字母字符。[^a-z] 负值字符范围。匹配任何不在指定范围内的任意字符。例如，&#39;[^a-z]&#39; 可以匹配任何不在 &#39;a&#39; 到 &#39;z&#39; 范围内的任意字符。\b 匹配一个单词边界，也就是指单词和空格间的位置。例如， &#39;er\b&#39; 可以匹配&quot;never&quot; 中的 &#39;er&#39;，但不能匹配 &quot;verb&quot; 中的 &#39;er&#39;。\B 匹配非单词边界。&#39;er\B&#39; 能匹配 &quot;verb&quot; 中的 &#39;er&#39;，但不能匹配 &quot;never&quot; 中的 &#39;er&#39;。\cx 匹配由 x 指明的控制字符。例如， \cM 匹配一个 Control-M 或回车符。x 的值必须为 A-Z 或 a-z 之一。否则，将 c 视为一个原义的 &#39;c&#39; 字符。\d 匹配一个数字字符。等价于 [0-9]。\D 匹配一个非数字字符。等价于 [^0-9]。\f 匹配一个换页符。等价于 \x0c 和 \cL。\n 匹配一个换行符。等价于 \x0a 和 \cJ。\r 匹配一个回车符。等价于 \x0d 和 \cM。\s 匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ \f\n\r\t\v]。\S 匹配任何非空白字符。等价于 [^ \f\n\r\t\v]。\t 匹配一个制表符。等价于 \x09 和 \cI。\v 匹配一个垂直制表符。等价于 \x0b 和 \cK。\w 匹配包括下划线的任何单词字符。等价于&#39;[A-Za-z0-9_]&#39;。\W 匹配任何非单词字符。等价于 &#39;[^A-Za-z0-9_]&#39;。\xn 匹配 n，其中 n 为十六进制转义值。十六进制转义值必须为确定的两个数字长。例如，&#39;\x41&#39; 匹配 &quot;A&quot;。&#39;\x041&#39; 则等价于 &#39;\x04&#39; &amp; &quot;1&quot;。正则表达式中可以使用 ASCII 编码。.\num 匹配 num，其中 num 是一个正整数。对所获取的匹配的引用。例如，&#39;(.)\1&#39; 匹配两个连续的相同字符。\n 标识一个八进制转义值或一个向后引用。如果 \n 之前至少 n 个获取的子表达式，则 n 为向后引用。否则，如果 n 为八进制数字 (0-7)，则 n 为一个八进制转义值。\nm 标识一个八进制转义值或一个向后引用。如果 \nm 之前至少有 nm 个获得子表达式，则 nm 为向后引用。如果 \nm 之前至少有 n 个获取，则 n 为一个后跟文字 m 的向后引用。如果前面的条件都不满足，若 n 和 m 均为八进制数字 (0-7)，则 \nm 将匹配八进制转义值 nm。\nml 如果 n 为八进制数字 (0-3)，且 m 和 l 均为八进制数字 (0-7)，则匹配八进制转义值 nml。\un 匹配 n，其中 n 是一个用四个十六进制数字表示的 Unicode 字符。例如， \u00A9 匹配版权符号 (?)。</p>
<p><strong>6. 部分例子正则表达式 说明</strong>/\b([a-z]+) \1\b/gi 一个单词连续出现的位置/(\w+):\/\/([^/:]+)(:\d*)?([^# ]*)/ 将一个URL解析为协议、域、端口及相对路径/^(?:Chapter|Section) [1-9][0-9]{0,1}$/ 定位章节的位置/[-a-z]/ A至z共26个字母再加一个-号。/ter\b/ 可匹配chapter，而不能terminal/\Bapt/ 可匹配chapter，而不能aptitude/Windows(?=95 |98 |NT )/ 可匹配Windows95或Windows98或WindowsNT,当找到一个匹配后，从Windows后面开始进行下一次的检索匹配。</p>
<p><strong>7. 正则表达式匹配规则</strong></p>
<p><strong>7.1 基本模式匹配</strong></p>
<p>　　 一切从最基本的开始。模式，是正规表达式最基本的元素，它们是一组描述字符串特征的字符。模式可以很简单，由普通的字符串组成，也可以非常复杂，往往用特殊的字符表示一个范围内的字符、重复出现，或表示上下文。例如：</p>
<p> ^once</p>
<p>　　这个模式包含一个特殊的字符^，表示该模式只匹配那些以once开头的字符串。例如该模式与字符串&quot;once upon a time&quot;匹配，与&quot;There once was a man from NewYork&quot;不匹配。正如如^符号表示开头一样，$符号用来匹配那些以给定模式结尾的字符串。</p>
<p> bucket$</p>
<p>　　这个模式与&quot;Who kept all of this cash in a bucket&quot;匹配，与&quot;buckets&quot;不匹配。字符^和$同时使用时，表示精确匹配（字符串与模式一样）。例如：</p>
<p> ^bucket$</p>
<p>　　只匹配字符串&quot;bucket&quot;。如果一个模式不包括^和$，那么它与任何包含该模式的字符串匹配。例如：模式</p>
<p> once</p>
<p>与字符串</p>
<p> There once was a man from NewYork Who kept all of his cash in a bucket.</p>
<p>是匹配的。</p>
<p>　　 在该模式中的字母(o-n-c-e)是字面的字符，也就是说，他们表示该字母本身，数字也是一样的。其他一些稍微复杂的字符，如标点符号和白字符（空格、制表符等），要用到转义序列。所有的转义序列都用反斜杠(\)打头。制表符的转义序列是：\t。所以如果我们要检测一个字符串是否以制表符开头，可以用这个模式：</p>
<p> ^\t</p>
<p>类似的，用\n表示&ldquo;新行&rdquo;，\r表示回车。其他的特殊符号，可以用在前面加上反斜杠，如反斜杠本身用\\表示，句号.用\.表示，以此类推。<strong>7.2 字符簇</strong>在INTERNET的程序中，正规表达式通常用来验证用户的输入。当用户提交一个FORM以后，要判断输入的电话号码、地址、EMAIL地址、信用卡号码等是否有效，用普通的基于字面的字符是不够的。所以要用一种更自由的描述我们要的模式的办法，它就是字符簇。要建立一个表示所有元音字符的字符簇，就把所有的元音字符放在一个方括号里：</p>
<p> [AaEeIiOoUu]</p>
<p>这个模式与任何元音字符匹配，但只能表示一个字符。用连字号可以表示一个字符的范围，如：</p>
<p> [a-z] //匹配所有的小写字母 [A-Z] //匹配所有的大写字母 [a-zA-Z] //匹配所有的字母 [0-9] //匹配所有的数字 [0-9\.\-] //匹配所有的数字，句号和减号 [ \f\r\t\n] //匹配所有的白字符</p>
<p>同样的，这些也只表示一个字符，这是一个非常重要的。如果要匹配一个由一个小写字母和一位数字组成的字符串，比如&quot;z2&quot;、&quot;t6&quot;或&quot;g7&quot;，但不是&quot;ab2&quot;、&quot;r2d3&quot; 或&quot;b52&quot;的话，用这个模式：</p>
<p> ^[a-z][0-9]$</p>
<p>尽管[a-z]代表26个字母的范围，但在这里它只能与第一个字符是小写字母的字符串匹配。</p>
<p>前面曾经提到^表示字符串的开头，但它还有另外一个含义。当在一组方括号里使用^是，它表示&ldquo;非&rdquo;或&ldquo;排除&rdquo;的意思，常常用来剔除某个字符。还用前面的例子，我们要求第一个字符不能是数字：</p>
<p> ^[^0-9][0-9]$</p>
<p>这个模式与&quot;&amp;5&quot;、&quot;g7&quot;及&quot;-2&quot;是匹配的，但与&quot;12&quot;、&quot;66&quot;是不匹配的。下面是几个排除特定字符的例子：</p>
<p> [^a-z] //除了小写字母以外的所有字符 [^\\\/\^] //除了(\)(/)(^)之外的所有字符 [^\&quot;\&#39;] //除了双引号(&quot;)和单引号(&#39;)之外的所有字符</p>
<p>特殊字符&quot;.&quot; (点，句号)在正规表达式中用来表示除了&ldquo;新行&rdquo;之外的所有字符。所以模式&quot;^.5$&quot;与任何两个字符的、以数字5结尾和以其他非&ldquo;新行&rdquo;字符开头的字符串匹配。模式&quot;.&quot;可以匹配任何字符串，除了空串和只包括一个&ldquo;新行&rdquo;的字符串。</p>
<p>PHP的正规表达式有一些内置的通用字符簇，列表如下：</p>
<p> 字符簇 含义 [[:alpha:]] 任何字母 [[:digit:]] 任何数字 [[:alnum:]] 任何字母和数字 [[:space:]] 任何白字符 [[:upper:]] 任何大写字母 [[:lower:]] 任何小写字母 [[:punct:]] 任何标点符号 [[:xdigit:]] 任何16进制的数字，相当于[0-9a-fA-F]</p>
<p><strong>7.3 确定重复出现</strong>到现在为止，你已经知道如何去匹配一个字母或数字，但更多的情况下，可能要匹配一个单词或一组数字。一个单词有若干个字母组成，一组数字有若干个单数组成。跟在字符或字符簇后面的花括号({})用来确定前面的内容的重复出现的次数。</p>
<p> 字符簇 含义 ^[a-zA-Z_]$ 所有的字母和下划线 ^[[:alpha:]]{3}$ 所有的3个字母的单词 ^a$ 字母a ^a{4}$ aaaa ^a{2,4}$ aa,aaa或aaaa ^a{1,3}$ a,aa或aaa ^a{2,}$ 包含多于两个a的字符串 ^a{2,} 如：aardvark和aaab，但apple不行 a{2,} 如：baad和aaa，但Nantucket不行 \t{2} 两个制表符 .{2} 所有的两个字符</p>
<p>这些例子描述了花括号的三种不同的用法。一个数字，{x}的意思是&ldquo;前面的字符或字符簇只出现x次&rdquo;；一个数字加逗号，{x,}的意思是&ldquo;前面的内容出现x或更多的次数&rdquo;；两个用逗号分隔的数字，{x,y}表示&ldquo;前面的内容至少出现x次，但不超过y次&rdquo;。我们可以把模式扩展到更多的单词或数字：</p>
<p> ^[a-zA-Z0-9_]{1,}$ //所有包含一个以上的字母、数字或下划线的字符串 ^[0-9]{1,}$ //所有的正数 ^\-{0,1}[0-9]{1,}$ //所有的整数 ^\-{0,1}[0-9]{0,}\.{0,1}[0-9]{0,}$ //所有的小数</p>
<p>最后一个例子不太好理解，是吗？这么看吧：与所有以一个可选的负号(\-{0,1})开头(^)、跟着0个或更多的数字([0-9]{0,})、和一个可选的小数点(\.{0,1})再跟上0个或多个数字([0-9]{0,})，并且没有其他任何东西($)。下面你将知道能够使用的更为简单的方法。</p>
<p>特殊字符&quot;?&quot;与{0,1}是相等的，它们都代表着：&ldquo;0个或1个前面的内容&rdquo;或&ldquo;前面的内容是可选的&rdquo;。所以刚才的例子可以简化为：</p>
<p> ^\-?[0-9]{0,}\.?[0-9]{0,}$</p>
<p>特殊字符&quot;*&quot;与{0,}是相等的，它们都代表着&ldquo;0个或多个前面的内容&rdquo;。最后，字符&quot;+&quot;与 {1,}是相等的，表示&ldquo;1个或多个前面的内容&rdquo;，所以上面的4个例子可以写成：</p>
<p> ^[a-zA-Z0-9_]+$ //所有包含一个以上的字母、数字或下划线的字符串 ^[0-9]+$ //所有的正数 ^\-?[0-9]+$ //所有的整数 ^\-?[0-9]*\.?[0-9]*$ //所有的小数</p>
<p>当然这并不能从技术上降低正规表达式的复杂性，但可以使它们更容易阅读。</p>
<p><strong>8.posix和perl标准的正则表达式区别</strong></p>
<p>PHP同时使用两套正则表达式规则，一套是由电气和电子工程师协会（IEEE）制定的POSIX Extended 1003.2兼容正则（事实上PHP对此标准的支持并不完善），另一套来自PCRE（Perl Compatible Regular Expression）库提供PERL兼容正则，这是个开放源代码的软件，作者为 Philip Hazel。</p>
<p>使用POSIX兼容规则的函数有：ereg_replace()ereg()eregi()eregi_replace()split()spliti()sql_regcase()mb_ereg_match()mb_ereg_replace()mb_ereg_search_getpos()mb_ereg_search_getregs()mb_ereg_search_init()mb_ereg_search_pos()mb_ereg_search_regs()mb_ereg_search_setpos()mb_ereg_search()mb_ereg()mb_eregi_replace()mb_eregi()mb_regex_encoding()mb_regex_set_options()mb_split()</p>
<p>使用PERL兼容规则的函数有：preg_grep()preg_replace_callback()preg_match_all()preg_match()preg_quote()preg_split()preg_replace()</p>
<p>定界符：</p>
<p>POSIX兼容正则没有定界符，函数的相应参数会被认为是正则。</p>
<p>PERL兼容正则可以使用任何不是字母、数字或反斜线（/）的字符作为定界符，如果作为定界符的字符必须被用在表达式本身中，则需要用反斜线转义。也可以使用()，{}，[] 和 &lt;&gt; 作为定界符</p>
<p>修正符：</p>
<p>POSIX兼容正则没有修正符。</p>
<p>PERL兼容正则中可能使用的修正符（修正符中的空格和换行被忽略，其它字符会导致错误）：</p>
<p>i (PCRE_CASELESS)：匹配时忽略大小写。</p>
<p>m（PCRE_MULTILINE）：当设定了此修正符，行起始(^)和行结束($)除了匹配整个字符串开头和结束外，还分别匹配其中的换行符(/n)的之后和之前。</p>
<p>s（PCRE_DOTALL）：如果设定了此修正符，模式中的圆点元字符（.）匹配所有的字符，包括换行符。没有此设定的话，则不包括换行符。</p>
<p>x（PCRE_EXTENDED）：如果设定了此修正符，模式中的空白字符除了被转义的或在字符类中的以外完全被忽略。</p>
<p>e：如果设定了此修正符，preg_replace() 在替换字符串中对逆向引用作正常的替换，将其作为 PHP 代码求值，并用其结果来替换所搜索的字符串。 只有 preg_replace() 使用此修正符，其它 PCRE 函数将忽略之。</p>
<p>A（PCRE_ANCHORED）：如果设定了此修正符，模式被强制为&ldquo;anchored&rdquo;，即强制仅从目标字符串的开头开始匹配。</p>
<p>D（PCRE_DOLLAR_ENDONLY）：如果设定了此修正符，模式中的行结束($)仅匹配目标字符串的结尾。没有此选项时，如果最后一个字符是换行符的话，也会被匹配在里面。如果设定了 m 修正符则忽略此选项。</p>
<p>S：当一个模式将被使用若干次时，为加速匹配起见值得先对其进行分析。如果设定了此修正符则会进行额外的分析。目前，分析一个模式仅对没有单一固定起始字符的 non-anchored 模式有用。</p>
<p>U（PCRE_UNGREEDY）：使&ldquo;?&rdquo;的默认匹配成为贪婪状态的。</p>
<p>X（PCRE_EXTRA）：模式中的任何反斜线后面跟上一个没有特殊意义的字母导致一个错误，从而保留此组合以备将来扩充。默认情况下，一个反斜线后面跟一个没有特殊意义的字母被当成该字母本身。</p>
<p>u（PCRE_UTF8）：模式字符串被当成UTF-8。</p>
<p>逻辑区隔：</p>
<p>POSIX兼容正则和PERL兼容正则的逻辑区隔符号作用和使用方法完全一致：[]：包含任选一操作的相关信息。{}：包含匹配次数的相关信息。()：包含一个逻辑区间的相关信息，可被用来进行引用操作。|：表示&ldquo;或&rdquo;，[ab]和a|b是等价的。</p>
<p>元字符与&ldquo;[]&rdquo;相关：</p>
<p>有两组不同的元字符：一种是模式中除了方括号内都能被识别的，还有一种是在方括号&ldquo;[]&rdquo;内被识别的。</p>
<p>POSIX兼容正则和PERL兼容正则&ldquo;[]之外&rdquo;&ldquo;一致&rdquo;的元字符：/ 有数种用途的通用转义符^ 匹配字符串的开头$ 匹配字符串的结尾? 匹配0或者1* 匹配 0 个或多个前面指定类型的字符+ 匹配 1 个或多个前面指定类型的字符</p>
<p>POSIX兼容正则和PERL兼容正则&ldquo;[]之外&rdquo;&ldquo;不一致&rdquo;的元字符：. PERL兼容正则匹配除了换行符外的任意一个字符. POSIX兼容正则匹配任意一个字符</p>
<p>POSIX兼容正则和PERL兼容正则&ldquo;[]之内&rdquo;&ldquo;一致&rdquo;的元字符：/ 有数种用途的通用转义符^ 取反字符，但仅当其为第一个字符时有效- 指定字符ASCII范围，仔细研究ASCII码，你会发现[W-c]等价于[WXYZ//^_`abc]</p>
<p>POSIX兼容正则和PERL兼容正则&ldquo;[]之内&rdquo;&ldquo;不一致&rdquo;的元字符：- POSIX兼容正则中[a-c-e]的指定会抛出错误。- PERL兼容正则中[a-c-e]的指定等价于[a-e]。</p>
<p>匹配次数与&ldquo;{}&rdquo;相关：</p>
<p>POSIX兼容正则和PERL兼容正则在匹配次数方面完全一致：{2}：表示匹配前面的字符2次{2,}：表示匹配前面的字符2次或多次，默认都是贪婪（尽可能多）的匹配{2,4}：表示匹配前面的字符2次或4次</p>
<p>逻辑区间与&ldquo;()&rdquo;相关：</p>
<p>使用()包含起来的区域是一个逻辑区间，逻辑区间的主要作用是体现出一些字符出现的逻辑次序，另一个用处就是可以用来引用（可以将此区间内的值引用给一个变量）。后一个作用比较奇特：&lt;?php /* php教程 www.512Pic.com */$str = &quot;http://www.163.com/&quot;;// POSIX兼容正则：echo ereg_replace(&quot;(.+)&quot;,&quot;&lt;a href = //1 &gt;//1&lt;/a&gt;&quot;,$str);// PERL兼容正则：echo preg_replace(&quot;/(.+)/&quot;,&quot;&lt;a href = $1 &gt;$1&lt;/a&gt;&quot;,$str);// 显示两个链接?&gt;</p>
<p>在引用的时候，括号是可以嵌套的，逻辑次序是按照&ldquo;(&rdquo;出现的次序来标定的。</p>
<p>类型匹配：</p>
<p>POSIX兼容正则：[:upper:]：匹配所有的大写字母[:lower:]：匹配所有的小写字母[:alpha:]：匹配所有的字母[:alnum:]：匹配所有的字母和数字[:digit:]：匹配所有的数字[:xdigit:]：匹配所有的十六进制字符，等价于[0-9A-Fa-f][:punct:]：匹配所有的标点符号，等价于 [.,&quot;&#39;?!;:][:blank:]：匹配空格和TAB，等价于[ /t][:space:]：匹配所有的空白字符，等价于[ /t/n/r/f/v][:cntrl:]：匹配所有ASCII 0到31之间的控制符。[:graph:]：匹配所有的可打印字符，等价于：[^ /t/n/r/f/v][:print:]：匹配所有的可打印字符和空格，等价于：[^/t/n/r/f/v][.c.]：功能不明[=c=]：功能不明[:&lt;:]：匹配单词的开始[:&gt;:]：匹配单词的结尾</p>
<p>PERL兼容正则（这里可以看出PERL正则的强大）：/a alarm，即 BEL 字符（&#39;0）/cx &quot;control-x&quot;，其中 x 是任意字符/e escape（&#39;0B）/f 换页符 formfeed（&#39;0C）/n 换行符 newline（&#39;0A）/r 回车符 carriage return（&#39;0D）/t 制表符 tab（&#39;0）/xhh 十六进制代码为 hh 的字符/ddd 八进制代码为 ddd 的字符，或 backreference/d 任一十进制数字/D 任一非十进制数的字符/s 任一空白字符/S 任一非空白字符/w 任一&ldquo;字&rdquo;的字符/W 任一&ldquo;非字&rdquo;的字符/b 字分界线/B 非字分界线/A 目标的开头（独立于多行模式）/Z 目标的结尾或位于结尾的换行符前（独立于多行模式）/z 目标的结尾（独立于多行模式）/G 目标中的第一个匹配位置</p>

<p>注：关于php正则表达式使用的简单示例的内容就先介绍到这里，更多相关文章的可以留意</span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/110675.html'>php判断终端是手机还是电脑的实现方法</a><a>下一篇</a><a href='/php/biji/110680.html'>php checkbox 取值用法示例</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>