<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>RHEL 7.0 编译安装Nginx1.6.0+MySQL5.6.19+PHP5.5.14运行环境_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="准备篇：<br />
RHEL 7.0系统安装配置图解教程 http://www.phpstudy.net/os/192932.html<br />
一、使用系统镜像文件配置本地yum源<br />
1、使用WinSCP.exe等工具上传系统镜像文件rhel-server-" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li><li><a href="/php/phpbiji/108382.html"></a></li><li><a href="/php/phpbiji/108384.html"></a></li><li><a href="/php/phpbiji/108383.html"></a></li><li><a href="/php/phpbiji/108385.html"></a></li><li><a href="/php/phpbiji/108386.html"></a></li><li><a href="/php/phpbiji/108388.html"></a></li><li><a href="/php/phpbiji/108387.html"></a></li><li><a href="/php/phpbiji/108389.html"></a></li><li><a href="/php/phpbiji/108391.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">RHEL 7.0 编译安装Nginx1.6.0+MySQL5.6.19+PHP5.5.14运行环境</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>准备篇：<br />
RHEL 7.0系统安装配置图解教程 http://www.phpstudy.net/os/192932.html<br />
一、使用系统镜像文件配置本地yum源<br />
1、使用WinSCP.exe等工具上传系统镜像文件rhel-server-</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p><strong>准备篇：</strong></p>
<p>RHEL 7.0系统安装配置图解教程 http://www.phpstudy.net/os/192932.html</p>
<p>一、使用系统镜像文件配置本地yum源</p>
<p>1、使用WinSCP.exe等工具上传系统镜像文件rhel-server-7.0-x86_64-dvd.iso到/usr/local/src目录</p>
<p>2、使用Putty.exe工具远程连接到RHEL服务器</p>
<p>3、挂载系统镜像文件</p>
<p>mkdir /media/cdrom #新建镜像文件挂载目录</p>
<p>cd /usr/local/src #进入系统镜像文件存放目录</p>
<p>ls #列出目录文件，可以看到刚刚上传的系统镜像文件</p>
<p>mount -t iso9660 -o loop /usr/local/src/rhel-server-7.0-x86_64-dvd.iso /media/cdrom #挂载系统镜像</p>
<p>cd /media/cdrom #进入挂载目录，使用ls命令可以看到已经有文件存在了</p>
<p>备注：umount /media/cdrom #卸载系统镜像</p>
<p>4、设置开机自动挂载系统镜像文件</p>
<p>vi /etc/fstab #添加以下代码。实现开机自动挂载</p>
<p>/usr/local/src/rhel-server-7.0-x86_64-dvd.iso /media/cdrom iso9660 defaults,ro,loop 0 0</p>
<p>:wq! #保存退出</p>
<p>备注：iso9660使用df -T 查看</p>
<p>5、配置本地yum源</p>
<p>cd /etc/yum.repos.d/ #进入yum配置目录</p>
<p>touch rhel-media.repo #建立yum配置文件</p>
<p>vi rhel-media.repo #编辑配置文件，添加以下内容</p>
<p>[rhel-media]</p>
<p>name=Red Hat Enterprise Linux 7.0 #自定义名称</p>
<p>baseurl=file:///media/cdrom #本地光盘挂载路径</p>
<p>enabled=1 #启用yum源，0为不启用，1为启用</p>
<p>gpgcheck=1 #检查GPG-KEY，0为不检查，1为检查</p>
<p>gpgkey=file:///media/cdrom/RPM-GPG-KEY-redhat-release #GPG-KEY路径</p>
<p>:wq! #保存退出</p>
<p>6、配置yum命令</p>
<p>yum clean all #清除yum缓存</p>
<p>yum makecache #缓存本地yum源中的软件包信息</p>
<p>现在，已经可以使用yum命令自动安装软件了。</p>
<p>二、配置防火墙，开启80端口、3306端口</p>
<p>RHEL 7.0默认使用的是firewall作为防火墙，这里改为iptables防火墙。</p>
<p>1、关闭firewall：</p>
<p>systemctl stop firewalld.service #停止firewall</p>
<p>systemctl disable firewalld.service #禁止firewall开机启动</p>
<p>2、安装iptables防火墙</p>
<p>yum install iptables-services #安装</p>
<p>vi /etc/sysconfig/iptables #编辑防火墙配置文件</p>
<p># Firewall configuration written by system-config-firewall</p>
<p># Manual customization of this file is not recommended.</p>
<p>*filter</p>
<p>:INPUT ACCEPT [0:0]</p>
<p>:FORWARD ACCEPT [0:0]</p>
<p>:OUTPUT ACCEPT [0:0]</p>
<p>-A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT</p>
<p>-A INPUT -p icmp -j ACCEPT</p>
<p>-A INPUT -i lo -j ACCEPT</p>
<p>-A INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT</p>
<p>-A INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT</p>
<p>-A INPUT -m state --state NEW -m tcp -p tcp --dport 3306 -j ACCEPT</p>
<p>-A INPUT -j REJECT --reject-with icmp-host-prohibited</p>
<p>-A FORWARD -j REJECT --reject-with icmp-host-prohibited</p>
<p>COMMIT</p>
<p>:wq! #保存退出</p>
<p>systemctl restart iptables.service #最后重启防火墙使配置生效</p>
<p>三、关闭SELINUX</p>
<p>vi /etc/selinux/config</p>
<p>#SELINUX=enforcing #注释掉</p>
<p>#SELINUXTYPE=targeted #注释掉</p>
<p>SELINUX=disabled #增加</p>
<p>:wq! #保存退出</p>
<p>setenforce 0 #使配置立即生效</p>
<p>四 、系统约定</p>
<p>软件源代码包存放位置：/usr/local/src</p>
<p>源码包编译安装位置：/usr/local/软件名字</p>
<p>五、下载软件包</p>
<p>1、下载nginx</p>
<p>http://nginx.org/download/nginx-1.6.0.tar.gz</p>
<p>2、下载MySQL</p>
<p>http://cdn.mysql.com/Downloads/MySQL-5.6/mysql-5.6.19.tar.gz</p>
<p>3、下载php</p>
<p>http://cn2.php.net/distributions/php-5.5.14.tar.gz</p>
<p>4、下载pcre （支持nginx伪静态）</p>
<p>ftp://ftp.csx.cam.ac.uk/pub/software/programming/pcre/pcre-8.35.tar.gz</p>
<p>5、下载openssl（nginx扩展）</p>
<p>http://www.openssl.org/source/openssl-1.0.1h.tar.gz</p>
<p>6、下载zlib（nginx扩展）</p>
<p>http://zlib.net/zlib-1.2.8.tar.gz</p>
<p>7、下载cmake（MySQL编译工具）</p>
<p>http://www.cmake.org/files/v2.8/cmake-2.8.11.2.tar.gz</p>
<p>8、下载libmcrypt（php扩展）</p>
<p>http://nchc.dl.sourceforge.net/project/mcrypt/Libmcrypt/2.5.8/libmcrypt-2.5.8.tar.gz</p>
<p>9、下载yasm（php扩展）</p>
<p>http://www.tortall.net/projects/yasm/releases/yasm-1.2.0.tar.gz</p>
<p>10、t1lib（php扩展）</p>
<p>ftp://sunsite.unc.edu/pub/Linux/libs/graphics/t1lib-5.1.2.tar.gz</p>
<p>11、下载gd库安装包</p>
<p>https://bitbucket.org/libgd/gd-libgd/downloads/libgd-2.1.0.tar.gz</p>
<p>12、libvpx（gd库需要）</p>
<p>https://webm.googlecode.com/files/libvpx-v1.3.0.tar.bz2</p>
<p>13、tiff（gd库需要）</p>
<p>http://download.osgeo.org/libtiff/tiff-4.0.3.tar.gz</p>
<p>14、libpng（gd库需要）</p>
<p>ftp://ftp.simplesystems.org/pub/png/src/libpng16/libpng-1.6.12.tar.gz</p>
<p>15、freetype（gd库需要）</p>
<p>http://ring.u-toyama.ac.jp/archives/graphics/freetype/freetype2/freetype-2.5.3.tar.gz</p>
<p>16、jpegsrc（gd库需要）</p>
<p>http://www.ijg.org/files/jpegsrc.v9a.tar.gz</p>
<p>以上软件包使用WinSCP工具上传到/usr/local/src目录</p>
<p>WinSCP下载地址：http://winscp.net/download/winscp554.zip</p>
<p>六、安装编译工具及库文件（使用yum命令安装）</p>
<p>yum install -y apr* autoconf automake bison cloog-ppl compat* cpp curl curl-devel fontconfig fontconfig-devel freetype freetype* freetype-devel gcc gcc-c++ gtk+-devel gd gettext gettext-devel glibc kernel kernel-headers keyutils keyutils-libs-devel krb5-devel libcom_err-devel libpng* libjpeg* libsepol-devel libselinux-devel libstdc++-devel libtool* libgomp libxml2 libxml2-devel libXpm* libtiff libtiff* make mpfr ncurses* ntp openssl openssl-devel patch pcre-devel perl php-common php-gd policycoreutils telnet nasm nasm* wget zlib-devel</p>
<p><strong>安装篇</strong></p>
<p>以下是用putty工具远程登录到服务器，在命令行下面操作的</p>
<p>一、安装MySQL</p>
<p>1、安装cmake</p>
<p>cd /usr/local/src</p>
<p>tar zxvf cmake-2.8.11.2.tar.gz</p>
<p>cd cmake-2.8.11.2</p>
<p>./configure</p>
<p>make</p>
<p>make install</p>
<p>2、安装MySQL</p>
<p>groupadd mysql #添加mysql组</p>
<p>useradd -g mysql mysql -s /bin/false #创建用户mysql并加入到mysql组，不允许mysql用户直接登录系统</p>
<p>mkdir -p /data/mysql #创建MySQL数据库存放目录</p>
<p>chown -R mysql:mysql /data/mysql #设置MySQL数据库存放目录权限</p>
<p>mkdir -p /usr/local/mysql #创建MySQL安装目录</p>
<p>cd /usr/local/src #进入软件包存放目录</p>
<p>tar zxvf mysql-5.6.19.tar.gz #解压</p>
<p>cd mysql-5.6.19 #进入目录</p>
<p>cmake . -DCMAKE_INSTALL_PREFIX=/usr/local/mysql -DMYSQL_DATADIR=/data/mysql -DSYSCONFDIR=/etc #配置</p>
<p>make #编译</p>
<p>make install #安装</p>
<p>rm -rf /etc/my.cnf #删除系统默认的配置文件（如果默认没有就不用删除）</p>
<p>cd /usr/local/mysql #进入MySQL安装目录</p>
<p>./scripts/mysql_install_db --user=mysql --basedir=/usr/local/mysql --datadir=/data/mysql #生成mysql系统数据库</p>
<p>ln -s /usr/local/mysql/my.cnf &nbsp;/etc/my.cnf #添加到/etc目录的软连接</p>
<p>cp ./support-files/mysql.server &nbsp;/etc/rc.d/init.d/mysqld #把Mysql加入系统启动</p>
<p>chmod 755 /etc/init.d/mysqld #增加执行权限</p>
<p>chkconfig mysqld on #加入开机启动</p>
<p>vi /etc/rc.d/init.d/mysqld #编辑</p>
<p>basedir=/usr/local/mysql #MySQL程序安装路径</p>
<p>datadir=/data/mysql #MySQl数据库存放目录</p>
<p>service mysqld start #启动</p>
<p>vi /etc/profile #把mysql服务加入系统环境变量：在最后添加下面这一行</p>
<p>export PATH=$PATH:/usr/local/mysql/bin</p>
<p>:wq! #保存退出</p>
<p>source /etc/profile &nbsp;#使配置立即生效</p>
<p>#下面这两行把myslq的库文件链接到系统默认的位置，这样你在编译类似PHP等软件时可以不用指定mysql的库文件地址。</p>
<p>ln -s /usr/local/mysql/lib/mysql /usr/lib/mysql</p>
<p>ln -s /usr/local/mysql/include/mysql /usr/include/mysql</p>
<p>mkdir /var/lib/mysql #创建目录</p>
<p>ln -s /tmp/mysql.sock /var/lib/mysql/mysql.sock #添加软链接</p>
<p>mysql_secure_installation #设置Mysql密码，根据提示按Y 回车输入2次密码</p>
<p>二、安装Nginx</p>
<p>1、安装pcre</p>
<p>cd /usr/local/src</p>
<p>mkdir /usr/local/pcre</p>
<p>tar zxvf pcre-8.35.tar.gz</p>
<p>cd pcre-8.35</p>
<p>./configure --prefix=/usr/local/pcre</p>
<p>make</p>
<p>make install</p>
<p>2、安装openssl</p>
<p>cd /usr/local/src</p>
<p>mkdir /usr/local/openssl</p>
<p>tar zxvf openssl-1.0.1h.tar.gz</p>
<p>cd openssl-1.0.1h</p>
<p>./config --prefix=/usr/local/openssl</p>
<p>make</p>
<p>make install</p>
<p>vi /etc/profile&nbsp;#把openssl服务加入系统环境变量：在最后添加下面这一行</p>
<p>export PATH=$PATH:/usr/local/openssl/bin</p>
<p>:wq!&nbsp;#保存退出</p>
<p>source /etc/profile&nbsp;#使配置立即生效</p>
<p>3、安装zlib</p>
<p>cd /usr/local/src</p>
<p>mkdir /usr/local/zlib</p>
<p>tar zxvf zlib-1.2.8.tar.gz</p>
<p>cd zlib-1.2.8</p>
<p>./configure --prefix=/usr/local/zlib</p>
<p>make</p>
<p>make install</p>
<p>4、安装Nginx</p>
<p>groupadd www</p>
<p>useradd -g www www -s /bin/false</p>
<p>cd /usr/local/src</p>
<p>tar zxvf nginx-1.6.0.tar.gz</p>
<p>cd nginx-1.6.0</p>
<p>./configure --prefix=/usr/local/nginx --without-http_memcached_module --user=www --group=www --with-http_stub_status_module --with-http_ssl_module --with-http_gzip_static_module --with-openssl=/usr/local/src/openssl-1.0.1h --with-zlib=/usr/local/src/zlib-1.2.8 --with-pcre=/usr/local/src/pcre-8.35</p>
<p>注意：--with-openssl=/usr/local/src/openssl-1.0.1h --with-zlib=/usr/local/src/zlib-1.2.8 --with-pcre=/usr/local/src/pcre-8.35指向的是源码包解压的路径，而不是安装的路径，否则会报错</p>
<p>make</p>
<p>make install</p>
<p>/usr/local/nginx/sbin/nginx &nbsp;#启动Nginx</p>
<p>设置nginx开机启动</p>
<p>vi /etc/rc.d/init.d/nginx&nbsp;&nbsp;#编辑启动文件添加下面内容</p>
<p>############################################################</p>
<p>#!/bin/sh</p>
<p>#</p>
<p># nginx - this script starts and stops the nginx daemon</p>
<p>#</p>
<p># chkconfig: - 85 15</p>
<p># description: Nginx is an HTTP(S) server, HTTP(S) reverse \</p>
<p># proxy and IMAP/POP3 proxy server</p>
<p># processname: nginx</p>
<p># config: /etc/nginx/nginx.conf</p>
<p># config: /usr/local/nginx/conf/nginx.conf</p>
<p># pidfile: /usr/local/nginx/logs/nginx.pid</p>
<p># Source function library.</p>
<p>. /etc/rc.d/init.d/functions</p>
<p># Source networking configuration.</p>
<p>. /etc/sysconfig/network</p>
<p># Check that networking is up.</p>
<p>[ &quot;$NETWORKING&quot; = &quot;no&quot; ] &amp;&amp; exit 0</p>
<p>nginx=&quot;/usr/local/nginx/sbin/nginx&quot;</p>
<p>prog=$(basename $nginx)</p>
<p>NGINX_CONF_FILE=&quot;/usr/local/nginx/conf/nginx.conf&quot;</p>
<p>[ -f /etc/sysconfig/nginx ] &amp;&amp; . /etc/sysconfig/nginx</p>
<p>lockfile=/var/lock/subsys/nginx</p>
<p>make_dirs() {</p>
<p># make required directories</p>
<p>user=`$nginx -V 2&gt;&amp;1 | grep &quot;configure arguments:&quot; | sed 's/[^*]*--user=\([^ ]*\).*/\1/g' -`</p>
<p>if [ -z &quot;`grep $user /etc/passwd`&quot; ]; then</p>
<p>useradd -M -s /bin/nologin $user</p>
<p>fi</p>
<p>options=`$nginx -V 2&gt;&amp;1 | grep 'configure arguments:'`</p>
<p>for opt in $options; do</p>
<p>if [ `echo $opt | grep '.*-temp-path'` ]; then</p>
<p>value=`echo $opt | cut -d &quot;=&quot; -f 2`</p>
<p>if [ ! -d &quot;$value&quot; ]; then</p>
<p># echo &quot;creating&quot; $value</p>
<p>mkdir -p $value &amp;&amp; chown -R $user $value</p>
<p>fi</p>
<p>fi</p>
<p>done</p>
<p>}</p>
<p>start() {</p>
<p>[ -x $nginx ] || exit 5</p>
<p>[ -f $NGINX_CONF_FILE ] || exit 6</p>
<p>make_dirs</p>
<p>echo -n $&quot;Starting $prog: &quot;</p>
<p>daemon $nginx -c $NGINX_CONF_FILE</p>
<p>retval=$?</p>
<p>echo</p>
<p>[ $retval -eq 0 ] &amp;&amp; touch $lockfile</p>
<p>return $retval</p>
<p>}</p>
<p>stop() {</p>
<p>echo -n $&quot;Stopping $prog: &quot;</p>
<p>killproc $prog -QUIT</p>
<p>retval=$?</p>
<p>echo</p>
<p>[ $retval -eq 0 ] &amp;&amp; rm -f $lockfile</p>
<p>return $retval</p>
<p>}</p>
<p>restart() {</p>
<p>#configtest || return $?</p>
<p>stop</p>
<p>sleep 1</p>
<p>start</p>
<p>}</p>
<p>reload() {</p>
<p>#configtest || return $?</p>
<p>echo -n $&quot;Reloading $prog: &quot;</p>
<p>killproc $nginx -HUP</p>
<p>RETVAL=$?</p>
<p>echo</p>
<p>}</p>
<p>force_reload() {</p>
<p>restart</p>
<p>}</p>
<p>configtest() {</p>
<p>$nginx -t -c $NGINX_CONF_FILE</p>
<p>}</p>
<p>rh_status() {</p>
<p>status $prog</p>
<p>}</p>
<p>rh_status_q() {</p>
<p>rh_status &gt;/dev/null 2&gt;&amp;1</p>
<p>}</p>
<p>case &quot;$1&quot; in</p>
<p>start)</p>
<p>rh_status_q &amp;&amp; exit 0</p>
<p>$1</p>
<p>;;</p>
<p>stop)</p>
<p>rh_status_q || exit 0</p>
<p>$1</p>
<p>;;</p>
<p>restart|configtest)</p>
<p>$1</p>
<p>;;</p>
<p>reload)</p>
<p>rh_status_q || exit 7</p>
<p>$1</p>
<p>;;</p>
<p>force-reload)</p>
<p>force_reload</p>
<p>;;</p>
<p>status)</p>
<p>rh_status</p>
<p>;;</p>
<p>condrestart|try-restart)</p>
<p>rh_status_q || exit 0</p>
<p>;;</p>
<p>*)</p>
<p>echo $&quot;Usage: $0 {start|stop|status|restart|condrestart|try-restart|reload|force-reload|configtest}&quot;</p>
<p>exit 2</p>
<p>esac</p>
<p>############################################################</p>
<p>:wq! #保存退出</p>
<p>chmod 775 /etc/rc.d/init.d/nginx #赋予文件执行权限</p>
<p>chkconfig nginx on #设置开机启动</p>
<p>/etc/rc.d/init.d/nginx restart #重启</p>
<p>三、安装php</p>
<p>1、安装yasm</p>
<p>cd /usr/local/src</p>
<p>tar zxvf yasm-1.2.0.tar.gz</p>
<p>cd yasm-1.2.0</p>
<p>./configure</p>
<p>make</p>
<p>make install</p>
<p>2、安装libmcrypt</p>
<p>cd /usr/local/src</p>
<p>tar zxvf libmcrypt-2.5.8.tar.gz</p>
<p>cd libmcrypt-2.5.8</p>
<p>./configure</p>
<p>make</p>
<p>make install</p>
<p>3、安装libvpx</p>
<p>cd /usr/local/src</p>
<p>tar xvf libvpx-v1.3.0.tar.bz2</p>
<p>cd libvpx-v1.3.0</p>
<p>./configure --prefix=/usr/local/libvpx --enable-shared --enable-vp9</p>
<p>make</p>
<p>make install</p>
<p>4、安装tiff</p>
<p>cd /usr/local/src</p>
<p>tar zxvf tiff-4.0.3.tar.gz</p>
<p>cd tiff-4.0.3</p>
<p>./configure --prefix=/usr/local/tiff --enable-shared</p>
<p>make</p>
<p>make install</p>
<p>5、安装libpng</p>
<p>cd /usr/local/src</p>
<p>tar zxvf libpng-1.6.12.tar.gz</p>
<p>cd libpng-1.6.12</p>
<p>./configure --prefix=/usr/local/libpng --enable-shared</p>
<p>make</p>
<p>make install</p>
<p>6、安装freetype</p>
<p>cd /usr/local/src</p>
<p>tar zxvf freetype-2.5.3.tar.gz</p>
<p>cd freetype-2.5.3</p>
<p>./configure --prefix=/usr/local/freetype --enable-shared</p>
<p>make #编译</p>
<p>make install #安装</p>
<p>7、安装jpeg</p>
<p>cd /usr/local/src</p>
<p>tar zxvf jpegsrc.v9a.tar.gz</p>
<p>cd jpeg-9a</p>
<p>./configure --prefix=/usr/local/jpeg --enable-shared</p>
<p>make #编译</p>
<p>make install #安装</p>
<p>8、安装libgd</p>
<p>cd /usr/local/src</p>
<p>tar zxvf libgd-2.1.0.tar.gz #解压</p>
<p>cd libgd-2.1.0 #进入目录</p>
<p>./configure --prefix=/usr/local/libgd --enable-shared --with-jpeg=/usr/local/jpeg --with-png=/usr/local/libpng --with-freetype=/usr/local/freetype --with-fontconfig=/usr/local/freetype --with-xpm=/usr/ --with-tiff=/usr/local/tiff --with-vpx=/usr/local/libvpx #配置</p>
<p>make #编译</p>
<p>make install #安装</p>
<p>9、安装t1lib</p>
<p>cd /usr/local/src</p>
<p>tar zxvf t1lib-5.1.2.tar.gz</p>
<p>cd t1lib-5.1.2</p>
<p>./configure --prefix=/usr/local/t1lib --enable-shared</p>
<p>make without_doc</p>
<p>make install</p>
<p>10、安装php</p>
<p>注意：如果系统是64位，请执行以下两条命令，否则安装php会出错（32位系统不需要执行）</p>
<p>ln -s /usr/lib64/libltdl.so /usr/lib/libltdl.so</p>
<p>\cp -frp /usr/lib64/libXpm.so* /usr/lib/</p>
<p>cd /usr/local/src</p>
<p>tar -zvxf php-5.5.14.tar.gz</p>
<p>cd php-5.5.14</p>
<p>export LD_LIBRARY_PATH=/usr/local/libgd/lib</p>
<p>./configure --prefix=/usr/local/php --with-config-file-path=/usr/local/php/etc --with-mysql=/usr/local/mysql --with-mysqli=/usr/local/mysql/bin/mysql_config --with-mysql-sock=/tmp/mysql.sock --with-pdo-mysql=/usr/local/mysql --with-gd --with-png-dir=/usr/local/libpng --with-jpeg-dir=/usr/local/jpeg --with-freetype-dir=/usr/local/freetype --with-xpm-dir=/usr/ --with-vpx-dir=/usr/local/libvpx/ --with-zlib-dir=/usr/local/zlib --with-t1lib=/usr/local/t1lib --with-iconv --enable-libxml --enable-xml --enable-bcmath --enable-shmop --enable-sysvsem --enable-inline-optimization --enable-opcache --enable-mbregex --enable-fpm --enable-mbstring --enable-ftp --enable-gd-native-ttf --with-openssl --enable-pcntl --enable-sockets --with-xmlrpc --enable-zip --enable-soap --without-pear --with-gettext --enable-session --with-mcrypt --with-curl --enable-ctype &nbsp;#配置</p>
<p>make&nbsp;&nbsp;#编译</p>
<p>make install &nbsp;#安装</p>
<p>cp php.ini-production /usr/local/php/etc/php.ini &nbsp;#复制php配置文件到安装目录</p>
<p>rm -rf /etc/php.ini &nbsp;#删除系统自带配置文件</p>
<p>ln -s /usr/local/php/etc/php.ini /etc/php.ini &nbsp;&nbsp;#添加软链接到&nbsp;/etc目录</p>
<p>cp /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.conf &nbsp;#拷贝模板文件为php-fpm配置文件</p>
<p>ln -s /usr/local/php/etc/php-fpm.conf &nbsp;/etc/php-fpm.conf &nbsp;#添加软连接到&nbsp;/etc目录</p>
<p>vi /usr/local/php/etc/php-fpm.conf #编辑</p>
<p>user = www #设置php-fpm运行账号为www</p>
<p>group = www #设置php-fpm运行组为www</p>
<p>pid = run/php-fpm.pid #取消前面的分号</p>
<p>:wq!</p>
<p>设置 php-fpm开机启动</p>
<p>cp /usr/local/src/php-5.5.14/sapi/fpm/init.d.php-fpm /etc/rc.d/init.d/php-fpm #拷贝php-fpm到启动目录</p>
<p>chmod +x /etc/rc.d/init.d/php-fpm #添加执行权限</p>
<p>chkconfig php-fpm on #设置开机启动</p>
<p>vi /usr/local/php/etc/php.ini #编辑配置文件</p>
<p>找到：disable_functions =</p>
<p>修改为：disable_functions = passthru,exec,system,chroot,scandir,chgrp,chown,shell_exec,proc_open,proc_get_status,ini_alter,ini_alter,ini_restore,dl,openlog,syslog,readlink,symlink,popepassthru,stream_socket_server,escapeshellcmd,dll,popen,disk_free_space,checkdnsrr,checkdnsrr,getservbyname,getservbyport,disk_total_space,posix_ctermid,posix_get_last_error,posix_getcwd, posix_getegid,posix_geteuid,posix_getgid, posix_getgrgid,posix_getgrnam,posix_getgroups,posix_getlogin,posix_getpgid,posix_getpgrp,posix_getpid, posix_getppid,posix_getpwnam,posix_getpwuid, posix_getrlimit, posix_getsid,posix_getuid,posix_isatty, posix_kill,posix_mkfifo,posix_setegid,posix_seteuid,posix_setgid, posix_setpgid,posix_setsid,posix_setuid,posix_strerror,posix_times,posix_ttyname,posix_uname</p>
<p>#列出PHP可以禁用的函数，如果某些程序需要用到这个函数，可以删除，取消禁用。</p>
<p>找到：;date.timezone =</p>
<p>修改为：date.timezone = PRC #设置时区</p>
<p>找到：expose_php = On</p>
<p>修改为：expose_php = Off #禁止显示php版本的信息</p>
<p>找到：short_open_tag = Off</p>
<p>修改为：short_open_tag = ON #支持php短标签</p>
<p>找到opcache.enable=0</p>
<p>修改为opcache.enable=1 #php支持opcode缓存</p>
<p>找到：opcache.enable_cli=1 #php支持opcode缓存</p>
<p>修改为：opcache.enable_cli=0</p>
<p>在最后一行添加：zend_extension=opcache.so #开启opcode缓存功能</p>
<p>:wq! #保存退出</p>
<p>配置nginx支持php</p>
<p>vi /usr/local/nginx/conf/nginx.conf</p>
<p>修改/usr/local/nginx/conf/nginx.conf 配置文件,需做如下修改</p>
<p>user www www; #首行user去掉注释,修改Nginx运行组为www www；必须与/usr/local/php/etc/php-fpm.conf中的user,group配置相同，否则php运行出错</p>
<p>index index.html index.htm index.php; #添加index.php</p>
<p># pass the PHP scripts to FastCGI server listening on 127.0.0.1:9000</p>
<p>#</p>
<p>location ~ \.php$ {</p>
<p>root html;</p>
<p>fastcgi_pass 127.0.0.1:9000;</p>
<p>fastcgi_index index.php;</p>
<p>fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;</p>
<p>include fastcgi_params;</p>
<p>}</p>
<p>#取消FastCGI server部分location的注释,注意fastcgi_param行的参数,改为$document_root$fastcgi_script_name,或者使用绝对路径</p>
<p>/etc/init.d/nginx restart #重启nginx</p>
<p>service php-fpm start #启动php-fpm</p>
<p><strong>测试篇</strong></p>
<p>cd /usr/local/nginx/html/ #进入nginx默认网站根目录</p>
<p>rm -rf /usr/local/nginx/html/* #删除默认测试页</p>
<p>vi index.php #新建index.php文件</p>
<p>&lt;?php</p>
<p>phpinfo();</p>
<p>?&gt;</p>
<p>:wq! #保存退出</p>
<p>chown www.www /usr/local/nginx/html/ -R #设置目录所有者</p>
<p>chmod 700 /usr/local/nginx/html/ -R #设置目录权限</p>
<p>在浏览器中打开服务器IP地址，会看到下面的界面</p>
<p></p>
<p><strong>至此，RHEL 7.0编译安装Nginx1.6.0+MySQL5.6.19+PHP5.5.14教程完成。</strong></p>
<hr></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/84789.html'>Win10系统桌面底部空了一行怎么办 Win10系统桌面图标空出一行的原因及两种解决方法</a><a>下一篇</a><a href='/php/biji/84791.html'>Java读取文件的简单实现方法</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>