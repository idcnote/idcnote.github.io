<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>jQuery和AngularJS的区别浅析_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="最近一直在研究angularjs,最大的感受就是它和之前的jQuery以及基于jQuery的各种库设计理念完全不同，如果不能认识到这点而对于之前做jQuery开发的程序员，去直接学习angularjs" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li><li><a href="/php/phpbiji/108382.html"></a></li><li><a href="/php/phpbiji/108384.html"></a></li><li><a href="/php/phpbiji/108383.html"></a></li><li><a href="/php/phpbiji/108385.html"></a></li><li><a href="/php/phpbiji/108386.html"></a></li><li><a href="/php/phpbiji/108388.html"></a></li><li><a href="/php/phpbiji/108387.html"></a></li><li><a href="/php/phpbiji/108389.html"></a></li><li><a href="/php/phpbiji/108391.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">jQuery和AngularJS的区别浅析</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>最近一直在研究angularjs,最大的感受就是它和之前的jQuery以及基于jQuery的各种库设计理念完全不同，如果不能认识到这点而对于之前做jQuery开发的程序员，去直接学习angularjs</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p>最近一直在研究angularjs,最大的感受就是它和之前的jQuery以及基于jQuery的各种库设计理念完全不同，如果不能认识到这点而对于之前做jQuery开发的程序员，去直接学习angularjs的话，很可能学了很久还不知道这个东西能用来干什么以及怎么使用，怎么和UI进行结合等问题,在stackoverflow上找到一篇关于这方面的文章，阅读之后颇有收获，在此基础上将它译成中文，以求抛砖引玉大家一同学习。</p>
<p>原问题：假如我熟悉利用jQuery去开发客户端应用，那么我怎么上手angularjs,能否描述下所需要的模式转变，下面这些问题能够帮助你给出一个回答：</p>
<p>1.在设计客户端web应用的时候有什么区别，最大的区别是什么？</p>
<p>2.我应该停止使用哪些技术，同时又使用哪些技术作为替代？</p>
<p>3.是否存在服务端需要考虑的东西或者说一些限制呢？</p>
<p>回答：</p>
<p><strong>1.不要首先设计好你的页面，然后再通过DOM操作去修改它</strong></p>
<p>在jQuery中，你首先设计了一个page，然后再去动态修改它的内容，这是因为jQuery被设计用来进行扩展并在这个前提下大幅度地增加和修改内容，但是在angularjs中，你必须在心中先设计好你的架构，</p>
<p>从一开始，你就要摒弃“我拥有一个DOM元素并且想让它去做某件事”，代之为“我需要完成什么任务，然后接着设计你的应用，最后再去设计你的视图view层”。</p>
<p><strong>2.不要使用angularjs去扩展jQuery</strong></p>
<p>相应地，不要存在说让jQuery去干某些事情，然后在此基础上添加angularjs的功能让它去管理model以及controller的想法。所以我一般不推荐AngularJS开发新手同时使用jQuery，至少在他们还没有适应AngularJS的开发模式之前不会去推荐这样做，但是当你真正开始适应angularjs 的方式之后，你会发觉这是一件很诱人的事情。</p>
<p>我曾经看到过很多开发者采用将150到200行代码的jQuery插件利用angularjs的回调以及$apply方法封装起来，这种方式使得代码看起来极其复杂，但是实际上他们让这些插件跑起来了！问题在于，在大部分情况下jQuery插件能够用angularjs进行重写，并且可能只会使用很少量的代码，同时这种重写使得代码很直观且易于理解，这显然好过于将jQuery代码直接做封装。</p>
<p>所以最后说，当你遇见问题的时候，首先要以angularjs的思维进行思考，如果找不到解决方案，可以求助于社区，如果说没有人能够给出一个简单的方案，那么才考虑使用jQuery，不要让jQuery成为你的拐杖，否则你永远掌握不了AngularJS。</p>
<p><strong>3.要以架构为中心进行思考</strong></p>
<p>首先你要知道单页应用属于web应用，它们不是传统的多网页网站，所以我们要同时作为一个服务端和客户端开发者的思维进行思考，我们需要思考如何将我们的应用分为独立的，可扩展的以及可测试的部分。</p>
<p>那么接下来我们如何采用AngularJS思维去工作呢，以下是一些将其与jQuery对比之后的基本准则：</p>
<p><strong>以下是某个应用的视图层：</strong></p>
<p>在jQuery中，我们动态地去修改这个视图，我们使用ul去定义一个dropdown menu<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="14443" class="copybut" id="copybut14443" onclick="doCopy('code14443')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code14443"><br />
&lt;ul class="main-menu"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;li class="active"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;a href="#/home"&gt;Home&lt;/a&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;a href="#/menu1"&gt;Menu 1&lt;/a&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;ul&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;li&gt;&lt;a href="#/sm1"&gt;Submenu 1&lt;/a&gt;&lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;li&gt;&lt;a href="#/sm2"&gt;Submenu 2&lt;/a&gt;&lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;li&gt;&lt;a href="#/sm3"&gt;Submenu 3&lt;/a&gt;&lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;/ul&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/li&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;li&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;a href="#/home"&gt;Menu 2&lt;/a&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;/li&gt;<br />
&lt;/ul&gt;<br />
</div></p>
<p>在jQuery中，我们采用如下逻辑使用这个dropdownMenu<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="6157" class="copybut" id="copybut6157" onclick="doCopy('code6157')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code6157"><br />
$('.main-menu').dropdownMenu();<br />
</div><br />
让我们回头看看这个view，你会发现它的功能并不是很直白，对于小型应用来讲，这样是可以的，但是对于大型应用来讲，这种方式会让人费解并且难以维护；</p>
<p>在angularjs中，这个视图实际上是一项基于视图的功能，我们可以这样来定义ul</p>
<p><div class="codetitle"><span><a style="CURSOR: pointer" data="84131" class="copybut" id="copybut84131" onclick="doCopy('code84131')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code84131"><br />
&lt;ul class="main-menu" dropdown-menu&gt;<br />
&nbsp;&nbsp;&nbsp; ...<br />
&lt;/ul&gt;<br />
</div></p>
<p>这两种方式实际上做了同样的事情，但是在AngularJS方式下任何人看到这个视图模板就知道接下来要干什么。无论何时当一个新成员加入开发团队之后他都能够看到这里并发现这里有一个叫做dropdownMenu的指令去操作view，他不需要去猜想正确的答案或者审查其他的代码，这个视图就直接告诉我们它要做什么，相比于jQuery，它更为简洁。</p>
<p>常常有些AngularJS新手问这样的问题：我怎么才能找到某个确切类型的所有link并在此基础上添加一个directive，但是当我们回答了“你不应该这样去做，你这是一种半jQuery半angularjs的想法”时，他们会觉得很吃惊。</p>
<p>问题在于他们试图在AngularJS背景下用jQuery去做某件事，这通常不是一种好的方式，在指令之外你不需要去做任何dom操作，而指令是直接内添加在视图上的，所以意图已经很明显了。记住，不要先设计好之后再去修改，而是先有架构然后在这个框架下再去设计。</p>
<p><strong>数据绑定</strong></p>
<p>这是到目前为止AngularJS最令人瞩目的特性了，在数据绑定方面它舍弃了对DOM的操作方式，而这一切都是由AngularJS来自动更新视图，你不必写操作dom的代码，在jQuery中，我们常常按照以下方式响应事件并修改视图：</p>
<p><div class="codetitle"><span><a style="CURSOR: pointer" data="23652" class="copybut" id="copybut23652" onclick="doCopy('code23652')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code23652"><br />
$.ajax({<br />
&nbsp; url: '/myEndpoint.json',<br />
&nbsp; success: function ( data, status ) {<br />
&nbsp;&nbsp;&nbsp; $('ul#log').append('&lt;li&gt;Data Received!&lt;/li&gt;');<br />
&nbsp; }<br />
});<br />
</div></p>
<p>相对于这样一个视图</p>
<p><div class="codetitle"><span><a style="CURSOR: pointer" data="5089" class="copybut" id="copybut5089" onclick="doCopy('code5089')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code5089"><br />
&lt;ul class="messages" id="log"&gt;<br />
&lt;/ul&gt;<br />
</div></p>
<p>除了混杂的问题之外，我们还存在我之前提到的如何表明自己意图的问题。但是更为重要的是，我们必须人工手动去引用并更新这个DOM节点，如果我们想删除其中一条，那么必须以编程方式去操作那个DOM元素，那么在这种情况下我们怎么去测试DOM节点之外的逻辑呢，亦或者我们想改变展示方式呢？</p>
<p>以上代码显得凌乱又脆弱，但是在AngularJS中，我们可以这样做：<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="87335" class="copybut" id="copybut87335" onclick="doCopy('code87335')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code87335"><br />
$http( '/myEndpoint.json' ).then( function ( response ) {<br />
&nbsp;&nbsp;&nbsp; $scope.log.push( { msg: 'Data Received!' } );<br />
});<br />
</div></p>
<p>我们的视图应该像下面这样</p>
<p><div class="codetitle"><span><a style="CURSOR: pointer" data="14039" class="copybut" id="copybut14039" onclick="doCopy('code14039')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code14039"><br />
&lt;ul class="messages"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;li ng-repeat="entry in log"&gt;{{ entry.msg }}&lt;/li&gt;<br />
&lt;/ul&gt;<br />
</div><br />
在那种情况下，我们的视图也可以这样</p>
<p><div class="codetitle"><span><a style="CURSOR: pointer" data="33929" class="copybut" id="copybut33929" onclick="doCopy('code33929')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code33929"><br />
&lt;div class="messages"&gt;<br />
&nbsp;&nbsp;&nbsp; &lt;div class="alert" ng-repeat="entry in log"&gt;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {{ entry.msg }}<br />
&nbsp;&nbsp;&nbsp; &lt;/div&gt;<br />
&lt;/div&gt;<br />
</div></p>
<p>现在我们不使用ul,而是使用Bootstrap的弹出框，但是我们不用修改controller中的代码，更为重要的是，不管是数据如何修改，视图层也会自动随之发生变化，非常简洁！</p>
<p>尽管我这里不会做演示，但是你需要知道数据绑定是双向的，你可以编辑数据通过添加指令&lt;input ng-model="entry.msg" /&gt;，此外还有很多其他的令人兴奋的地方。</p>
<p><strong>区别model层</strong></p>
<p>在jQuery中，DOM类似于一种model，但是在AngularJS中，我们拥有不同于jQuery中的model层以便我们可以以任何我们想要的方式去管理它，它是完全独立于视图之外的。这种方式是有助于我们进行数据绑定并且可以保持对分离的关注，而且可以具备更好的可测试性。</p>
<p><strong>关注点分离</strong></p>
<p>以上所讲都和这个总体的话题相关：让你关注分离，你的视图层显示记录，你的model层代表数据，你还有个服务层用来执行这些可复用的任务。你使用directive来执行dom操作并扩展你的视图，并将它和controller连接起来，这也就是我在其他方面提到的有关于增强可测试性的原因。</p>
<p><strong>依赖注入</strong></p>
<p>帮助我们解决关注点分离的是依赖注入（DI），如果你是一个服务端开发者（Java或者PHP），你可能已经很熟悉这个概念了，但是如果你是从事客户端开发的，你会觉得这个概念可能有些多余和纯属追求时髦，但是实际上不是这样。</p>
<p>从广义的角度讲，DI意味着你可以自由地声明组件然后从这些组件中进行实例化，这是理所当然的。你不必知道加载顺序，文件位置等诸如此类的事情，这种魔力不是能够立即看到，但是我会给出一个例子：测试。</p>
<p>我们说在应用中，我们需要一个依赖于应用状态和本地存储的服务用来通过一个rest API来执行服务端存储，当我们测试我们的controller时，我们不必和服务端进行通信，毕竟只是在测试controller而已。我们仅添加一个与我们最初组件相同的mock服务，注入器能够确保我们的controller获得一个虚拟的服务，controller自身不必也不需要了解这种差异。</p>
<p>那么说说测试吧。</p>
<p><strong>4.以测试驱动的开发</strong></p>
<p>这部分是一个架构的第三部分，但是他是很重要的，以至于我需要将它放在最重要的位置。</p>
<p>在我们所有见过的，用过的以及写过的jQuery插件中，有多少具有一套测试组件呢？其实并不多，这是因为jQuery在测试上不易控制，但是AngularJS却与此不同。</p>
<p>在jQuery中，测试的唯一方法是使用一个demo页去创建一个独立组件来使得我们的测试可以执行dom操作。我们接下来我们必须开发一个独立的组件然后将它集成到我们的应用中来，这是多不方便啊！在很多情况下，当我们使用jQuery开发实际上是做了很多重复开发而不是以测试驱动的开发，这又能怪我们吗？</p>
<p>但是在AngularJS中我们可以关注分离点，所以我们可以做一些测试驱动的开发。例如，我们有一个directive用来说明在menu中我们的当前路径，我们可以在视图中这样声明：<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="816" class="copybut" id="copybut816" onclick="doCopy('code816')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code816"><br />
&lt;a href="/hello" when-active&gt;Hello&lt;/a&gt;<br />
</div></p>
<p>好了，现在我们可以写一个测试用来测试这个不存在的指令when-active了<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="153" class="copybut" id="copybut153" onclick="doCopy('code153')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code153"><br />
it( 'should add "active" when the route changes', inject(function() {<br />
&nbsp;&nbsp;&nbsp; var elm = $compile( '&lt;a href="/hello" when-active&gt;Hello&lt;/a&gt;' )( $scope );<br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp; $location.path('/not-matching');<br />
&nbsp;&nbsp;&nbsp; expect( elm.hasClass('active') ).toBeFalsey();<br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp; $location.path( '/hello' );<br />
&nbsp;&nbsp;&nbsp; expect( elm.hasClass('active') ).toBeTruthy();<br />
}));<br />
</div></p>
<p>我们直接run测试用例，你会发现是失败的，这时候需要创建这个指令，如下：</p>
<p><div class="codetitle"><span><a style="CURSOR: pointer" data="75586" class="copybut" id="copybut75586" onclick="doCopy('code75586')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code75586"><br />
.directive( 'whenActive', function ( $location ) {<br />
&nbsp;&nbsp;&nbsp; return {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scope: true,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; link: function ( scope, element, attrs ) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scope.$on( '$routeChangeSuccess', function () {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ( $location.path() == element.attr( 'href' ) ) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; element.addClass( 'active' );<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; element.removeClass( 'active' );<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; };<br />
});<br />
</div></p>
<p><br />
再次run这个测试用例，你会发现通过了并且菜单如请求的样子显示，我们的开发是兼有反复性和可测试性，非常酷吧！</p>
<p><strong>5.从概念上讲，指令不是打包的jQuery</strong></p>
<p>你常常听说，dom操作只能在指令中，这是必须的，你必须严肃对待。</p>
<p>让我们深入讨论，</p>
<p>某些指令仅仅是装饰我们的视图（例如ngClass），因此有时候直接操作dom是可以的，但是当一个指令类似于一个小物件并且拥有自己的模板，那么它应该当做一个分离的关注点，这就是说，它的模板需要和link中的执行逻辑以及其他controller函数分离开。</p>
<p>AngularJS拥有一整套的工具可以是这种分离更简单，使用ngClass指令，我们可以动态地更新class,使用ngBind我们可以进行双向数据绑定，使用ngShow和ngHide 我们</p>
<p>可以采用编程的形式显示和隐藏一个元素，也包括我们自己写的很多指令。换句话说，我们可以不用Dom操作而完成所有工作，dom操作越少，指令越容易测试，越容易指定他们的style属性，就越容易在将来改变他们，那么他们就越容易复用和分发。</p>
<p>我看过很多AngularJS新手使用指令封装一大串 jQuery代码，换句话说，既然我不能在controller里面进行dom操作，那么我可以将他放在指令中，虽然这相对于直接操作dom好很多，但是任然是错误的。</p>
<p>看看我们在上面的记录，即使我们将其放在一个指令中，我们任然需要以Angular的方式去操作它，这种方式不执行dom操作！在很多时候dom操作是需要的，但是这种情况比你想的要少得多。当我们需要做dom操作的时候先问问自己这里是否必须这样做，这才是一种更好的方式。</p>
<p>下面是一个简单的例子用来表明我常常见到的一种模式，我们需要I一个可切换的button：<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="49287" class="copybut" id="copybut49287" onclick="doCopy('code49287')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code49287"><br />
.directive( 'myDirective', function () {<br />
&nbsp;&nbsp;&nbsp; return {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; template: '&lt;a class="btn"&gt;Toggle me!&lt;/a&gt;',<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; link: function ( scope, element, attrs ) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; var on = false;<br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $(element).click( function () {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; on = !on;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $(element).toggleClass('active', on);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; });<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; };<br />
});<br />
</div></p>
<p>在以上例子中存在以下错误：</p>
<p>1.首先，jQuery是不必要的，这里的工作完全不需要jQuery！</p>
<p>2.第二，即使我们已经在页面中引入了jquery,但是我们没有理由去使用它，我们可以使用angular.element而我们的组件也能够运行，即使这个项目中没有引入jQuery。</p>
<p>3.第三，假设jquery是需要的在我们的指令中，我们可以使用jqLite去进行替代，只要引入jQuery即可，所以我们不必使用$而是使用angular.element;</p>
<p>4.第四，和第三点联系很紧密，jqLite元素不必使用$包裹起来，element元素传递到link函数中已经是一个jQuery对象了；</p>
<p>5.第五，我们之前已经说过，为什么不将我们的模板和逻辑混合起来呢&#63;</p>
<p>以上指令可以按照如下方式来重写，即使在最复杂的情况下看起来也如此简单。<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="1626" class="copybut" id="copybut1626" onclick="doCopy('code1626')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code1626"><br />
.directive( 'myDirective', function () {<br />
&nbsp;&nbsp;&nbsp; return {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scope: true,<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; template: '&lt;a class="btn" ng-class="{active: on}" ng-click="toggle()"&gt;Toggle me!&lt;/a&gt;',<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; link: function ( scope, element, attrs ) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scope.on = false;<br />
&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scope.toggle = function () {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; scope.on = !scope.on;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; };<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; };<br />
});<br />
</div></p>
<p>模板元素是在 template属性中，你可以很容易替换掉它的style，而逻辑根本不用发生变化，达到了完全复用！</p>
<p>还有其他的好处，比如测试起来很简单，不管模板里面是什么，指令API都不会发生改变，所以重构它很简单。你可以随意多次改变你的模板而不用改变指令，无论你怎么改变，你的测试总能通过！</p>
<p>所以说指令不是一堆jQuery代码的集合，比如函数等，而是HTML代码的扩展，如果HTML代码不能实现你需要的功能，你可以写一个指令去实现它，然后像使用HTML那样去使用它。</p>
<p>以另外一种方式讲，AngularJS如果不做额外的事情，想想我们怎么能够使用ngClick,ngClass指令呢？</p>
<p><strong>总结</strong></p>
<p>不要总使用jquery ,甚至不要去引用它，它会阻止你前进，当我们回到这个问题—你知道你怎么在AngularJS中以jquery方式解决问题，但是当你使用诸如$等选择器时，你要想想它们实际上是禁锢了AngularJS，如果你不知道怎么不用jQuery实现，那么去请教别人，一次一次去问，最好的方式是不需要使用jQuery，使用jQuery只会导致你的工作量提升。<br />
</p>
<hr></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/90630.html'>Egret引擎开发指南之创建项目</a><a>下一篇</a><a href='/php/biji/90632.html'>推荐一本PHP程序猿都应该拜读的书</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>