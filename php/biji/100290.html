<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>C语言实现五子棋小游戏_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="首先我们先来看一个稍微简单些的实现方式：<br />
<br />
<br />
#include &lt;stdio.h&gt;<br />
#include &lt;stdlib.h&gt;<br />
<br />
#define N 15<br />
<br />
int chessboard[N + 1][N + 1] = { 0 };<br />
<br />
int whoseTurn = 0;<br />
<br />
void i" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li><li><a href="/php/phpbiji/108382.html"></a></li><li><a href="/php/phpbiji/108384.html"></a></li><li><a href="/php/phpbiji/108383.html"></a></li><li><a href="/php/phpbiji/108385.html"></a></li><li><a href="/php/phpbiji/108386.html"></a></li><li><a href="/php/phpbiji/108388.html"></a></li><li><a href="/php/phpbiji/108387.html"></a></li><li><a href="/php/phpbiji/108389.html"></a></li><li><a href="/php/phpbiji/108391.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">C语言实现五子棋小游戏</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>首先我们先来看一个稍微简单些的实现方式：<br />
<br />
<br />
#include &lt;stdio.h&gt;<br />
#include &lt;stdlib.h&gt;<br />
<br />
#define N 15<br />
<br />
int chessboard[N + 1][N + 1] = { 0 };<br />
<br />
int whoseTurn = 0;<br />
<br />
void i</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p>首先我们先来看一个稍微简单些的实现方式：</p>
<div class="phpstudycode">
<pre class="brush:cpp;">
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#define N 15

int chessboard[N + 1][N + 1] = { 0 };

int whoseTurn = 0;

void initGame(void);
void printChessboard(void);
void playChess(void);
int judge(int, int);

int main(void)
{
 initGame();

 while (1)
 {
  whoseTurn++;

  playChess();
 }

 return 0;
}

void initGame(void)
{
 char c;

 printf("Please input \'y\' to enter the game:");
 c = getchar();
 if ('y' != c && 'Y' != c)
  exit(0);

 system("cls");
 printChessboard();
}

void printChessboard(void)
{
 int i, j;

 for (i = 0; i &lt;= N; i++)
 {
  for (j = 0; j &lt;= N; j++)
  {
   if (0 == i)
    printf("%3d", j);
   else if (j == 0)
    printf("%3d", i);
   else if (1 == chessboard[i][j])
    printf(" O");
   else if (2 == chessboard[i][j])
    printf(" X");
   else
    printf(" *");
  }
  printf("\n");
 }
}

void playChess(void)
{
 int i, j, winner;

 if (1 == whoseTurn % 2)
 {
  printf("Turn to player 1, please input the position:");
  scanf("%d %d", &i, &j);

  while (chessboard[i][j] != 0)
  {
   printf("This position has been occupied, please input the position again:");
   scanf("%d %d", &i, &j);
  }

  chessboard[i][j] = 1;
 }
 else
 {
  printf("Turn to player 1, please input the position:");
  scanf("%d %d", &i, &j);

  while (chessboard[i][j] != 0)
  {
   printf("This position has been occupied, please input the position again:");
   scanf("%d %d", &i, &j);
  }

  chessboard[i][j] = 2;
 }

 system("cls");
 printChessboard();

 if (judge(i, j))
 {
  if (1 == whoseTurn % 2)
  {
   printf("Winner is player 1!\n");
   exit(0);
  }
  else
  {
   printf("Winner is player 2!\n");
   exit(0);
  }
 }
}

int judge(int x, int y)
{
 int i, j;
 int t = 2 - whoseTurn % 2;

 for (i = x - 4, j = y; i &lt;= x; i++)
 {
  if (i &gt;= 1 && i &lt;= N - 4 && t == chessboard[i][j] && t == chessboard[i + 1][j] && t == chessboard[i + 2][j] && t == chessboard[i + 3][j] && t == chessboard[i + 4][j])
   return 1;
 }
 for (i = x, j = y - 4; j &lt;= y; j++)
 {
  if (j &gt;= 1 && j &lt;= N - 4 && t == chessboard[i][j] && t == chessboard[i][j + 1] && t == chessboard[i][j + 1] && t == chessboard[i][j + 3] && t == chessboard[i][j + 4])
   return 1;
 }
 for (i = x - 4, j = y - 4; i &lt;= x, j &lt;= y; i++, j++)
 {
  if (i &gt;= 1 && i &lt;= N - 4 && j &gt;= 1 && j &lt;= N - 4 && t == chessboard[i][j] && t == chessboard[i + 1][j + 1] && t == chessboard[i + 2][j + 2] && t == chessboard[i + 3][j + 3] && t == chessboard[i + 4][j + 4])
   return 1;
 }
 for (i = x + 4, j = y - 4; i &gt;= 1, j &lt;= y; i--, j++)
 {
  if (i &gt;= 1 && i &lt;= N - 4 && j &gt;= 1 && j &lt;= N - 4 && t == chessboard[i][j] && t == chessboard[i - 1][j + 1] && t == chessboard[i - 2][j + 2] && t == chessboard[i - 3][j + 3] && t == chessboard[i - 4][j + 4])
   return 1;
 }

 return 0;
}

</pre>
</div>
<p>演示截图</p>
<p></p>
<p>我们再来看一个更复杂些的</p>
<div class="phpstudycode">
<pre class="brush:cpp;">
C语言实现五子棋小游戏

# include&lt;stdio.h&gt;
# include&lt;stdio.h&gt;
# include&lt;stdio.h&gt;
# include&lt;stdio.h&gt;//插入输入输出头文件
# include&lt;string.h&gt;//字符数组的函数定义的头文件
# include&lt;stdlib.h&gt;//stdlib 头文件即standard library标准库头文件stdlib 头文件里包含了C、C++语言的最常用的系统函数该 ,文件包含了C语言标准库函数的定义.
# define SPA 0//在C或C++语言源程序中允许用一个标识符来表示一个字符串，称为“宏”。 “define”为宏定义命令。
# define MAN 1
# define COM 2
 /* 空位置设为0 ，玩家下的位置设为1 ，电脑下的位置设为2 */
#define ORDEX 15
int qipan[ORDEX][ORDEX]; //自己定义的预处理函数，以二维数组形式构建棋盘 /* 15*15的棋盘 */

typedef struct//typedef的作用是在C中定义一个结构体类型
{
 int iFlag;
 int iX, iY;
}ScmPiece;
int g_iPieceLen;
ScmPiece g_ScmGame1, g_ScmGame2;

void start(); /* 程序的主要控制函数 */
void draw(); /* 画棋盘 */
int Victory( ScmPiece * pScmPiece ); /* 判断胜利 p q为判断点坐标 */
void AI(int *p,int *q);  /* 电脑下子 p q返回下子坐标 */
int value(int p,int q);  /* 计算空点p q的价值 */
int qixing(int n,int p,int q); /* 返回空点p q在n方向上的棋型 n为1-8方向 从右顺时针开始数 */
void yiwei(int n,int *i,int *j); /* 在n方向上对坐标 i j 移位 n为1-8方向 从右顺时针开始数 */

void InitGame(){
 int i;
 g_iPieceLen = ORDEX * ORDEX;
 g_ScmGame1.iX = 0;
 g_ScmGame1.iY = 0;
 g_ScmGame1.iFlag = COM;
 g_ScmGame2.iX = 7;
 g_ScmGame2.iY = 7;
 g_ScmGame2.iFlag = MAN;
 for( i=0; i &lt; ORDEX*ORDEX; ++i )
  *( (int*)qipan + i ) = SPA;
}

void main()
{
 char k;
 do{
  InitGame();
  start();
  printf("还要再来一把吗&#63;输入y或n："); getchar(); scanf("%c",&k);
  while(k!='y'&&k!='n'){ printf("输入错误,请重新输入\n"); scanf("%c",&k); }
  system("cls");
 }while(k=='y');
 printf("谢谢使用!\n");
}
void MakePiece( ScmPiece * pScmPiece, int iGameFlag ){
 if( iGameFlag )
 {
  printf("请下子：");
  while( scanf( "%d%d", &pScmPiece-&gt;iX, &pScmPiece-&gt;iY ) )
  {
   if( ( pScmPiece-&gt;iX &lt; 0 || pScmPiece-&gt;iX &gt; ORDEX-1 ) || ( pScmPiece-&gt;iY &lt; 0 || pScmPiece-&gt;iY &gt; ORDEX-1 ) )
    printf( "坐标错误!请重新输入：");
   else if( qipan[pScmPiece-&gt;iX][pScmPiece-&gt;iY] )
    printf( "该位置已有子!请重新输入：");
   else break;
  }
 }
 qipan[pScmPiece-&gt;iX][pScmPiece-&gt;iY] = pScmPiece-&gt;iFlag;
 --g_iPieceLen;
 system("cls");
 draw();
 if( iGameFlag == 0 )
  printf("电脑下在%d %d\n", pScmPiece-&gt;iX, pScmPiece-&gt;iY );
}
void start()
{
 int choice;
 //ScmPiece ScmGameTemp1, ScmGameTemp2;/* a1 b1储存玩家上手坐标 c1 d1储存电脑上手坐标 */
 printf("\t╔═══════════════════════════════╗\n");
 printf("\t║                ║\n");
 printf("\t║  欢迎使用五子棋对战程序  祝您玩的愉快挑战无极限  ║\n");
 printf("\t║                ║\n");
 printf("\t║     ._______________________.     ║\n"); 
 printf("\t║     | _____________________ |     ║\n");
 printf("\t║     | I     I |     ║\n");
 printf("\t║     | I     I |     ║\n");
 printf("\t║     | I  五 子 棋  I |     ║\n");
 printf("\t║     | I     I |     ║\n");
  printf("\t║     | I___________________I |     ║\n");
 printf("\t║     !_______________________!     ║\n");
  printf("\t║      ._[__________]_.       ║\n");
 printf("\t║     .___|_______________|___.     ║\n");
 printf("\t║     |::: ____    |      ║\n"); 
 printf("\t║     | ~~~~ [CD-ROM] |      ║\n");
 printf("\t║     !_____________________!      ║\n");
 printf("\t║                ║\n");
 printf("\t║                ║\n");
 printf("\t║   寒 星 溪 月 疏 星 首，花 残 二 月 并 白 莲。   ║\n");
 printf("\t║   雨 月 金 星 追 黑 玉，松 丘 新 宵 瑞 山 腥。   ║\n");
 printf("\t║   星 月 长 峡 恒 水 流，白 莲 垂 俏 云 浦 岚。   ║\n");
 printf("\t║   黑 玉 银 月 倚 明 星，斜 月 明 月 堪 称 朋。   ║\n");
 printf("\t║   二 十 六 局 先 弃 二，直 指 游 星 斜 彗 星。   ║\n");
 printf("\t║                ║\n");
 printf("\t║                ║\n");
 printf("\t║   1.人机对战     2.人人对战    ║\n");
 printf("\t║                ║\n");
 printf("\t╚═══════════════════════════════╝\n");
 printf("\t\t\t请输入1或2：");
 while( scanf( "%d", &choice ), choice!=1 && choice!=2 )
  printf( "输入错误，请重新输入：" );
 system("cls"); 
 if( choice == 1 )
 {         /* 人机模式 */
  printf("\t\t\t欢迎使用五子棋人机对战！\n\t\t下子请输入坐标（如13 6）中间以空格分隔。\n\n\n"); 
  draw();
  printf("先下请按1，后下请按2：");
  while( scanf( "%d", &choice ), choice!=1 && choice!=2 )
   printf( "输入错 误，请重新输入：" );
  if( choice == 2 )
   MakePiece( &g_ScmGame2, 0 );
  choice = 1;
 }
 else
 {
  printf("欢迎使用五子棋人人对战！下子请输入坐标(如13 6)。悔棋请输入15 15。 \n\n\n"); 
  draw();
 }
 while( g_iPieceLen )
 {
  MakePiece( &g_ScmGame1, 1 );
  if( Victory( &g_ScmGame1 ) )
  {
   printf("电脑神马的都是浮云!!!\n");
   return;
  } /* 玩家赢 */
  if( choice == 1 )
  {
   AI( &g_ScmGame2.iY, &g_ScmGame2.iX );
   MakePiece( &g_ScmGame2, 0 );
   if( Victory( &g_ScmGame2 ) )
   {    /* 电脑赢 */
    int iChoice;
    printf("要悔棋吗？请输入y或n：");
STARTFLAGE:
    setbuf( stdin, NULL );
    scanf( "%c", &iChoice );
    switch( (char)iChoice ){
    case 'y':
    case 'Y':
     g_iPieceLen += 2;
     qipan[g_ScmGame2.iX][g_ScmGame2.iY] = SPA;
     qipan[g_ScmGame1.iX][g_ScmGame1.iY] = SPA;
     system("cls"); draw();
     break;
    case 'n':
    case 'N':
     printf( "下不过电脑很正常，请不要灰心!!!\n" );
     return;
    default:
     printf("输入错误，请重新输入：");
     goto STARTFLAGE;
    }
   }
  }
  else
  {
   MakePiece( &g_ScmGame2, 1 );
   if( Victory( &g_ScmGame2 ) )
   {
    printf("电脑神马的都是浮云!!!\n");
    return;
   }
  }
 }
 printf("和局\n");
}
void draw() /* 画棋盘 */
{
 int i,j;
 char p[15][15][4];
 for(j=0;j&lt;15;j++)
  for(i=0;i&lt;15;i++){
   if(qipan[j][i]==SPA) strcpy(p[j][i]," \0");
   if(qipan[j][i]==MAN) strcpy(p[j][i],"●\0");
   if(qipan[j][i]==COM) strcpy(p[j][i],"◎\0");
  }
 printf("   0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 \n"); 
 printf("  ┌─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┬─┐\n");
 for(i=0,j=0;i&lt;14;i++,j++){
 printf("  %2d│%s│%s│%s│%s│%s│%s│%s│%s│%s│%s│%s│%s│%s│%s│%s│%d\n",j,p[i][0],p[i][1],p[i][2],p[i][3],p[i][4],p[i][5],p[i][6],p[i][7],p[i][8],p[i][9],p[i][10],p[i][11],p[i][12],p[i][13],p[i][14],j);
 printf("  ├─┼─┼─┼─┼─┼─┼─┼─┼─┼─┼─┼─┼─┼─┼─┤\n");
 }
 printf("  14│%s│%s│%s│%s│%s│%s│%s│%s│%s│%s│%s│%s│%s│%s│%s│0\n",p[14][0],p[14][1],p[14][2],p[14][3],p[14][4],p[14][5],p[14][6],p[14][7],p[14][8],p[14][9],p[14][10],p[14][11],p[14][12],p[14][13],p[14][14]);
 printf("  └─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┘\n");
 printf("   0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 \n");
}
static int DirectionValue( int * piX, int * piY, int iDirection ){
 switch( iDirection ){
 case 0:
  --*piX;
  break;
 case 4:
  ++*piX;
  break;
 case 1:
  --*piY;
  break;
 case 5:
  ++*piY;
  break;
 case 2:
  --*piX; --*piY;
  break;
 case 6:
  ++*piX; ++*piY;
  break;
 case 3:
  --*piX; ++*piY;
  break;
 case 7:
   ++*piX; --*piY;
  break;
 }
 if( (*piX &gt;= 0 && *piX &lt;= ORDEX-1) && (*piY &gt;= 0 && *piY &lt;= ORDEX-1) )
  return 1;
 else return 0;
}
static int SubVictory( ScmPiece * pScmPiece, int iDirection ){
 int iX = pScmPiece-&gt;iX;
 int iY = pScmPiece-&gt;iY;
 int iPieceCount = 1;
 while( DirectionValue( &iX, &iY, iDirection ) && qipan[iX][iY] == pScmPiece-&gt;iFlag )
  ++iPieceCount;
 iX = pScmPiece-&gt;iX;
 iY = pScmPiece-&gt;iY;
 while( DirectionValue( &iX, &iY, iDirection+4 ) && qipan[iX][iY] == pScmPiece-&gt;iFlag )
  ++iPieceCount;
 return iPieceCount;
}
int Victory( ScmPiece * pScmPiece )  /* 判断胜利 p q为判断点坐标，胜利返回1，否则返回0 */
{
 int iDirection = 0;
 while( iDirection &lt; 4 )
  if( SubVictory( pScmPiece, iDirection++ ) &gt;= 5 )
   return 1;
 return 0;
}
void AI(int *p,int *q)   /* 电脑下子 *p *q返回下子坐标 */
{
 int i,j,k,max=0,I,J;  /* I J为下点坐标 */
 for(j=0;j&lt;15;j++)
  for(i=0;i&lt;15;i++)
   if(qipan[j][i]==SPA){  /* 历遍棋盘，遇到空点则计算价值，取最大价值点下子。 */
    k=value(i,j);
    if(k&gt;=max) { I=i; J=j; max=k; }
   }
 *p=I; *q=J;
}
int value(int p,int q) /* 计算空点p q的价值 以k返回 */ 
{
 int n=1,k=0,k1,k2,K1,K2,X1,Y1,Z1,X2,Y2,Z2,temp; 
 int a[2][4][4]={40,400,3000,10000,6,10,600,10000,20,120,200,0,6,10,500,0,30,300,2500,5000,2,8,300,8000,26,160,0,0,4,20,300,0};
   /* 数组a中储存己方和对方共32种棋型的值 己方0对方1 活0冲1空活2空冲3 子数0-3（0表示1个子，3表示4个子） */
 while(n!=5){
  k1=qixing(n,p,q); n+=4;   /* k1,k2为2个反方向的棋型编号 */
  k2=qixing(n,p,q); n-=3;
  if(k1&gt;k2) { temp=k1; k1=k2; k2=temp; } /* 使编号小的为k1,大的为k2 */
  K1=k1; K2=k2;  /* K1 K2储存k1 k2的编号 */
  Z1=k1%10; Z2=k2%10; k1/=10; k2/=10; Y1=k1%10; Y2=k2%10; k1/=10; k2/=10; X1=k1%10; X2=k2%10;
   /* X Y Z分别表示 己方0对方1 活0冲1空活2空冲3 子数0-3（0表示1个子，3表示4个子） */
  if(K1==-1) { if(K2&lt;0) { k+=0; continue; } else k+=a[X2][Y2][Z2]+5; continue; }; /* 空棋型and其他 */
  if(K1==-2) { if(K2&lt;0) { k+=0; continue; } else k+=a[X2][Y2][Z2]/2; continue; };  /* 边界冲棋型and其他 */ 
  if(K1==-3) { if(K2&lt;0) { k+=0; continue; } else k+=a[X2][Y2][Z2]/3; continue; }; /* 边界空冲棋型and其他 */ 
  if(((K1&gt;-1&&K1&lt;4)&&((K2&gt;-1&&K2&lt;4)||(K2&gt;9&&K2&lt;14)))||((K1&gt;99&&K1&lt;104)&&((K2&gt;99&&K2&lt;104)||(K2&gt;109&&K2&lt;114)))){
   /* 己活己活 己活己冲 对活对活 对活对冲 的棋型赋值*/
   if(Z1+Z2&gt;=2) { k+=a[X2][Y2][3]; continue; }
   else { k+=a[X2][Y2][Z1+Z2+1]; continue; }
  }
  if(((K1&gt;9&&K1&lt;14)&&(K2&gt;9&&K2&lt;14))||((K1&gt;109&&K1&lt;114)&&(K2&gt;109&&K2&lt;114))){
   /* 己冲己冲 对冲对冲 的棋型赋值*/
   if(Z1+Z2&gt;=2) { k+=10000; continue; }
   else { k+=0; continue; }
  }
  if(((K1&gt;-1&&K1&lt;4)&&((K2&gt;99&&K2&lt;104)||(K2&gt;109&&K2&lt;114)))||((K1&gt;9&&K1&lt;14)&&((K2&gt;99&&K2&lt;104)||(K2&gt;109&&K2&lt;1 14)))){
   /* 己活对活 己活对冲 己冲对活 己冲对冲 的棋型赋值*/
   if(Z1==3||Z2==3) { k+=10000; continue; }
   else { k+=a[X2][Y2][Z2]+a[X1][Y1][Z1]/4; continue; } 
  }
  else { k+=a[X1][Y1][Z1]+a[X2][Y2][Z2]; continue; } /* 其他棋型的赋值 */
 }
 return k;
}
int qixing(int n,int p,int q)   /* 返回空点p q在n方向上的棋型号 n为1-8方向 从右顺时针开始数 */ 
{
 int k,m=0; /* 棋型号注解: 己活000-003 己冲010-013 对活100-103 对冲110-113 己空活020-023 己空冲030-033 对空活120-123 对空冲130-133 空-1 边界冲-2 边界空冲-3*/
 yiwei(n,&p,&q);
 if(p&lt;0||p&gt;14||q&lt;0||q&gt;14) k=-2;          /* 边界冲棋型 */
 switch(qipan[q][p]){
  case COM:{
     m++; yiwei(n,&p,&q);
     if(p&lt;0||p&gt;14||q&lt;0||q&gt;14) { k=m+9; return k; }
     while(qipan[q][p]==COM) { m++; yiwei(n,&p,&q); if(p&lt;0||p&gt;14||q&lt;0||q&gt;14) { k=m+9; return k; } }
     if(qipan[q][p]==SPA) k=m-1;       /* 己方活棋型 */
      else k=m+9;           /* 己方冲棋型 */
     }break;
  case MAN:{
     m++; yiwei(n,&p,&q);
     if(p&lt;0||p&gt;14||q&lt;0||q&gt;14) { k=m+109; return k; }
     while(qipan[q][p]==MAN) { m++; yiwei(n,&p,&q); if(p&lt;0||p&gt;14||q&lt;0||q&gt;14) { k=m+109; return k; } }
     if(qipan[q][p]==SPA) k=m+99;       /* 对方活棋型 */
     else k=m+109;          /* 对方冲棋型 */
     }break;
  case SPA:{
     yiwei(n,&p,&q);
     if(p&lt;0||p&gt;14||q&lt;0||q&gt;14) { k=-3; return k; }   /* 边界空冲棋型 */
     switch(qipan[q][p]){
     case COM:{
        m++; yiwei(n,&p,&q);
        if(p&lt;0||p&gt;14||q&lt;0||q&gt;14) { k=m+29; return k; }
        while(qipan[q][p]==COM) { m++; yiwei(n,&p,&q); if(p&lt;0||p&gt;14||q&lt;0||q&gt;14) { k=m+29; return k; } }
        if(qipan[q][p]==SPA) k=m+19;      /* 己方空活棋型 */
        else k=m+29;          /* 己方空冲棋型 */
        }break;
     case MAN:{
        m++; yiwei(n,&p,&q);
        if(p&lt;0||p&gt;14||q&lt;0||q&gt;14) { k=m+129; return k; }
        while(qipan[q][p]==MAN) { m++; yiwei(n,&p,&q); if(p&lt;0||p&gt;14||q&lt;0||q&gt;14) { k=m+129; return k; } }   
        if(qipan[q][p]==SPA) k=m+119;      /* 对方空活棋型 */
        else k=m+129;          /* 对方空冲棋型 */ 
        }break;
     case SPA: k=-1; break;           /* 空棋型 */
     }
    }break;
 }
 return k;
}
void yiwei(int n,int *i,int *j)  /* 在n方向上对坐标 i j 移位 n为1-8方向 从右顺时针开始数 */
{
 switch(n){
 case 1: *i+=1; break;
 case 2: *i+=1; *j+=1; break;
 case 3: *j+=1; break;
 case 4: *i-=1; *j+=1; break;
 case 5: *i-=1; break;
 case 6: *i-=1; *j-=1; break;
 case 7: *j-=1; break;
 case 8: *i+=1; *j-=1; break;
 }
}</pre>
</div>
<p></p>
<hr></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/100289.html'>android实现http中请求访问添加cookie的方法</a><a>下一篇</a><a href='/php/biji/100291.html'>苹果MAC用命令行快速创建加密归档文件以便工作使用</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>