<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>iOS中UIScrollerView的用法及基于AotoLayout的控件悬停_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="UIScrollView为了显示多于一个屏幕的内容或者超过你能放在内存中的内容。Scroll View为你处理缩小放大手势，UIScrollView实现了这些手势，并且替你处理对于它们的探测和回应。" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li><li><a href="/php/phpbiji/108382.html"></a></li><li><a href="/php/phpbiji/108384.html"></a></li><li><a href="/php/phpbiji/108383.html"></a></li><li><a href="/php/phpbiji/108385.html"></a></li><li><a href="/php/phpbiji/108386.html"></a></li><li><a href="/php/phpbiji/108388.html"></a></li><li><a href="/php/phpbiji/108387.html"></a></li><li><a href="/php/phpbiji/108389.html"></a></li><li><a href="/php/phpbiji/108391.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">iOS中UIScrollerView的用法及基于AotoLayout的控件悬停</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>UIScrollView为了显示多于一个屏幕的内容或者超过你能放在内存中的内容。Scroll View为你处理缩小放大手势，UIScrollView实现了这些手势，并且替你处理对于它们的探测和回应。</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p>UIScrollView为了显示多于一个屏幕的内容或者超过你能放在内存中的内容。Scroll View为你处理缩小放大手势，UIScrollView实现了这些手势，并且替你处理对于它们的探测和回应。其中需要注意的子类是UITableView以及UITextView（用来显示大量的文字）。还有一个UIWebView，尽管那不是UIScrollView的直接子类，它适用UIScrollView去显示网页内容contentsize是内容的宽和高，contentsize.width是内容的宽度，contentsize.heght是高度，contentsize是UIScrollView的一个属性，它是一个CGSize，是由核心图形所定义的架构，那定义了你可以滚轴内容的宽度和高度，你也可以添加可以上下滚动的额外区域。第一种方法是你可以通过添加内容的大小来完成。另外一个比较动态的选择是UIScrollView的另一个属性contentInset，contentInset增加你在contentsize中指定的内容能够滚动的上下左右区域数量contentInset.top以及contentInset.buttom分别表示上面和下面的距离。<br />
</p>
<p></p>
<p>在滚轴视图中，有一个叫做ContentOffset的属性跟踪UIScrollView的具体位置，你能够自己获取和设置它，ContentOffset是你当前可视内容在滚轴视图边界的左上角那个点。如图：<br />
</p>
<p></p>
<p>可以看出，ContentOffset内容中的那个点不是从contentInset的左上角开始的，而是内容的左上角，此时的ContentOffset是正值，但有时也是负值，如下图所示：<br />
</p>
<p></p>
<p><strong>使用一个ScrollView<br />
</strong>创建一个UIScrollView<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="14558" class="copybut" id="copybut14558" onclick="doCopy('code14558')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code14558"><br />
CGRectframe = CGRectMake( 0, 0, 200, 200);<br />
scrollView= [[UIScrollView alloc] initWithFrame: frame];<br />
</div><br />
添加子视图（框架可以超过scroll view的边界）<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="6272" class="copybut" id="copybut6272" onclick="doCopy('code6272')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code6272"><br />
frame= CGRectMake( 0, 0, 500, 500);<br />
myImageView= [[UIImageView alloc] initWithFrame: frame];<br />
[scrollViewaddSubview:myImageView];<br />
</div><br />
设置内容尺寸<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="84245" class="copybut" id="copybut84245" onclick="doCopy('code84245')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code84245"><br />
scrollView.contentSize= CGSize(500,500);<br />
</div></p>
<p>扩展Scroll View 的行为</p>
<ul>
<li>应用程序通常需要知道有关的滚图的事件</li>
<li>scrolloffset改变的时候</li>
<li>拖动开始和结束</li>
<li>减速的开始和结束</li>
</ul>
<p>通过子类化扩展Scroll View 的行为</p>
<ul>
<li>创建一个子类</li>
<li>重写一些功能并改变行为</li>
<li>关于这种方式的争议</li>
</ul>
<p>应用程序的逻辑和行为变成了视图本身的一部分，就像，你可能有一些定制的滚轴逻辑，，在那你只在意一个视图控制，但你想在不同地方重复使用你的滚轴视图，如果你必须为每个都子类化，你最后会有很多不同的滚轴视图子类以及在视图中的特定应用逻辑。</p>
<p>编写很多子类是很沉闷的事情，你最后会有很多无法重复使用的单独视图，而MVC的视图部分的一个重点是视图是可以在不同的控制器和不同的模式之中重复使用的，如果我们把所有逻辑都放在视图中，它减少了可复用性。</p>
<p>你的代码变得很牢固地配对在一起，它实际上变成了超类的一部分，你无法从UIScrollView中析取它，之后用其它东西代替，如果它在你控制器中且为控制器的一部分，在之后更容易改变它工作的方式和重新安排你应用程序的一些部分。</p>
<p>通过委派来扩展Scroll View 的行为（常用的）<br />
委派是一个单独的对象，协议，定义了委派会实现的一系列功能的Objective-C协议，它创建了一系列很清晰的撤销点，在那里你能定制行为和外观。它在这些对象之间保持了松散的配对，视图本身与视图控制器或任何其它的控制器对象，委派不是滚轴视图的直接子类，它比起牢固配对的子类更加的松散。</p>
<p><strong><br />
理论篇<br />
</strong>在滚动的过程中，实际上就是contentOffset的值在不断变化，当手指触摸后，UIScrollView会暂时拦截触摸事件，使用一个计时器。假如在计时器到点后没有发生手指移动事件，那么UIScrollView发送 tracking events 到被点击的 subview 上面。如果在计时器到点前发生了移动事件，那么UIScrollView取消 tracking 然后自己发生滚动。</p>
<p>可以重载子类<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="23766" class="copybut" id="copybut23766" onclick="doCopy('code23766')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code23766"><br />
- (BOOL)touchesShouldBegin:(NSSet *)touches withEvent:(UIEvent *)event inContentView:(UIView *)view;<br />
</div><br />
决定自己是否接受 touch 事件<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="5203" class="copybut" id="copybut5203" onclick="doCopy('code5203')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code5203"><br />
- (BOOL)touchesShouldCancelInContentView:(UIView *)view;<br />
</div><br />
开始发送 tracking messages 给 subview 的时候调用这个方法，决定是否发送 tracking messages 消息到 subview。<br />
返回NO -&gt; 发送，表示不取消<br />
返回YES -&gt; 不发送，表示会取消</p>
<p></p>
<p><strong>属性篇<br />
</strong><div class="codetitle"><span><a style="CURSOR: pointer" data="87450" class="copybut" id="copybut87450" onclick="doCopy('code87450')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code87450"><br />
@property(nonatomic,readonly,getter=isTracking) BOOL tracking;<br />
</div><br />
当 touch 后还没有拖动的时候值是YES，否则NO<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="14153" class="copybut" id="copybut14153" onclick="doCopy('code14153')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code14153"><br />
@property(nonatomic,readonly,getter=isZoomBouncing) BOOL zoomBouncing;<br />
</div><br />
当内容放大到最大或者最小的时候值是YES，否则NO<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="34043" class="copybut" id="copybut34043" onclick="doCopy('code34043')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code34043"><br />
@property(nonatomic,readonly,getter=isZooming) BOOL zooming;<br />
</div><br />
当正在缩放的时候值是YES，否则NO<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="931" class="copybut" id="copybut931" onclick="doCopy('code931')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code931"><br />
@property(nonatomic,readonly,getter=isDecelerating) BOOL decelerating;<br />
</div><br />
当滚动后，手指放开但是还在继续滚动中。这个时候是YES，其他时候是NO<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="267" class="copybut" id="copybut267" onclick="doCopy('code267')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code267"><br />
@property(nonatomic) CGFloat decelerationRate;<br />
</div><br />
设置手指放开后的减速率<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="75700" class="copybut" id="copybut75700" onclick="doCopy('code75700')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code75700"><br />
@property(nonatomic) CGFloat maximumZoomScale;<br />
</div><br />
表示放大的最大倍数<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="49401" class="copybut" id="copybut49401" onclick="doCopy('code49401')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code49401"><br />
@property(nonatomic) CGFloat minimumZoomScale;<br />
</div><br />
表示缩小的最小倍数<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="1740" class="copybut" id="copybut1740" onclick="doCopy('code1740')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code1740"><br />
@property(nonatomic,getter=isPagingEnabled) BOOL pagingEnabled;<br />
</div><br />
当值为YES的时候，就会产生翻页那种效果<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="44724" class="copybut" id="copybut44724" onclick="doCopy('code44724')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code44724"><br />
@property(nonatomic,getter=isScrollEnabled) BOOL scrollEnabled;<br />
</div><br />
决定是否可以滚动<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="68887" class="copybut" id="copybut68887" onclick="doCopy('code68887')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code68887"><br />
@property(nonatomic) BOOL delaysContentTouches;<br />
</div><br />
当值为YES的时候，用户一旦触碰，然后再一定时间内没有移动，UIScrollView会发送 tracking events，然后用户移动手指足够长度触发滚动事件，这个时候，UIScrollView发送了-(void)touchesCancelled:(NSSet *)touches withEvent:(UIEvent *)event到 subview，然后UIScrollView开始滚动。假如值为NO，UIScrollView发送 tracking events 后，就算用户移动手指，UIScrollView也不会滚动。<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="96399" class="copybut" id="copybut96399" onclick="doCopy('code96399')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code96399"><br />
@property(nonatomic) BOOL showsHorizontalScrollIndicator;<br />
</div><br />
滚动时是否显示水平滚动条<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="60746" class="copybut" id="copybut60746" onclick="doCopy('code60746')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code60746"><br />
@property(nonatomic) BOOL showsVerticalScrollIndicator;<br />
</div><br />
滚动时是否显示垂直滚动条<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="94263" class="copybut" id="copybut94263" onclick="doCopy('code94263')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code94263"><br />
@property(nonatomic) BOOL bounces;<br />
</div><br />
默认是YES，就是滚动超过边界会有反弹回来的效果，如果设置为NO，那么滚动到边界就会立刻停止<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="67155" class="copybut" id="copybut67155" onclick="doCopy('code67155')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code67155"><br />
@property(nonatomic) BOOL bouncesZoom;<br />
</div><br />
这个效果反映在缩放上面，如果缩放超过最大缩放，就会有反弹效果，加入设置为NO，则达到最大或者最小的时候立刻停止<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="75037" class="copybut" id="copybut75037" onclick="doCopy('code75037')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code75037"><br />
@property(nonatomic,getter=isDirectionalLockEnabled) BOOL directionalLockEnabled;<br />
</div><br />
默认是NO，可以在垂直和水平方向同时运动。当值为YES的时候，加入一开始是垂直或者水平运动，那么接下来会锁定另外一个方向的滚动。加入一开始是对角方向滚动，则不会禁止某个方向<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="24834" class="copybut" id="copybut24834" onclick="doCopy('code24834')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code24834"><br />
@property(nonatomic) UIScrollViewIndicatorStyle indicatorStyle;<br />
</div><br />
滚动条的样式，基本只是设置颜色<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="1999" class="copybut" id="copybut1999" onclick="doCopy('code1999')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code1999"><br />
@property(nonatomic) UIEdgeInsets scrollIndicatorInsets;<br />
</div><br />
设置滚动条的位置</p>
<p></p>
<p><strong>方法篇<br />
</strong>直接上代码看<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="97063" class="copybut" id="copybut97063" onclick="doCopy('code97063')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code97063"><br />
#pragma mark UIScrollViewDelegate<br />
//只要滚动了就会触发<br />
- (void)scrollViewDidScroll:(UIScrollView *)scrollView;&nbsp;&nbsp; <br />
{<br />
//&nbsp;&nbsp;&nbsp; NSLog(@" scrollViewDidScroll");<br />
&nbsp;&nbsp;&nbsp; NSLog(@"ContentOffset&nbsp; x is&nbsp; %f,yis %f",scrollView.contentOffset.x,scrollView.contentOffset.y);<br />
}<br />
//开始拖拽视图<br />
- (void)scrollViewWillBeginDragging:(UIScrollView *)scrollView;&nbsp;&nbsp; <br />
{<br />
&nbsp;&nbsp; NSLog(@"scrollViewWillBeginDragging");<br />
}<br />
//完成拖拽<br />
- (void)scrollViewDidEndDragging:(UIScrollView *)scrollView willDecelerate:(BOOL)decelerate; <br />
{<br />
&nbsp;&nbsp; NSLog(@"scrollViewDidEndDragging");<br />
}<br />
//将开始降速时<br />
- (void)scrollViewWillBeginDecelerating:(UIScrollView *)scrollView;&nbsp;&nbsp; <br />
{<br />
&nbsp;&nbsp; NSLog(@"scrollViewWillBeginDecelerating");<br />
}</p>
<p>//减速停止了时执行，手触摸时执行<br />
- (void)scrollViewDidEndDecelerating:(UIScrollView *)scrollView;&nbsp;&nbsp; <br />
{<br />
&nbsp;&nbsp; NSLog(@"scrollViewDidEndDecelerating");<br />
}</p>
<p>//滚动动画停止时执行,代码改变时出发,也就是setContentOffset改变时<br />
- (void)scrollViewDidEndScrollingAnimation:(UIScrollView *)scrollView;<br />
{<br />
&nbsp;&nbsp; NSLog(@"scrollViewDidEndScrollingAnimation");<br />
}</p>
<p>//设置放大缩小的视图，要是uiscrollview的subview<br />
- (UIView *)viewForZoomingInScrollView:(UIScrollView *)scrollView;&nbsp;&nbsp; <br />
{<br />
&nbsp;&nbsp; NSLog(@"viewForZoomingInScrollView");<br />
&nbsp;&nbsp;&nbsp; return viewA;<br />
}</p>
<p>//完成放大缩小时调用<br />
- (void)scrollViewDidEndZooming:(UIScrollView *)scrollView withView:(UIView *)view atScale:(float)scale; <br />
{<br />
&nbsp;&nbsp;&nbsp; viewA.frame=CGRectMake(50,0,100,400);<br />
&nbsp;&nbsp; NSLog(@"scale between minimum and maximum. called after any 'bounce' animations");<br />
}// scale between minimum and maximum. called after any 'bounce' animations</p>
<p>//如果你不是完全滚动到滚轴视图的顶部，你可以轻点状态栏，那个可视的滚轴视图会一直滚动到顶部，那是默认行为，你可以通过该方法返回NO来关闭它<br />
- (BOOL)scrollViewShouldScrollToTop:(UIScrollView *)scrollView;&nbsp;&nbsp; <br />
{<br />
&nbsp;&nbsp;&nbsp; NSLog(@"scrollViewShouldScrollToTop");<br />
&nbsp;&nbsp; returnYES;<br />
}</p>
<p>- (void)scrollViewDidScrollToTop:(UIScrollView *)scrollView;&nbsp;&nbsp;&nbsp;&nbsp; <br />
{<br />
&nbsp;&nbsp;&nbsp; NSLog(@"scrollViewDidScrollToTop");<br />
}</p>
<p>- (BOOL)shouldAutorotateToInterfaceOrientation:(UIInterfaceOrientation)interfaceOrientation<br />
{<br />
&nbsp;&nbsp; // Return YES for supported orientations<br />
&nbsp;&nbsp;&nbsp; return (interfaceOrientation == UIInterfaceOrientationPortrait);<br />
}</p>
<p>@end<br />
</div></p>
<p></p>
<p><strong>基于AotoLayout的控件悬停</strong></p>
<p>在很多的电商类的APP中我们经常会用到一种滑动悬停的效果，所以这次尝试着利用AutoLayout来实现这种效果。话不多说先上图<br />
效果：<br />
</p>
<p></p>
<p></p>
<p>效果上过了，还是理顺下思路上吧。从效果图上不难发现我们的程序是基于UIScrollerView的。界面上的展示同样都是UIScrollView的子控件。当然了难点也就是基于UIScrollerView的内部子控件的布局以及AutoLayout约束的修改。<br />
我们看一下我们的需要的一些基本的控件布局：<br />
</p>
<p></p>
<p></p>
<p>好了，现在开始开始搭建新的项目了,首先在Storyboard上搭建最基本的布局，并将控件基本布局到相应的位置，以备我们更方便的添加约束。<br />
</p>
<p></p>
<p></p>
<p>到了这里就开始对我们的控件添加基本的约束了从上开始吧。上面的控件我们能确定是UIImageView的heigth以及top、left以及rihgt。至于bottom到了后面会着重设置的。<br />
</p>
<p></p>
<p></p>
<p>然后继续来操作悬停的View。这个View因为处在两个view的中间所以我们要暂时确定height以及left和right的约束就足够了了<br />
</p>
<p></p>
<p></p>
<p>终于到最后一个UIImageView了，同样的能确定的是height、right、left以及bottom这四项。<br />
</p>
<p></p>
<p></p>
<p>到了这里针对单个的控件的布局基本完成了，细心的你可能会发现以上的操作都没有进行关联以及没有对width进行约束。那么下面我们就要开始进行三者的关联以及width上的设置。<br />
因为悬停的view处与两个imageView的中间，所以我们只需要对它进行处理就好了<br />
</p>
<p></p>
<p></p>
<p>其实这两个约束完全是可以在设置悬停view的时候的添加，之所以在这里添加是我们在后面的控制器会用到这两个约束，为了好辨认我们就给他们定义上别名：<br />
</p>
<p></p>
<p></p>
<p>然后我们按住command选择我们的三个控件然后按住control拖向scrollView的父控件view设置等width。<br />
</p>
<p></p>
<p></p>
<p>好了，到了这里我们的约束已经不会再报错了，然后在逻辑上也是基本是通顺的了，但是对于我们悬停的功能来说就少了关键的一个环节那么就是一旦悬停view悬停了，那么它与上下两个imageView的约束要怎么处理呢？所以我们还需要一个辅助的约束用来悬停之后的关联处理<br />
</p>
<p></p>
<p></p>
<p>添加之后我们给这个约束起个别名hidden悬停,不过细心的你一定会发现添加之后会sb会提示出有冲突的约束，那么我们只需要对我们刚刚添加的约束进行一下操作就OK了<br />
</p>
<p></p>
<p></p>
<p>好了，到了这里我们在AutoLayout上要做的事情就这些了，下面我们就可以安心的写代码了。<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="85313" class="copybut" id="copybut85313" onclick="doCopy('code85313')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code85313"><br />
@interface ViewController ()/**中间的View*/@property (weak, nonatomic) IBOutlet UIView *centreView;/**上面的ImageView*/@property (weak, nonatomic) IBOutlet UIImageView *topImageView;/**centreView的top约束*/@property (weak, nonatomic) IBOutlet NSLayoutConstraint *topConstraint;/**centreView的bottom约束*/@property (weak, nonatomic) IBOutlet NSLayoutConstraint *bottomConstraint;/**topImageView暂禁用的约束*/@property (weak, nonatomic) IBOutlet NSLayoutConstraint *hiddenConstraint;<br />
@end<br />
</div><br />
然后在scrollView的滑动代理方法中实现<br />
<div class="codetitle"><span><a style="CURSOR: pointer" data="20562" class="copybut" id="copybut20562" onclick="doCopy('code20562')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code20562"><br />
- (void)scrollViewDidScroll:(UIScrollView *)scrollView{<br />
&nbsp;&nbsp;&nbsp; //获得top图片的高度<br />
&nbsp;&nbsp;&nbsp; CGFloat imageH = self.topImageView.frame.size.height;<br />
&nbsp;&nbsp;&nbsp; //获取偏移量<br />
&nbsp;&nbsp;&nbsp; CGFloat offsetY = scrollView.contentOffset.y;<br />
&nbsp;&nbsp;&nbsp; //centrView的frame<br />
&nbsp;&nbsp;&nbsp; CGRect centreFrame = self.centreView.frame;<br />
&nbsp;&nbsp;&nbsp; if (offsetY&gt;=imageH) {<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //将centreView的向上和向下的约束禁用<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; self.bottomConstraint.active = NO;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; self.topConstraint.active = NO;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //将topImageView与bottomImageView的约束使用关联<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; self.hiddenConstraint.active = YES;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //悬停在位置<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; centreFrame.origin.y = 0;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; self.centreView.frame = centreFrame;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //添加在scrollView的父控件<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [self.view addSubview:self.centreView];<br />
&nbsp;&nbsp;&nbsp; }else{<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //添加在topIamgeView的下面<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; centreFrame.origin.y = imageH;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; self.centreView.frame = centreFrame;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; [scrollView addSubview:self.centreView];<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //记住一定要先添加到scrollView上之后在修改约束的内容，不然添加的约束会不成，因为系统无法建立他们之间的联系。<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; self.hiddenConstraint.active = NO;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; self.topConstraint.active = YES;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; self.bottomConstraint.active = YES;</p>
<p>&nbsp;&nbsp;&nbsp; }<br />
&nbsp;&nbsp;&nbsp; //等比例的伸缩<br />
&nbsp;&nbsp;&nbsp; CGFloat scale= 1-(offsetY/60);<br />
&nbsp;&nbsp;&nbsp; scale = (scale&gt;=1)&#63;scale :1;<br />
&nbsp;&nbsp;&nbsp; self.topImageView.transform = CGAffineTransformMakeScale(scale, scale);</p>
<p>}<br />
</div><br />
最后补充：<br />
&#61623;<br />
在子控件的尺寸不能通过UIScrollView来计算，可以通过以下方式计算&#61623;</p>
<ul>
<li>设置固定值（width==100，height==300）</li>
<li>相对于UIScrollView以外的其他控件来计算尺寸</li>
</ul>
<p>在UIScrollView里面布局子控件，sb里面默认是是需要子控件的尺寸以及子控件与UIScrollView之间的间距来计算出scroller的conentSize的。所以这就是上面的子控件要与父控件来等宽的原因了。<br />
UIScrollView的frame应该通过子控件以外的其他控件来计算。<br />
</p>
<hr></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/85552.html'>基于NodeJS的前后端分离的思考与实践（三）轻量级的接口配置建模框架</a><a>下一篇</a><a href='/php/biji/85554.html'>Linux Apache PHP Oracle 安装配置(具体操作步骤)</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>