<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>深入解析HTML5使用SVG图像时的viewBox属性用法_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="快速了解viewBox的参数<br />
viewBox属性是用于指定用户SVG图像的坐标系统的原点以及尺寸的。所有在SVG内绘制的内容都是相对于这个坐标系统完成的。因为SVG画布在所有方向都是无" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li><li><a href="/php/phpbiji/108382.html"></a></li><li><a href="/php/phpbiji/108384.html"></a></li><li><a href="/php/phpbiji/108383.html"></a></li><li><a href="/php/phpbiji/108385.html"></a></li><li><a href="/php/phpbiji/108386.html"></a></li><li><a href="/php/phpbiji/108388.html"></a></li><li><a href="/php/phpbiji/108387.html"></a></li><li><a href="/php/phpbiji/108389.html"></a></li><li><a href="/php/phpbiji/108391.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">深入解析HTML5使用SVG图像时的viewBox属性用法</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>快速了解viewBox的参数<br />
viewBox属性是用于指定用户SVG图像的坐标系统的原点以及尺寸的。所有在SVG内绘制的内容都是相对于这个坐标系统完成的。因为SVG画布在所有方向都是无</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p><strong>快速了解viewBox的参数</strong></p>
<p>viewBox属性是用于指定用户SVG图像的坐标系统的原点以及尺寸的。所有在SVG内绘制的内容都是相对于这个坐标系统完成的。因为SVG画布在所有方向都是无限延长的，你甚至可以在这个坐标系统的边界之外的地方绘制图形；但是这些相对于SVG视窗定位的图形，也可以由用户坐标系的位置来控制。</p>
<p>viewBox属性使用四个参数来指定坐标系原点的位置以及它的尺寸：x y width height。初始情况下，这个坐标系等同于初始化的视窗坐标系（由SVG图像的width和height确定），而且它的原点是在(0, 0)&mdash;&mdash;即SVG的左上角。</p>
<p>通过改变x和y这两个参数的值，可以调整原点的位置。改变width和height的值，可以改变坐标系统的尺寸。只使用viewBox属性，就可以帮你扩展或裁剪SVG画布。跟着示例一起阅读。</p>
<p>重要提示：在本文章中，我不会改变viewBox在SVG视窗内的默认行为（比例和位置）。因为，根据属性的默认行为，viewBox的内容会被尽可能地完全包含在视窗内，然后放置在中心位置。不过，使用preserveAspectratio属性可以让你自由地改变viewBox的尺寸和位置，但是在这篇文章中，这不是必需的技术，所以我们也不会在这里深入讲解。<br />使用viewBox裁剪SVG，即使用viewBox属性制作Art Direction的SVG</p>
<p>前阵子，我的一个客户要求把他网站的SVG头像按照不同的屏幕尺寸设置成不同的大小，从而使得它只有一小部分是在小屏幕上可见的，在中等的屏幕尺寸上可以看到再大一点的部分，然后在大屏幕上可以看到完整的内容。当时我脑子里首先出现的想法就是，他的要求其实是使用viewBox属性来裁剪SVG图像，然后根据不同的屏幕尺寸，显示他想要看到的图像的某部分。</p>
<p>通过改变SVG坐标系统的尺寸和原点位置，我们可以把SVG进行裁剪，并显示我们希望在视窗中显示的那部分内容。</p>
<p>我们来看看如何实现。</p>
<p>假设我们有如下这张完整的SVG图像，然后我们想要把它裁剪成小屏幕的尺寸。这张图是Freepik设计的可免费使用的房屋矢量图，该图片有Creative Commons Attribution 3.0 Unported协议的许可授权。为了简单起见，我们先假设图像只是要被裁剪成在中小屏幕上显示的内容，以及大屏幕上显示的完整的内容，如下所示。<br /></p>
<p>左边的图的是我们将要使用viewBox属性裁剪的完整的图片，右边的图是我们希望在小屏幕上显示的区域。</p>
<p>现在，通过改变viewBox属性的值来裁剪SVG。有一些需要考虑的内容，我们等下会讲到。但是首先，我们要改变坐标系统，让它匹配上面的图片中虚框矩形区域的内容。，通过调整系统的原点以及width和height的值，我们可以改变它初始的0 0 800 800参数值。</p>
<p>但是我们要如何获知新坐标和新尺寸呢？重点是不要经过大量重复的实验和错误。</p>
<p>有几种方式。因为我们已经在图形编辑器中（我的示例使用的是AI），我们可以使用编辑器的面板来获取元素的位置和尺寸。</p>
<p>我画这个虚线的矩形框，除了用来表示我想要在小屏幕上显示的内容，还有一个原因就是：我们可以获取这个矩形的位置和尺寸，然后把它们作为viewBox的值来使用。使用AI的变换面板（如下图），我们获取了我们需要的这些值。通过选择矩形，并点击右上角的变换链接，我们得到了如下图所示的面板，包括我们所需要的x, y, width和height值。<br /></p>
<p>这个AI中的变换面板可以用来获取选中矩形的位置和尺寸的值</p>
<p>你可能注意到了，上面的值并不是整数，所以我们需要手动修改。根据上面的信息，我们把viewBox的值改成 0 200 512 512。</p>
<p>因为新的viewBox的宽高比和SVG视窗的宽高比是一样的（都是正方形），viewBox内的内容将会扩大，并且只有被选中的区域会在视窗中显示。改变viewBox的值之后，结果如图：<br /></p>
<p>新裁剪的SVG。只有我们指定使用viewBox属性的位置在视窗中是可见的。蓝色边框表示SVG的视窗。</p>
<p>在这一点上，有一个问题需要解决：</p>
<p>如果被裁剪区域（即viewBox）的宽高比 != SVG视窗的宽高比？</p>
<p>在这种情况下，将会有明显的溢出。明显的溢出，我指的不是超出SVG视窗边界的延伸，而是viewBox定义的相对于新用户坐标系统的溢出。下图作了相应的说明。<br /></p>
<p></p>
<p>如果viewBox的宽高比和视窗的宽高比不同，SVG中的内容会溢出用户坐标系统，结果可能会是这样。</p>
<p>黑色边框代表新的用户坐标系，蓝色边框是SVG视窗。</p>
<p>上边右图中的黑色边框是viewBox定义的区域。根据viewBox在视窗内的默认行为，它会被居中并尽可能放大，来保证自身内容尽可能地包含在视窗（蓝色边框）中。</p>
<p>因为SVG画布从概念上来说，在所有方向都是无限延伸的，你可以在用户坐标系统边界之外绘制图形，内容会直接溢出移动，如上图所示。</p>
<p>如果你改变了SVG视窗的宽高比（SVG的width和height），来让它们适应viewBox的宽高比，你就不会看到溢出了，因为viewBox的缩放是适应视窗的，和前面的示例一样。</p>
<p>但是，在某些情况下，你可能不能或根本不想改变SVG的宽高比。比如说，如果你是使用SVG sprite作为一组图像来显示页面上图片的。在大多数情况下，图像都有一个固定的宽高比&mdash;&mdash;而且你并不想改变改变图像的尺寸，就为了适应它里面的某一张小图的内容。或者可能你嵌入了一个图标系统，并希望所有的图标在同一个时间都保持相同的尺寸。</p>
<p>为了剪掉多余的东西（比如说，sprite上的部分其它图标，在视窗中显示），你可以使用&lt;clipPath&gt;来把多余的部分裁剪掉。裁剪路径可以是一个覆盖了整个viewBox区域的&lt;rect&gt;元素，然后将该元素应用到root SVG。</p>
<p>但是，还有一点要记住：确保&lt;rect&gt;的x和y属性和viewBox的保持一致，除非rect将被相对定位于原来的/初始化的系统的原点，那么SVG最终被裁剪的内容也是不确定的。</p>
<div class="codeText">
<div class="codeHead"><span class="lantxt">CSS Code</span><span style="CURSOR: pointer" class="copyCodeText" onclick="copyIdText('code_1393')">复制内容到剪贴板</span></div>
<div id="code_1393">
<ol class="dp-css">
<li class="alt"><span><span>&lt;svg&nbsp;xmlns=</span><span class="string">&quot;http://w3.org/2000/svg&quot;</span><span>&nbsp;viewBox=</span><span class="string">&quot;vx&nbsp;vy&nbsp;width&nbsp;height&quot;</span><span>&nbsp;</span><span class="keyword">clip</span><span>-path=</span><span class="string">&quot;url(#clipper)&quot;</span><span>&nbsp;</span><span class="keyword">width</span><span>=</span><span class="string">&quot;..&quot;</span><span>&nbsp;</span><span class="keyword">height</span><span>=</span><span class="string">&quot;..&quot;</span><span>&gt; &nbsp;&nbsp;</span></span> </li>
<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;SVG&nbsp;</span><span class="keyword">content</span><span>&nbsp;here&nbsp;--&gt; &nbsp;&nbsp;</span> </li>
<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;clipPath&nbsp;id=</span><span class="string">&quot;clipper&quot;</span><span>&gt; &nbsp;&nbsp;</span> </li>
<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;rect&nbsp;x=</span><span class="string">&quot;vx&quot;</span><span>&nbsp;y=</span><span class="string">&quot;vy&quot;</span><span>&nbsp;</span><span class="keyword">width</span><span>=</span><span class="string">&quot;100%&quot;</span><span>&nbsp;</span><span class="keyword">height</span><span>=</span><span class="string">&quot;100%&quot;</span><span>&gt;&lt;/rect&gt; &nbsp;&nbsp;</span> </li>
<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/clipPath&gt; &nbsp;&nbsp;</span> </li>
<li><span>&lt;/svg&gt;&nbsp;&nbsp;</span> </li>
</ol>
</div>
</div>
<p>当然，裁剪多余的部分也就意味着你仍然在使用不同的宽高比，还是需要解决内容两边多出的空白。如果SVG是一个连续的场景，像我们前面的那个例子，那就没必要了，因为你还需要调整视窗的宽高比。如果SVG是一组图标，并且你只是在不同的视窗中使用一次，这可能就不是问题了。</p>
<p>这里有一点重要的东西要记住，viewBox的宽高比最好还是和视窗的宽高比保持一致；另外，你需要设置固定来避免SVG中任何不确定的多余的空白出现。</p>
<p>所以，viewBox可以用来裁剪SVG，并根据需要只展示SVG的某部分内容。但是它要如何应用于实例呢？</p>
<p><strong>在响应式设计中的Art Directing SVG</strong></p>
<p>这部分没有什么需要补充的内容，除了实际过程的代码。所以，假设你有如上所示的SVG，并且想要把它作为头像，比如说，在中小尺寸的屏幕上你只想显示裁剪下来的那部分内容，然后在大屏幕上显示完整的头像。</p>
<p>改变SVG视窗的width和height值，我们可以使用CSS。但是改变viewBox的值，目前我们需要使用JavaScript。</p>
<p>并非所有的SVG属性，CSS属性都可以等同使用；只有一组具有和CSS属性相同效果的属性才可以在CSS中设置。你可以在这个表格中查看这组可以作为CSS属性的SVG属性的概述。在SVG2中，很多属性（如x, y, cx, cy, r等等）都可以被添加到这个列表中；但是这些都是我们现在可以使用的属性。</p>
<p>为了展示SVG的不同部分，需要基于不同媒体查询改变viewBox的值，你可以使用Modernizr，查找媒体查询条件，然后在JavaScript中对应更改viewBox的值。示例如下：</p>
<div class="codeText">
<div class="codeHead"><span class="lantxt">CSS Code</span><span style="CURSOR: pointer" class="copyCodeText" onclick="copyIdText('code_5201')">复制内容到剪贴板</span></div>
<div id="code_5201">
<ol class="dp-css">
<li class="alt"><span><span>//&nbsp;获取root&nbsp;&lt;svg&gt;的引用 &nbsp;&nbsp;</span></span> </li>
<li><span>var&nbsp;svgRoot&nbsp;=&nbsp;...;&nbsp;//&nbsp;取决于你如何嵌入并引用SVG &nbsp;&nbsp;</span> </li>
<li class="alt"><span>//&nbsp;定义viewBox的参数值 &nbsp;&nbsp;</span> </li>
<li><span>var&nbsp;vbValue&nbsp;=&nbsp;</span><span class="string">'0&nbsp;200&nbsp;512&nbsp;512'</span><span>; &nbsp;&nbsp;</span> </li>
<li class="alt"><span>//&nbsp;使用Modernizr的媒体查询检索来改变viewBox的值 &nbsp;&nbsp;</span> </li>
<li><span>if&nbsp;(Modernizr.mq(</span><span class="string">'(max-width:&nbsp;700px)'</span><span>))&nbsp;{ &nbsp;&nbsp;</span> </li>
<li class="alt"><span>&nbsp;&nbsp;&nbsp;svgRoot.setAttribute(</span><span class="string">'viewBox'</span><span>,&nbsp;vbValue); &nbsp;&nbsp;</span> </li>
<li><span>} &nbsp;&nbsp;</span> </li>
<li class="alt"><span>//&nbsp;其它的尺寸情况&nbsp;&nbsp;</span> </li>
</ol>
</div>
</div>
<p>这是可以运行的，但是如果我们可以使用CSS来完成这个效果岂不更赞？</p>
<p><strong>使用CSS的viewBox属性来裁剪SVG</strong></p>
<p>免责声明：在写这篇文章的时候，并没有CSSviewBox属性。这只是一个用来解释为什么这个属性有用，以及我想象的它如何被使用的示例。</p>
<p>理想情况下，我们可以这样使用它：</p>
<div class="codeText">
<div class="codeHead"><span class="lantxt">CSS Code</span><span style="CURSOR: pointer" class="copyCodeText" onclick="copyIdText('code_7918')">复制内容到剪贴板</span></div>
<div id="code_7918">
<ol class="dp-css">
<li class="alt"><span><span>&lt;style&gt; &nbsp;&nbsp;</span></span> </li>
<li><span>&nbsp;&nbsp;</span> </li>
<li class="alt"><span>@media&nbsp;</span><span class="string">screen</span><span>&nbsp;and&nbsp;(</span><span class="keyword">max-width</span><span>:&nbsp;</span><span class="string">700px</span><span>)&nbsp;{ &nbsp;&nbsp;</span> </li>
<li><span>&nbsp;&nbsp;&nbsp;&nbsp;svg&nbsp;{&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;</span> </li>
<li class="alt"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;viewBox:&nbsp;0&nbsp;200&nbsp;512&nbsp;512;&nbsp; &nbsp;&nbsp;</span> </li>
<li><span>&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp; &nbsp;&nbsp;</span> </li>
<li class="alt"><span>} &nbsp;&nbsp;</span> </li>
<li><span>&nbsp;&nbsp;</span> </li>
<li class="alt"><span></span><span class="comment">/*&nbsp;etc.&nbsp;*/</span><span>&nbsp;&nbsp;</span> </li>
<li><span>&nbsp;&nbsp;</span> </li>
<li class="alt"><span>&lt;/style&gt;&nbsp;&nbsp;</span> </li>
</ol>
</div>
</div>
<p>这些样式会被放进（或取出）SVG中，然后SVG将会根据视窗的尺寸调整其viewBox值。让它成为页面视窗（内联&lt;svg&gt;)的情况），或是通过其它任何引用SVG的元素的尺寸确定的视窗（这可以给我们一些近乎相同的元素查询）。</p>
<p>不过，这在目前是不可能实现的，因为CSS中还没有viewBox属性。</p>
<p>前阵子，我就这个问题询问了一个SVG规范的编辑，他说我可以根据实际使用情况和实例，向SVGWG提建议。后来在Twitter上进行了一些讨论，我才发现在几年前已经有一个相似的SVGWG proposal thread。当初的提议今天仍然存在，所以我希望，能够通过一些实际使用示例，推进这个提议，并在不久的将来可以实现。如果你也想要在CSS中看到viewBox属性，请帮助实现这一目标,推动这个提议的转发和评论。</p>
<p>当使用viewBox完成SVG Art-Direction的时候，需要记住的东西</p>
<p>在做我的客户的项目的时候，我花了一分钟不到的时间来按照对方的要求对头像进行art-direct。但是，这最终分出了三个独立的SVG，而不是不同屏幕尺寸上的相同SVG不同viewBox。</p>
<p>我们选择三个SVG的原因是，完整SVG的尺寸太大，在移动端达到了100kb以上的大小。最初的SVG是200kb左右的，我可以通过优化SVG来把文件压缩到接近一半的大小，但是对于移动设备来说，图片还是太大了，所以最后我们只能使用三张不同大小的图像。art-directing SVG的时候，需要记住的就是：性能问题。如果你的SVG太大了，不要使用viewBox来art-direct。</p>
<p>现在，如果你选择使用三个不同的SVG图像，也有多种可能的方式可以完成&mdash;&mdash;这取决于你嵌入SVG的方法，也取决于你想要完成什么、不想完成什么。</p>
<p>使用&lt;picture&gt;元素来完成不同SVG图像是最理想的方式。它不仅能够根据浏览器为我们提供不同的可供选择的SVG，而且还不需要使用JavaScript，还可以让我们对不支持它的浏览器（IE8及以下）提供多种优化的降级图像。&lt;picture&gt;对于使用SVG是非常有用的，你可以在这篇文章中阅读所有SVG fallback的内容。</p>
<p>但是如前面所说，如果你想要有动画或交互效果的SVG，&lt;picture&gt;不是最佳选择。就像使用&lt;img&gt;嵌入SVG，SVG不能被添加样式和动画，除非样式和动画是在&lt;svg&gt;文件中定义的，SVG不能添加脚本（出于安全考虑），也不能有任何交互（CSS或JS）&mdash;&mdash;比如说，悬停，不会有交互效果。</p>
<p>所以，我总是说：SVG为我们提供了很多选项，可以让我们完成几乎所有的事情；你需要做一个权衡、要主次分明、有时甚至需要作出妥协，基于此作出最佳的选择。但是对于性能，永不妥协才有利于发展！</p>
<p>在我们结束之前，因为我们提到了使用viewBox属性改变SVG画布尺寸的问题，我们来看看另一个例子，我们可以借助这个属性来帮我们在处理SVG时节省一些时间和精力。</p>
<p><strong>使用viewBox扩展SVG画布</strong></p>
<p>正如viewBox属性可以用于缩放SVG，它也可以用来扩展SVG画布。</p>
<p>几周前我创建了一个可以生成SVG圆形菜单的工具。我创建了几个例子来演示如何使用JavaScript让生成的菜单动起来。demo使用&lt;object&gt;元素嵌入到应用程序页面上。&lt;object&gt;的边界定义了SVG视窗的边界，任何在这些边界之外的内容都是溢出，而且默认隐藏。</p>
<p>需要注意的是&ldquo;边界之外&rdquo;指的是在SVG中的内容，它还是在无穷大的SVG画布上的，但是超过了由视窗定义的无穷大的矩形</p>
<p>译者注：关于SVG画布、视窗的内容可阅读w3cplus上的相关文章。<br />创建的菜单，SVG的尺寸是恰好可以将菜单包含进去，而没有再大一些。避免了菜单周围任何多余的空白。</p>
<p>我给某个菜单应用了一个弹跳动画，作为菜单动画的示例。这个弹跳效果&ldquo;拉长了&rdquo;各菜单项，也导致了菜单项在它们弹跳的时候会单独切出来（即溢出）。<br /></p>
<p>起初，由于SVG视窗是由&lt;object&gt;元素定义的，所以视窗和菜单本身是一样大的，菜单项上的弹跳效果导致了这些菜单项在弹跳的时候溢出。</p>
<p>这些可爱的弹跳动画应用于那些使用弹跳时间函数从0开始放大到100%的项目（即该项目最初是不可见的，缩小状态），这个效果就是如果项目弹跳到超过了100%的大小，那就把它缩回到100%。这个效果会导致项目在弹跳超过SVG边界的时候溢出。</p>
<p>下图展示了缩放菜单项在放大到超过&lt;object&gt;的边界（灰色边框）的时候的效果，其中，&lt;object&gt;用于嵌入这个缩放菜单项。<br /></p>
<p>上方的示意图展示了菜单项放大到溢出SVG视窗边界时的效果。灰色边框表示SVG视窗的边框（即&lt;object&gt;元素）。</p>
<p>给&lt;object&gt;设置overflow: visible也不能解决问题，因为&lt;object&gt;和&lt;iframe&gt;实际上是相似的。我们需要做的是扩展&lt;object&gt;创建的视窗内的SVG画布，使得缩放的项目有足够的&ldquo;反弹&rdquo;空间，而不会超过它的边界。我们可以使用viewBox属性来完成它。</p>
<p>为了延长SVG画布，只需简单增加它的尺寸。因此，我们使用的是700 x 500px的尺寸，而不是500 x 250这个SVG菜单的原始尺寸。这还会让画布在视窗中显示的高度增加100px，而视窗中的画布宽度会增加200px。我根据这些菜单项在弹跳效果需要放大的空间来确定这些值。根据您的SVG以及您要完成的具体内容，这些值并不要求一致。</p>
<p>现在，为了确保菜单是放置在视窗的中心的，我们需要把坐标系统的位置往负方向分别移动100px（即向上和向左）。把这个移动应用到坐标系统的原点上，和把一个平移转换应用到系统中的菜单上是一样的。结果是菜单会在视窗中保持居中。<br /></p>
<p>在该图中，蓝色边框表示SVG视窗边界（即&lt;object&gt;元素），灰色边框表示用户坐标系统的初始尺寸。蓝色数字和箭头表示视窗中的坐标系统的扩展。</p>
<p>在延长用户坐标系统尺寸的同时，你也增加了画布在视窗中可见区域的面积。这样做的结果是画布的内容会显得略小&mdash;&mdash;这根据你把画布放大了多少而定。但是对于菜单来说，这样的结果是可以接受的。</p>
<p>下面的屏幕记录显示了扩展SVG画布的结果，以及在SVG边界内的菜单动画效果。<br /></p>
<p>一旦SVG画布被扩展，菜单项就有足够的空间来进行缩放，在应用弹跳效果的时候也不会再因为溢出被剪切。</p>
<p>通过改变viewBox属性的四个参数值来延伸SVG画布，这样所有问题以及菜单项被剪切的问题都可以解决。viewBox确实非常棒~~</p>
<p><strong>结束语</strong></p>
<p>viewBox属性非常棒，它就是一个SVG的加强版工具。通过使用这个属性，在使用SVG进行工作时就可以节省很多时间，无需借助图形编辑器即可快速解决SVG的问题。总而言之，这对于编辑SVG真的方便了很多。</p>
<p>我强烈建议你全面学习一下这个属性，然后让它在你的工作中发光发热。如果你想要使用它来做art-direct SVG，不要忘了性能才是重点。<br /></p>
<hr></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/90191.html'>采用header定义为文件然后readfile下载(隐藏下载地址)</a><a>下一篇</a><a href='/php/biji/90193.html'>C#调用dos窗口获取相关信息的方法</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>