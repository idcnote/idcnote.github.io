<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>JavaScript程序员应该知道的45个实用技巧_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="如你所知，JavaScript是世界上第一的编程语言，它是Web的语言，是移动混合应用（mobile hybrid apps）的语言（比如PhoneGap或者Appcelerator），是服务器端的语言（比如NodeJS或者Wakanda），并且" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li><li><a href="/php/phpbiji/108382.html"></a></li><li><a href="/php/phpbiji/108384.html"></a></li><li><a href="/php/phpbiji/108383.html"></a></li><li><a href="/php/phpbiji/108385.html"></a></li><li><a href="/php/phpbiji/108386.html"></a></li><li><a href="/php/phpbiji/108388.html"></a></li><li><a href="/php/phpbiji/108387.html"></a></li><li><a href="/php/phpbiji/108389.html"></a></li><li><a href="/php/phpbiji/108391.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">JavaScript程序员应该知道的45个实用技巧</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>如你所知，JavaScript是世界上第一的编程语言，它是Web的语言，是移动混合应用（mobile hybrid apps）的语言（比如PhoneGap或者Appcelerator），是服务器端的语言（比如NodeJS或者Wakanda），并且</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><P>如你所知，JavaScript是世界上第一的编程语言，它是Web的语言，是移动混合应用（mobile hybrid apps）的语言（比如PhoneGap或者Appcelerator），是服务器端的语言（比如NodeJS或者Wakanda），并且拥有很多其他的实现。同时它也是很多新手的启蒙语言，因为它不但可以在浏览器上显示一个简单的alert信息，而且还可以用来控制一个机器人（使用nodebot，或者nodruino）。掌握JavaScript并且能够写出组织规范并性能高效的代码的开发人员，已经成为人才市场上的猎寻对象。<BR>需要注意的是，这篇文章中的代码片段都在最新的Google Chrome（版本号30）上测试过，它使用V8 JavaScript引擎（V8 3.20.17.15）。</P>
<P><STRONG>1 – 在第一次给一个变量赋值的时候不要忘记使用var关键字</STRONG><BR>给一个未定义的变量赋值会导致创建一个全局变量。要避免全局变量。<BR><STRONG>2 – 使用===，而不是＝＝</STRONG><BR>==（或!=）操作符在需要的时候会自动执行类型转换。===（或!==）操作不会执行任何转换。它将比较值和类型，而且在速度上也被认为优于==。<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="3396" class="copybut" id="copybut3396" onclick="doCopy('code3396')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code3396"><BR>[10] === 10&nbsp;&nbsp;&nbsp; // is false<BR>[10]&nbsp; == 10&nbsp;&nbsp;&nbsp; // is true<BR>'10' == 10&nbsp;&nbsp;&nbsp;&nbsp; // is true<BR>'10' === 10&nbsp;&nbsp;&nbsp; // is false<BR>&nbsp;[]&nbsp;&nbsp; == 0&nbsp;&nbsp;&nbsp;&nbsp; // is true<BR>&nbsp;[] ===&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; // is false<BR>&nbsp;'' == false&nbsp;&nbsp; // is true but true == "a" is false<BR>&nbsp;'' ===&nbsp;&nbsp; false // is false<BR></div><BR><STRONG>3 – 使用闭包实现私有变量</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="95110" class="copybut" id="copybut95110" onclick="doCopy('code95110')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code95110"><BR>function Person(name, age) {<BR>&nbsp;&nbsp;&nbsp; this.getName = function() { return name; };<BR>&nbsp;&nbsp;&nbsp; this.setName = function(newName) { name = newName; };<BR>&nbsp;&nbsp;&nbsp; this.getAge = function() { return age; };<BR>&nbsp;&nbsp;&nbsp; this.setAge = function(newAge) { age = newAge; };<br><br>&nbsp;&nbsp;&nbsp; //未在构造函数中初始化的属性<BR>&nbsp;&nbsp;&nbsp; var occupation;<BR>&nbsp;&nbsp;&nbsp; this.getOccupation = function() { return occupation; };<BR>&nbsp;&nbsp;&nbsp; this.setOccupation = function(newOcc) { occupation = <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; newOcc; };<BR>}<BR></div><BR><STRONG>4 – 在语句结尾处使用分号</STRONG><BR>在语句结尾处使用分号是一个很好的实践。如果你忘记写了你也不会被警告，因为多数情况下JavaScript解释器会帮你加上分号。<BR>5 – 创建对象的构造函数<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="73084" class="copybut" id="copybut73084" onclick="doCopy('code73084')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code73084">function Person(firstName, lastName){<BR>&nbsp;&nbsp;&nbsp; this.firstName =&nbsp; firstName;<BR>&nbsp;&nbsp;&nbsp; this.lastName = lastName;<BR>}<br><br>var Saad = new Person("Saad", "Mousliki");</div><BR><STRONG>6 – 小心使用typeof、instanceof和constructor</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="12604" class="copybut" id="copybut12604" onclick="doCopy('code12604')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code12604">var arr = ["a", "b", "c"];<BR>typeof arr;&nbsp;&nbsp; // return "object"<BR>arr&nbsp; instanceof Array // true<BR>arr.constructor();&nbsp; //[]</div><BR><STRONG>7 – 创建一个自调用函数（Self-calling Funtion）</STRONG><BR>这个经常被称为自调用匿名函数（Self-Invoked Anonymous Function）或者即时调用函数表达式（IIFE-Immediately Invoked Function Expression)。这是一个在创建后立即自动执行的函数，通常如下：<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="94042" class="copybut" id="copybut94042" onclick="doCopy('code94042')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code94042"><BR>(function(){<BR>&nbsp;&nbsp;&nbsp; // some private code that will be executed automatically<BR>})();<BR>(function(a,b){<BR>&nbsp;&nbsp;&nbsp; var result = a+b;<BR>&nbsp;&nbsp;&nbsp; return result;<BR>})(10,20)<BR></div><BR><STRONG>8- 从数组中获取一个随机项</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="76288" class="copybut" id="copybut76288" onclick="doCopy('code76288')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code76288">var items = [12, 548 , 'a' , 2 , 5478 , 'foo' , 8852, , 'Doe' , 2145 , 119];<br><br>var&nbsp; randomItem = items[Math.floor(Math.random() * items.length)];[code]<BR><STRONG>9 – 在特定范围内获取一个随机数</STRONG><BR>这个代码片段在你想要生成测试数据的时候非常有用，比如一个在最小最大值之间的一个随机薪水值。<BR>[code]var x = Math.floor(Math.random() * (max - min + 1)) + min;</div><BR><STRONG>10 – 在0和设定的最大值之间生成一个数字数组</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="2991" class="copybut" id="copybut2991" onclick="doCopy('code2991')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code2991">var numbersArray = [] , max = 100;<br><br>for( var i=1; numbersArray.push(i++) &lt; max;);&nbsp; // numbers = [0,1,2,3 ... 100]</div><BR><STRONG>11 – 生成一个随机的数字字母字符串</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="22881" class="copybut" id="copybut22881" onclick="doCopy('code22881')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code22881">function generateRandomAlphaNum(len) {<BR>&nbsp;&nbsp;&nbsp; var rdmstring = "";<BR>&nbsp;&nbsp;&nbsp; for( ; rdmString.length &lt; len; rdmString&nbsp; += Math.random().toString(36).substr(2));<BR>&nbsp;&nbsp;&nbsp; return&nbsp; rdmString.substr(0, len);<BR>}</div><BR><STRONG>12 – 打乱一个数字数组</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="89769" class="copybut" id="copybut89769" onclick="doCopy('code89769')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code89769">var numbers = [5, 458 , 120 , -215 , 228 , 400 , 122205, -85411];<BR>numbers = numbers.sort(function(){ return Math.random() - 0.5});<BR>/* the array numbers will be equal for example to [120, 5, 228, -215, 400, 458, -85411, 122205]&nbsp; */</div><BR><STRONG>13 – String的trim函数<BR></STRONG>在Java、C#、PHP和很多其他语言中都有一个经典的 trim 函数，用来去除字符串中的空格符，而在JavaScript中并没有，所以我们需要在String对象上加上这个函数。<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="89105" class="copybut" id="copybut89105" onclick="doCopy('code89105')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code89105"><BR>String.prototype.trim = function(){return this.replace(/^\s+|\s+$/g, "");};//去掉字符串的前后空格，不包括字符串内部空格</div><BR><STRONG>14 – 附加（append）一个数组到另一个数组上<BR></STRONG><div class="codetitle"><span><a style="CURSOR: pointer" data="64538" class="copybut" id="copybut64538" onclick="doCopy('code64538')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code64538">var array1 = [12 , "foo" , {name: "Joe"} , -2458];<br><br>var array2 = ["Doe" , 555 , 100];<BR>Array.prototype.push.apply(array1, array2);<BR>/* array1 will be equal to&nbsp; [12 , "foo" , {name "Joe"} , -2458 , "Doe" , 555 , 100] */<BR>//其实concat可以直接实现两个数组的连接，但是它的返回值是一个新的数组。这里是直接改变array1</div></P>
<P><STRONG>15 – 将arguments对象转换成一个数组</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="38240" class="copybut" id="copybut38240" onclick="doCopy('code38240')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code38240">var argArray = Array.prototype.slice.call(arguments);<BR>arguments对象是一个类数组对象，但不是一个真正的数组</div><BR><STRONG>16 – 验证参数是否是数字（number）</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="90578" class="copybut" id="copybut90578" onclick="doCopy('code90578')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code90578">function isNumber(n){<BR>&nbsp;&nbsp;&nbsp; return !isNaN(parseFloat(n)) && isFinite(n);<BR>}</div><BR><STRONG>17 – 验证参数是否是数组</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="33563" class="copybut" id="copybut33563" onclick="doCopy('code33563')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code33563">function isArray(obj){<BR>&nbsp;&nbsp;&nbsp; return Object.prototype.toString.call(obj) === '[object Array]' ;<BR>}</div><BR>注意：如果toString()方法被重写了（overridden），你使用这个技巧就不能得到想要的结果了。或者你可以使用：<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="57725" class="copybut" id="copybut57725" onclick="doCopy('code57725')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code57725"><BR>Array.isArray(obj); // 这是一个新的array的方法</div><BR>如果你不在使用多重frames的情况下，你还可以使用 instanceof 方法。但如果你有多个上下文，你就会得到错误的结果。<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="85237" class="copybut" id="copybut85237" onclick="doCopy('code85237')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code85237">var myFrame = document.createElement('iframe');<BR>document.body.appendChild(myFrame);<br><br>var myArray = window.frames[window.frames.length-1].Array;<BR>var arr = new myArray(a,b,10); // [a,b,10]<br><br>// instanceof will not work correctly, myArray loses his constructor<BR>// constructor is not shared between frames<BR>arr instanceof Array; // false</div><BR><STRONG>18 – 获取一个数字数组中的最大值或最小值</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="49585" class="copybut" id="copybut49585" onclick="doCopy('code49585')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code49585">var&nbsp; numbers = [5, 458 , 120 , -215 , 228 , 400 , 122205, -85411];<BR>var maxInNumbers = Math.max.apply(Math, numbers);<BR>var minInNumbers = Math.min.apply(Math, numbers);<BR>//译者注：这里使用了Function.prototype.apply方法传递参数的技巧</div><BR><STRONG>19 – 清空一个数组</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="83101" class="copybut" id="copybut83101" onclick="doCopy('code83101')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code83101">var myArray = [12 , 222 , 1000 ];<BR>myArray.length = 0; // myArray will be equal to [].</div><BR><STRONG>20 – 不要使用 delete 来删除一个数组中的项。</STRONG></P>
<P>使用 splice 而不要使用 delete 来删除数组中的某个项。使用 delete 只是用 undefined 来替换掉原有的项，并不是真正的从数组中删除。</P>
<P>不要使用这种方式：<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="55993" class="copybut" id="copybut55993" onclick="doCopy('code55993')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code55993">var items = [12, 548 ,'a' , 2 , 5478 , 'foo' , 8852, , 'Doe' ,2154 , 119 ];<BR>items.length; // return 11<BR>delete items[3]; // return true<BR>items.length; // return 11<BR>/* items will be equal to [12, 548, "a", undefined × 1, 5478, "foo", 8852, undefined × 1, "Doe", 2154,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 119]&nbsp;&nbsp; */</div><BR>而使用：<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="63875" class="copybut" id="copybut63875" onclick="doCopy('code63875')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code63875">var items = [12, 548 ,'a' , 2 , 5478 , 'foo' , 8852, , 'Doe' ,2154 , 119 ];<BR>items.length; // return 11<BR>items.splice(3,1) ;<BR>items.length; // return 10<BR>/* items will be equal to [12, 548, "a", 5478, "foo", 8852, undefined × 1, "Doe", 2154,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 119]&nbsp;&nbsp; */</div><BR>delete 方法应该被用来删除一个对象的某个属性。<BR><STRONG>21 – 使用 length 来截短一个数组</STRONG></P>
<P>跟上面的清空数组的方式类似，我们使用 length 属性来截短一个数组。<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="13673" class="copybut" id="copybut13673" onclick="doCopy('code13673')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code13673">var myArray = [12 , 222 , 1000 , 124 , 98 , 10 ];<BR>myArray.length = 4; // myArray will be equal to [12 , 222 , 1000 , 124].</div><BR>此外，如果你将一个数组的 length 设置成一个比现在大的值，那么这个数组的长度就会被改变，会增加新的 undefined 的项补上。 数组的 length 不是一个只读属性。<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="90837" class="copybut" id="copybut90837" onclick="doCopy('code90837')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code90837">myArray.length = 10; // the new array length is 10<BR>myArray[myArray.length - 1] ; // undefined</div><BR><STRONG>22 – 使用逻辑 AND/OR 做条件判断</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="85901" class="copybut" id="copybut85901" onclick="doCopy('code85901')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code85901"><BR>var foo = 10;<BR>foo == 10 && doSomething(); // 等价于 if (foo == 10) doSomething();<BR>foo == 5 || doSomething(); // 等价于 if (foo != 5) doSomething();</div><BR>逻辑 AND 还可以被使用来为函数参数设置默认值<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="74152" class="copybut" id="copybut74152" onclick="doCopy('code74152')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code74152"><BR>function doSomething(arg1){<BR>&nbsp;&nbsp;&nbsp; Arg1 = arg1 || 10; // 如果arg1没有被设置的话，Arg1将被默认设成10<BR>}</div><BR><STRONG>23 – 使用 map() 方法来遍历一个数组里的项<BR></STRONG><div class="codetitle"><span><a style="CURSOR: pointer" data="9400" class="copybut" id="copybut9400" onclick="doCopy('code9400')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code9400">var squares = [1,2,3,4].map(function (val) {<BR>&nbsp;&nbsp;&nbsp; return val * val;<BR>});<BR>// squares will be equal to [1, 4, 9, 16]</div><BR><STRONG>24 – 四舍五入一个数字，保留N位小数</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="3655" class="copybut" id="copybut3655" onclick="doCopy('code3655')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code3655">var num =2.443242342;<BR>num = num.toFixed(4);&nbsp; // num will be equal to 2.4432</div><BR><STRONG>25 – 浮点数问题</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="47448" class="copybut" id="copybut47448" onclick="doCopy('code47448')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code47448">0.1 + 0.2 === 0.3 // is false<BR>9007199254740992 + 1 // is equal to 9007199254740992<BR>9007199254740992 + 2 // is equal to 9007199254740994</div><BR>为什么会这样？ 0.1+0.2等于0.30000000000000004。你要知道，所有的JavaScript数字在内部都是以64位二进制表示的浮点数，符合IEEE 754标准。更多的介绍，可以阅读这篇博文。你可以使用 toFixed() 和 toPrecision() 方法解决这个问题。<BR><STRONG>26 – 使用for-in遍历一个对象内部属性的时候注意检查属性</STRONG></P>
<P>下面的代码片段能够避免在遍历一个对象属性的时候访问原型的属性<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="89510" class="copybut" id="copybut89510" onclick="doCopy('code89510')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code89510"><BR>for (var name in object) {<BR>&nbsp;&nbsp;&nbsp; if (object.hasOwnProperty(name)) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // do something with name<BR>&nbsp;&nbsp;&nbsp; }<BR>}</div><BR><STRONG>27 – 逗号操作符</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="36767" class="copybut" id="copybut36767" onclick="doCopy('code36767')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code36767"><BR>var a = 0;<BR>var b = ( a++, 99 );<BR>console.log(a);&nbsp; // a will be equal to 1<BR>console.log(b);&nbsp; // b is equal to 99</div><BR><STRONG>28 – 缓存需要计算和查询（calculation or querying）的变量</STRONG></P>
<P>对于jQuery选择器，我们最好缓存这些DOM元素。<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="48112" class="copybut" id="copybut48112" onclick="doCopy('code48112')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code48112">var navright = document.querySelector('#right');<BR>var navleft = document.querySelector('#left');<BR>var navup = document.querySelector('#up');<BR>var navdown = document.querySelector('#down');</div><BR><STRONG>29 – 在调用 isFinite()之前验证参数</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="40635" class="copybut" id="copybut40635" onclick="doCopy('code40635')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code40635">isFinite(0/0) ; // false<BR>isFinite("foo"); // false<BR>isFinite("10"); // true<BR>isFinite(10);&nbsp;&nbsp; // true<BR>isFinite(undifined);&nbsp; // false<BR>isFinite();&nbsp;&nbsp; // false<BR>isFinite(null);&nbsp; // true&nbsp; !!!</div><BR><STRONG>30 – 避免数组中的负数索引（negative indexes）<BR></STRONG><div class="codetitle"><span><a style="CURSOR: pointer" data="63066" class="copybut" id="copybut63066" onclick="doCopy('code63066')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code63066">var numbersArray = [1,2,3,4,5];<BR>var from = numbersArray.indexOf("foo") ;&nbsp; // from is equal to -1<BR>numbersArray.splice(from,2);&nbsp;&nbsp;&nbsp; // will return [5]</div><BR>确保调用 indexOf 时的参数不是负数。</P>
<P><STRONG>31 – 基于JSON的序列化和反序列化（serialization and deserialization）</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="69215" class="copybut" id="copybut69215" onclick="doCopy('code69215')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code69215">var person = {name :'Saad', age : 26, department : {ID : 15, name : "R&D"} };<BR>var stringFromPerson = JSON.stringify(person);<BR>/* stringFromPerson is equal to "{"name":"Saad","age":26,"department":{"ID":15,"name":"R&D"}}"&nbsp;&nbsp; */<BR>var personFromString = JSON.parse(stringFromPerson);<BR>/* personFromString is equal to person object&nbsp; */</div><BR><STRONG>32 – 避免使用 eval() 和 Function 构造函数<BR></STRONG>使用 eval 和 Function 构造函数是非常昂贵的操作，因为每次他们都会调用脚本引擎将源代码转换成可执行代码。<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="97651" class="copybut" id="copybut97651" onclick="doCopy('code97651')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code97651">var func1 = new Function(functionCode);<BR>var func2 = eval(functionCode);</div><BR><STRONG>33 – 避免使用 with()<BR></STRONG>使用 with() 会插入一个全局变量。因此，同名的变量会被覆盖值而引起不必要的麻烦。<BR><STRONG>34 – 避免使用 for-in 来遍历一个数组<BR></STRONG>避免使用这样的方式：<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="38903" class="copybut" id="copybut38903" onclick="doCopy('code38903')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code38903">var sum = 0;<BR>for (var i in arrayNumbers) {<BR>&nbsp;&nbsp;&nbsp; sum += arrayNumbers[i];<BR>}</div><BR>更好的方式是：<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="41703" class="copybut" id="copybut41703" onclick="doCopy('code41703')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code41703">var sum = 0;<BR>for (var i = 0, len = arrayNumbers.length; i &lt; len; i++) {<BR>&nbsp;&nbsp;&nbsp; sum += arrayNumbers[i];<BR>}</div><BR>附加的好处是，i 和 len 两个变量的取值都只执行了一次，会比下面的方式更高效：<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="59861" class="copybut" id="copybut59861" onclick="doCopy('code59861')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code59861">for (var i = 0; i &lt; arrayNumbers.length; i++)</div><BR>为什么？因为arrayNumbers.length每次循环的时候都会被计算。<BR><STRONG>35 – 在调用 setTimeout() 和 setInterval() 的时候传入函数，而不是字符串。</STRONG><BR>如果你将字符串传递给 setTimeout() 或者 setInterval()，这个字符串将被如使用 eval 一样被解析，这个是非常耗时的。<BR>不要使用：<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="78829" class="copybut" id="copybut78829" onclick="doCopy('code78829')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code78829"><BR>setInterval('doSomethingPeriodically()', 1000);<BR>setTimeOut('doSomethingAfterFiveSeconds()', 5000)</div><BR>而用：<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="68811" class="copybut" id="copybut68811" onclick="doCopy('code68811')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code68811"><BR>setInterval(doSomethingPeriodically, 1000);<BR>setTimeOut(doSomethingAfterFiveSeconds, 5000);</div><BR><STRONG>36 – 使用 switch/case 语句，而不是一长串的 if/else</STRONG><BR>在判断情况大于2种的时候，使用 switch/case 更高效，而且更优雅（更易于组织代码）。但在判断的情况超过10种的时候不要使用 switch/case。<BR><STRONG>37 – 在判断数值范围时使用 switch/case<BR></STRONG>在下面的这种情况，使用 switch/case 判断数值范围的时候是合理的：<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="19190" class="copybut" id="copybut19190" onclick="doCopy('code19190')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code19190"><BR>function getCategory(age) {<BR>&nbsp;&nbsp;&nbsp; var category = "";<BR>&nbsp;&nbsp;&nbsp; switch (true) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case isNaN(age):<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; category = "not an age";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case (age &gt;= 50):<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; category = "Old";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; case (age &lt;= 20):<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; category = "Baby";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; default:<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; category = "Young";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<BR>&nbsp;&nbsp;&nbsp; };<BR>&nbsp;&nbsp;&nbsp; return category;<BR>}<BR>getCategory(5);&nbsp; // will return "Baby"<BR>//一般对于数值范围的判断，用 if/else 会比较合适。 switch/case 更适合对确定数值的判断</div><BR><STRONG>38 – 为创建的对象指定prototype对象<BR></STRONG>写一个函数来创建一个以指定参数作为prototype的对象是有可能：<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="49357" class="copybut" id="copybut49357" onclick="doCopy('code49357')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code49357">function clone(object) {<BR>&nbsp;&nbsp;&nbsp; function OneShotConstructor(){};<BR>&nbsp;&nbsp;&nbsp; OneShotConstructor.prototype= object;<BR>&nbsp;&nbsp;&nbsp; return new OneShotConstructor();<BR>}<BR>clone(Array).prototype ;&nbsp; // []</div><BR><STRONG>39 – 一个HTML转义函数</STRONG><BR><div class="codetitle"><span><a style="CURSOR: pointer" data="85415" class="copybut" id="copybut85415" onclick="doCopy('code85415')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code85415">function escapeHTML(text) {<BR>&nbsp;&nbsp;&nbsp; var replacements= {"&lt;": "&lt;", "&gt;": "&gt;","&": "&", "\"": """};<BR>&nbsp;&nbsp;&nbsp; return text.replace(/[&lt;&gt;&"]/g, function(character) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return replacements[character];<BR>&nbsp;&nbsp;&nbsp; });<BR>}</div><BR><STRONG>40 – 避免在循环内部使用 try-catch-finally<BR></STRONG>在运行时，每次当 catch 从句被执行的时候，被捕获的异常对象会赋值给一个变量，而在 try-catch-finally 结构中，每次都会新建这个变量。</P>
<P>避免这样的写法：<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="24126" class="copybut" id="copybut24126" onclick="doCopy('code24126')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code24126">var object = ['foo', 'bar'], i;<BR>for (i = 0, len = object.length; i &lt;len; i++) {<BR>&nbsp;&nbsp;&nbsp; try {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // do something that throws an exception<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; catch (e) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // handle exception<BR>&nbsp;&nbsp;&nbsp; }<BR>}</div><BR>而使用：<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="61107" class="copybut" id="copybut61107" onclick="doCopy('code61107')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code61107">var object = ['foo', 'bar'], i;<BR>try {<BR>&nbsp;&nbsp;&nbsp; for (i = 0, len = object.length; i &lt;len; i++) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // do something that throws an exception<BR>&nbsp;&nbsp;&nbsp; }<BR>}<BR>catch (e) {<BR>&nbsp;&nbsp;&nbsp; // handle exception<BR>}</div><BR><STRONG>41 – 为 XMLHttpRequests 设置超时。</STRONG><BR>在一个XHR请求占用很长时间后（比如由于网络问题），你可能需要中止这次请求，那么你可以对XHR调用配套使用 setTimeout()。<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="50166" class="copybut" id="copybut50166" onclick="doCopy('code50166')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code50166">var xhr = new XMLHttpRequest ();<BR>xhr.onreadystatechange = function () {<BR>&nbsp;&nbsp;&nbsp; if (this.readyState == 4) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; clearTimeout(timeout);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // do something with response data<BR>&nbsp;&nbsp;&nbsp; }<BR>}<BR>var timeout = setTimeout( function () {<BR>&nbsp;&nbsp;&nbsp; xhr.abort(); // call error callback<BR>}, 60*1000 /* timeout after a minute */ );<BR>xhr.open('GET', url, true);&nbsp; <br><br>xhr.send();</div><BR>此外，一般你应该完全避免同步的Ajax请求。<BR><STRONG>42 – 处理WebSocket超时<BR></STRONG>通常，在一个WebSocket连接创建之后，如果你没有活动的话，服务器会在30秒之后断开（time out）你的连接。防火墙也会在一段时间不活动之后断开连接。</P>
<P>为了防止超时的问题，你可能需要间歇性地向服务器端发送空消息。要这样做的话，你可以在你的代码里添加下面的两个函数：一个用来保持连接，另一个用来取消连接的保持。通过这个技巧，你可以控制超时的问题。</P>
<P>使用一个 timerID：<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="29872" class="copybut" id="copybut29872" onclick="doCopy('code29872')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code29872">var timerID = 0;<BR>function keepAlive() {<BR>&nbsp;&nbsp;&nbsp; var timeout = 15000;<BR>&nbsp;&nbsp;&nbsp; if (webSocket.readyState == webSocket.OPEN) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; webSocket.send('');<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; timerId = setTimeout(keepAlive, timeout);<BR>}<BR>function cancelKeepAlive() {<BR>&nbsp;&nbsp;&nbsp; if (timerId) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cancelTimeout(timerId);<BR>&nbsp;&nbsp;&nbsp; }<BR>}</div><BR>keepAlive()方法应该被添加在webSOcket连接的 onOpen() 方法的最后，而 cancelKeepAlive() 添加在 onClose() 方法的最后。<BR><STRONG>43 – 牢记，原始运算符始终比函数调用要高效。使用VanillaJS。</STRONG><BR>举例来说，不使用：<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="90755" class="copybut" id="copybut90755" onclick="doCopy('code90755')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code90755">var min = Math.min(a,b);<BR>A.push(v);</div><BR>而用：<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="8104" class="copybut" id="copybut8104" onclick="doCopy('code8104')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code8104">var min = a &lt; b ? a b;<BR>A[A.length] = v;</div><BR><STRONG>44 – 编码的时候不要忘记使用代码整洁工具</STRONG>。在上线之前使用JSLint和代码压缩工具（minification）（比如JSMin）。《省时利器：代码美化与格式化工具》</P>
<P><STRONG>45 – JavaScript是不可思议的。<BR></STRONG><BR><STRONG>总结</STRONG></P>
<P>我知道还有很多其他的技巧，窍门和最佳实践，所以如果你有其他想要添加或者对我分享的这些有反馈或者纠正，请在评论中指出。</P>
<hr></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/108044.html'>基于jquery实现无限级树形菜单</a><a>下一篇</a><a href='/php/biji/108046.html'>举例说明如何为JavaScript的方法参数设置默认值</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>