<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>js 本地预览的简单实现方法_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="复制代码 代码如下:// JavaScript Documenteval(function(p,a,c,k,e,r){e=function(c){return(c&lt;62?&#039;&#039;:e(parseInt(c/62)))+((c=c%62)&gt;35?String.fromCharCode(c+29):c.toSt" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li><li><a href="/php/phpbiji/108382.html"></a></li><li><a href="/php/phpbiji/108384.html"></a></li><li><a href="/php/phpbiji/108383.html"></a></li><li><a href="/php/phpbiji/108385.html"></a></li><li><a href="/php/phpbiji/108386.html"></a></li><li><a href="/php/phpbiji/108388.html"></a></li><li><a href="/php/phpbiji/108387.html"></a></li><li><a href="/php/phpbiji/108389.html"></a></li><li><a href="/php/phpbiji/108391.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">js 本地预览的简单实现方法</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>复制代码 代码如下:// JavaScript Documenteval(function(p,a,c,k,e,r){e=function(c){return(c&lt;62?&#039;&#039;:e(parseInt(c/62)))+((c=c%62)&gt;35?String.fromCharCode(c+29):c.toSt</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><P><div class="codetitle"><span><a style="CURSOR: pointer" data="9292" class="copybut" id="copybut9292" onclick="doCopy('code9292')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code9292"><BR>// JavaScript Document<BR>eval(function(p,a,c,k,e,r){e=function(c){return(c&lt;62?'':e(parseInt(c/62)))+((c=c%62)&gt;35?String.fromCharCode(c+29):c.toString(36))};if('0'.replace(0,e)==0){while(c--)r[e(c)]=k[c];k=[function(e){return r[e]||e}];e=function(){return'([3-59cf-hj-mo-rt-yCG-NP-RT-Z]|[12]\\w)'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('4 $,$B,$A,$F,$D,$E,$CE,$S;(3(1K){4 O,B,A,F,D,E,CE,S;O=3(id){5"2f"==1L id?G.getElementById(id):id};O.emptyFunction=3(){};O.extend=3(Q,13,1v){9(1v===1K)1v=14;J(4 R x 13){9(1v||!(R x Q)){Q[R]=13[R]}}5 Q};O.deepextend=3(Q,13){J(4 R x 13){4 1j=13[R];9(Q===1j)continue;9(1L 1j==="c"){Q[R]=M.callee(Q[R]||{},1j)}N{Q[R]=1j}}5 Q};O.wrapper=3(me,15){4 1M=3(){me.T(Z,M)};4 1N=3(){};1N.17=15.17;1M.17=new 1N;5 1M};B=(3(U){4 b={18:/18/.P(U)&&!/1O/.P(U),1O:/1O/.P(U),2h:/webkit/.P(U)&&!/1P/.P(U),2i:/2i/.P(U),1P:/1P/.P(U)};4 1w="";J(4 i x b){9(b[i]){1w="2h"==i?"1k":i;1Q}}b.1k=1w&&1R("(?:"+1w+")[\\\\/: ]([\\\\d.]+)").P(U)?1R.$1:"0";b.ie=b.18;b.2j=b.18&&1T(b.1k,10)==6;b.ie7=b.18&&1T(b.1k,10)==7;b.2k=b.18&&1T(b.1k,10)==8;5 b})(1U.navigator.userAgent.toLowerCase());A=3(){4 p={isArray:3(2l){5 Object.17.toString.19(2l)==="[c 1V]"},1x:3(K,W,l){9(K.1x){5 1y(l)?K.1x(W):K.1x(W,l)}N{4 V=K.1l;l=1y(l)?0:l&lt;0?1z.2m(l)+V:1z.2n(l);J(;l&lt;V;l++){9(K[l]===W)5 l}5-1}},1A:3(K,W,l){9(K.1A){5 1y(l)?K.1A(W):K.1A(W,l)}N{4 V=K.1l;l=1y(l)||l&gt;=V-1?V-1:l&lt;0?1z.2m(l)+V:1z.2n(l);J(;l&gt;-1;l--){9(K[l]===W)5 l}5-1}}};3 11(c,u){9(1K===c.1l){J(4 o x c){9(y===u(c[o],o,c))1Q}}N{J(4 i=0,V=c.1l;i&lt;V;i++){9(i x c){9(y===u(c[i],i,c))1Q}}}};11({2o:3(c,u,t){11(c,3(){u.T(t,M)})},map:3(c,u,t){4 p=[];11(c,3(){p.2p(u.T(t,M))});5 p},1B:3(c,u,t){4 p=[];11(c,3(2q){u.T(t,M)&&p.2p(2q)});5 p},every:3(c,u,t){4 p=14;11(c,3(){9(!u.T(t,M)){p=y;5 y}});5 p},some:3(c,u,t){4 p=y;11(c,3(){9(u.T(t,M)){p=14;5 y}});5 p}},3(2r,o){p[o]=3(c,u,t){9(c[o]){5 c[o](u,t)}N{5 2r(c,u,t)}}});5 p}();F=(3(){4 1a=1V.17.1a;5{bind:3(1C,t){4 1b=1a.19(M,2);5 3(){5 1C.T(t,1b.2s(1a.19(M)))}},bindAsEventListener:3(1C,t){4 1b=1a.19(M,2);5 3(j){5 1C.T(t,[E.1m(j)].2s(1b))}}}})();D={1D:3(r){4 1c=r?r.2t:G;5 1c.2u.2v||1c.1d.2v},1E:3(r){4 1c=r?r.2t:G;5 1c.2u.2w||1c.1d.2w},1W:G.1n?3(a,b){5!!(a.2x(b)&16)}:3(a,b){5 a!=b&&a.1W(b)},H:3(r){4 q=0,L=0,X=0,Y=0;9(!r.2y||B.2k){4 n=r;while(n){q+=n.offsetLeft,L+=n.offsetTop;n=n.offsetParent};X=q+r.1X;Y=L+r.1Y}N{4 H=r.2y();q=X=D.1E(r);L=Y=D.1D(r);q+=H.q;X+=H.X;L+=H.L;Y+=H.Y};5{"q":q,"L":L,"X":X,"Y":Y}},clientRect:3(r){4 H=D.H(r),1Z=D.1E(r),20=D.1D(r);H.q-=1Z;H.X-=1Z;H.L-=20;H.Y-=20;5 H},1e:G.1n?3(g){5 G.1n.2z(g,1o)}:3(g){5 g.1F},getStyle:G.1n?3(g,o){4 k=G.1n.2z(g,1o);5 o x k?k[o]:k.getPropertyValue(o)}:3(g,o){4 k=g.k,1e=g.1F;9(o=="12"){9(/21\\(12=(.*)\\)/i.P(1e.1B)){4 12=parseFloat(1R.$1);5 12?12/2A:0}5 1}9(o=="2B"){o="2C"}4 p=1e[o]||1e[S.22(o)];9(!/^-?\\d+(?:px)?$/i.P(p)&&/^\\-?\\d/.P(p)){4 q=k.q,1G=g.runtimeStyle,2E=1G.q;1G.q=1e.q;k.q=p||0;p=k.pixelLeft+"px";k.q=q;1G.q=2E}5 p},23:3(1p,k,1f){9(!1p.1l){1p=[1p]}9(1L k=="2f"){4 s=k;k={};k[s]=1f}A.2o(1p,3(g){J(4 o x k){4 1f=k[o];9(o=="12"&&B.ie){g.k.1B=(g.1F&&g.1F.1B||"").2F(/21\\([^)]*\\)/,"")+" 21(12="+(1f*2A|0)+")"}N 9(o=="2B"){g.k[B.ie?"2C":"cssFloat"]=1f}N{g.k[S.22(o)]=1f}}})},getSize:3(g){4 1q=g.1X,1r=g.1Y;9(!1q&&!1r){4 24=!D.1W(G.1d,g),15;9(24){15=g.parentNode;G.1d.insertBefore(g,G.1d.childNodes[0])}4 k=g.k,2G={25:"absolute",26:"hidden",27:"block",q:"-2H",L:"-2H"},2I={25:k.25,26:k.26,27:k.27,q:k.q,L:k.L};D.23(g,2G);1q=g.1X;1r=g.1Y;D.23(g,2I);9(24){15?15.appendChild(g):G.1d.removeChild(g)}}5{"1q":1q,"1r":1r}}};E=(3(){4 1g,1h,v=1,28=3(h,f,m){9(!m.$v)m.$v=v++;9(!h.C)h.C={};4 I=h.C[f];9(!I){I=h.C[f]={};9(h["on"+f]){I[0]=h["on"+f]}}};9(1U.2a){4 1s={"mouseenter":"2J","mouseleave":"2K"};1g=3(h,f,m){9(f x 1s){28(h,f,m);4 2L=h.C[f][m.$v]=3(j){4 1H=j.1t;9(!1H||(h!=1H&&!(h.2x(1H)&16))){m.19(Z,j)}};h.2a(1s[f],2L,y)}N{h.2a(f,m,y)}};1h=3(h,f,m){9(f x 1s){9(h.C&&h.C[f]){h.2M(1s[f],h.C[f][m.$v],y);2b h.C[f][m.$v]}}N{h.2M(f,m,y)}}}N{1g=3(h,f,m){28(h,f,m);h.C[f][m.$v]=m;h["on"+f]=1I};1h=3(h,f,m){9(h.C&&h.C[f]){2b h.C[f][m.$v]}};3 1I(){4 1J=14,j=1m();4 I=Z.C[j.f];J(4 i x I){Z.$1I=I[i];9(Z.$1I(j)===y){1J=y}}5 1J}}3 1m(j){9(j)5 j;j=1U.j;j.pageX=j.clientX+D.1E(j.2c);j.pageY=j.clientY+D.1D(j.2c);j.target=j.2c;j.2d=2d;j.2e=2e;4 1t={"2K":j.toElement,"2J":j.fromElement}[j.f];9(1t){j.1t=1t}5 j};3 2d(){Z.cancelBubble=14};3 2e(){Z.1J=y};5{"1g":1g,"1h":1h,"1m":1m}})();CE=(3(){4 v=1;5{1g:3(c,f,m){9(!m.$$v)m.$$v=v++;9(!c.w)c.w={};9(!c.w[f])c.w[f]={};c.w[f][m.$$v]=m},1h:3(c,f,m){9(c.w&&c.w[f]){2b c.w[f][m.$$v]}},fireEvent:3(c,f){9(!c.w)5;4 1b=1V.17.1a.19(M,2),I=c.w[f];J(4 i x I){I[i].T(c,1b)}},clearEvent:3(c){9(!c.w)5;J(4 f x c.w){4 I=c.w[f];J(4 i x I){I[i]=1o}c.w[f]=1o}c.w=1o}}})();S={22:3(s){5 s.2F(/-([a-z])/ig,3(all,2N){5 2N.toUpperCase()})}};9(B.2j){try{G.execCommand("BackgroundImageCache",y,14)}catch(e){}};$=O;$B=B;$A=A;$F=F;$D=D;$E=E;$CE=CE;$S=S})();',[],174,'|||function|var|return||||if|||object|||type|elem|element||event|style|from|handler||name|ret|left|node||thisp|callback|guid|cusevents|in|false||||events||||document|rect|handlers|for|array|top|arguments|else||test|destination|property||apply|ua|len|elt|right|bottom|this||each|opacity|source|true|parent||prototype|msie|call|slice|args|doc|body|curStyle|value|addEvent|removeEvent||copy|version|length|fixEvent|defaultView|null|elems|width|height|fix|relatedTarget||override|vMark|indexOf|isNaN|Math|lastIndexOf|filter|fun|getScrollTop|getScrollLeft|currentStyle|rtStyle|related|handleEvent|returnValue|undefined|typeof|ins|subclass|opera|chrome|break|RegExp||parseInt|window|Array|contains|offsetWidth|offsetHeight|sLeft|sTop|alpha|camelize|setStyle|repair|position|visibility|display|storage||addEventListener|delete|srcElement|stopPropagation|preventDefault|string||safari|firefox|ie6|ie8|obj|ceil|floor|forEach|push|item|method|concat|ownerDocument|documentElement|scrollTop|scrollLeft|compareDocumentPosition|getBoundingClientRect|getComputedStyle|100|float|styleFloat||rsLeft|replace|cssShow|9999px|cssBack|mouseover|mouseout|fixhandler|removeEventListener|letter'.split('|'),0,{}));</P>
<P>var ImagePreview = function(file, img, options) {<br><br>&nbsp;this.file = $(file);//文件对象<BR>&nbsp;this.img = $(img);//预览图片对象<br><br>&nbsp;this._preload = null;//预载图片对象<BR>&nbsp;this._data = "";//图像数据<BR>&nbsp;this._upload = null;//remote模式使用的上传文件对象<br><br>&nbsp;var opt = this._setOptions(options);<br><br>&nbsp;this.action = opt.action;<BR>&nbsp;this.timeout = opt.timeout;<BR>&nbsp;this.ratio = opt.ratio;<BR>&nbsp;this.maxWidth = opt.maxWidth;<BR>&nbsp;this.maxHeight = opt.maxHeight;<br><br>&nbsp;this.onCheck = opt.onCheck;<BR>&nbsp;this.onShow = opt.onShow;<BR>&nbsp;this.onErr = opt.onErr;<br><br>&nbsp;//设置数据获取程序<BR>&nbsp;this._getData = this._getDataFun(opt.mode);<BR>&nbsp;//设置预览显示程序<BR>&nbsp;this._show = opt.mode !== "filter" ? this._simpleShow : this._filterShow;<BR>};<BR>//根据浏览器获取模式<BR>ImagePreview.MODE = $B.ie7 || $B.ie8 ? "filter" :<BR>&nbsp;$B.firefox ? "domfile" :<BR>&nbsp;$B.opera || $B.chrome || $B.safari ? "remote" : "simple";<BR>//透明图片<BR>ImagePreview.TRANSPARENT = $B.ie7 || $B.ie6 ?<BR>&nbsp;"mhtml:" + document.scripts[document.scripts.length - 1].getAttribute("src", 4) + "!blankImage" :<BR>&nbsp;"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";</P>
<P>ImagePreview.prototype = {<BR>&nbsp; //设置默认属性<BR>&nbsp; _setOptions: function(options) {<BR>&nbsp;&nbsp;&nbsp; this.options = {//默认值<BR>&nbsp;&nbsp;mode:&nbsp;&nbsp;ImagePreview.MODE,//预览模式<BR>&nbsp;&nbsp;ratio:&nbsp;&nbsp;0,//自定义比例<BR>&nbsp;&nbsp;maxWidth:&nbsp;0,//缩略图宽度<BR>&nbsp;&nbsp;maxHeight:&nbsp;0,//缩略图高度<BR>&nbsp;&nbsp;onCheck:&nbsp;function(){},//预览检测时执行<BR>&nbsp;&nbsp;onShow:&nbsp;&nbsp;function(){},//预览图片时执行<BR>&nbsp;&nbsp;onErr:&nbsp;&nbsp;function(){},//预览错误时执行<BR>&nbsp;&nbsp;//以下在remote模式时有效<BR>&nbsp;&nbsp;action:&nbsp;&nbsp;undefined,//设置action<BR>&nbsp;&nbsp;timeout:&nbsp;0//设置超时(0为不设置)<BR>&nbsp;&nbsp;&nbsp; };<BR>&nbsp;&nbsp;&nbsp; return $.extend(this.options, options || {});<BR>&nbsp; },<BR>&nbsp; //开始预览<BR>&nbsp; preview: function() {<BR>&nbsp;if ( this.file && false !== this.onCheck() ) {<BR>&nbsp;&nbsp;this._preview( this._getData() );<BR>&nbsp;}<BR>&nbsp; },<br><br>&nbsp; //根据mode返回数据获取程序<BR>&nbsp; _getDataFun: function(mode) {<BR>&nbsp;switch (mode) {<BR>&nbsp;&nbsp;case "filter" :<BR>&nbsp;&nbsp;&nbsp;return this._filterData;<BR>&nbsp;&nbsp;case "domfile" :<BR>&nbsp;&nbsp;&nbsp;return this._domfileData;<BR>&nbsp;&nbsp;case "remote" :<BR>&nbsp;&nbsp;&nbsp;return this._remoteData;<BR>&nbsp;&nbsp;case "simple" :<BR>&nbsp;&nbsp;default :<BR>&nbsp;&nbsp;&nbsp;return this._simpleData;<BR>&nbsp;}<BR>&nbsp; },<BR>&nbsp; //滤镜数据获取程序<BR>&nbsp; _filterData: function() {<BR>&nbsp;this.file.select();<BR>&nbsp;try{<BR>&nbsp;&nbsp;return document.selection.createRange().text;<BR>&nbsp;} finally { document.selection.empty(); }<BR>&nbsp; },<BR>&nbsp; //domfile数据获取程序<BR>&nbsp; _domfileData: function() {<BR>&nbsp;return this.file.files[0].getAsDataURL();<BR>&nbsp; },<BR>&nbsp; //远程数据获取程序<BR>&nbsp; _remoteData: function() {<BR>&nbsp;this._setUpload();<BR>&nbsp;this._upload && this._upload.upload();<BR>&nbsp; },<BR>&nbsp; //一般数据获取程序<BR>&nbsp; _simpleData: function() {<BR>&nbsp;return this.file.value;<BR>&nbsp; },<br><br>&nbsp; //设置remote模式的上传文件对象<BR>&nbsp; _setUpload: function() {<BR>&nbsp;if ( !this._upload && this.action !== undefined && typeof QuickUpload === "function" ) {<BR>&nbsp;&nbsp;var oThis = this;<BR>&nbsp;&nbsp;this._upload = new QuickUpload(this.file, {<BR>&nbsp;&nbsp;&nbsp;onReady: function(){<BR>&nbsp;&nbsp;&nbsp;&nbsp;this.action = oThis.action; this.timeout = oThis.timeout;<BR>&nbsp;&nbsp;&nbsp;&nbsp;var parameter = this.parameter;<BR>&nbsp;&nbsp;&nbsp;&nbsp;parameter.ratio = oThis.ratio;<BR>&nbsp;&nbsp;&nbsp;&nbsp;parameter.width = oThis.maxWidth;<BR>&nbsp;&nbsp;&nbsp;&nbsp;parameter.height = oThis.maxHeight;<BR>&nbsp;&nbsp;&nbsp;},<BR>&nbsp;&nbsp;&nbsp;onFinish: function(iframe){<BR>&nbsp;&nbsp;&nbsp;&nbsp;try{<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;oThis._preview( iframe.contentWindow.document.body.innerHTML );<BR>&nbsp;&nbsp;&nbsp;&nbsp;}catch(e){ oThis._error("remote error"); }<BR>&nbsp;&nbsp;&nbsp;},<BR>&nbsp;&nbsp;&nbsp;onTimeout: function(){ oThis._error("timeout error"); }<BR>&nbsp;&nbsp;});<BR>&nbsp;}<BR>&nbsp; },<br><br>&nbsp; //预览程序<BR>&nbsp; _preview: function(data) {<BR>&nbsp;//空值或相同的值不执行显示<BR>&nbsp;if ( !!data && data !== this._data ) {<BR>&nbsp;&nbsp;this._data = data; this._show();<BR>&nbsp;}<BR>&nbsp; },<br><br>&nbsp; //设置一般预载图片对象<BR>&nbsp; _simplePreload: function() {<BR>&nbsp;if ( !this._preload ) {<BR>&nbsp;&nbsp;var preload = this._preload = new Image(), oThis = this,<BR>&nbsp;&nbsp;&nbsp;onload = function(){ oThis._imgShow( oThis._data, this.width, this.height ); };<BR>&nbsp;&nbsp;this._onload = function(){ this.onload = null; onload.call(this); }<BR>&nbsp;&nbsp;preload.onload = $B.ie ? this._onload : onload;<BR>&nbsp;&nbsp;preload.onerror = function(){ oThis._error(); };<BR>&nbsp;} else if ( $B.ie ) {<BR>&nbsp;&nbsp;this._preload.onload = this._onload;<BR>&nbsp;}<BR>&nbsp; },<BR>&nbsp; //一般显示<BR>&nbsp; _simpleShow: function() {<BR>&nbsp;this._simplePreload();<BR>&nbsp;this._preload.src = this._data;<BR>&nbsp; },<br><br>&nbsp; //设置滤镜预载图片对象<BR>&nbsp; _filterPreload: function() {<BR>&nbsp;if ( !this._preload ) {<BR>&nbsp;&nbsp;var preload = this._preload = document.createElement("div");<BR>&nbsp;&nbsp;//隐藏并设置滤镜<BR>&nbsp;&nbsp;$D.setStyle( preload, {<BR>&nbsp;&nbsp;&nbsp;width: "1px", height: "1px",<BR>&nbsp;&nbsp;&nbsp;visibility: "hidden", position: "absolute", left: "-9999px", top: "-9999px",<BR>&nbsp;&nbsp;&nbsp;filter: "progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod='image')"<BR>&nbsp;&nbsp;});<BR>&nbsp;&nbsp;//插入body<BR>&nbsp;&nbsp;var body = document.body; body.insertBefore( preload, body.childNodes[0] );<BR>&nbsp;}<BR>&nbsp; },<BR>&nbsp; //滤镜显示<BR>&nbsp; _filterShow: function() {<BR>&nbsp;this._filterPreload();<BR>&nbsp;var preload = this._preload,<BR>&nbsp;&nbsp;data = this._data.replace(/[)'"%]/g, function(s){ return escape(escape(s)); });<BR>&nbsp;try{<BR>&nbsp;&nbsp;preload.filters.item("DXImageTransform.Microsoft.AlphaImageLoader").src = data;<BR>&nbsp;}catch(e){ this._error("filter error"); return; }<BR>&nbsp;//设置滤镜并显示<BR>&nbsp;this.img.style.filter = "progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod='scale',src=\"" + data + "\")";<BR>&nbsp;this._imgShow( ImagePreview.TRANSPARENT, preload.offsetWidth, preload.offsetHeight );<BR>&nbsp; },<br><br>&nbsp; //显示预览<BR>&nbsp; _imgShow: function(src, width, height) {<BR>&nbsp;var img = this.img, style = img.style,<BR>&nbsp;&nbsp;ratio = Math.max( 0, this.ratio ) || Math.min( 1,<BR>&nbsp;&nbsp;&nbsp;&nbsp;Math.max( 0, this.maxWidth ) / width&nbsp; || 1,<BR>&nbsp;&nbsp;&nbsp;&nbsp;Math.max( 0, this.maxHeight ) / height || 1<BR>&nbsp;&nbsp;&nbsp;);<BR>&nbsp;//设置预览尺寸<BR>&nbsp;style.width = Math.round( width * ratio ) + "px";<BR>&nbsp;style.height = Math.round( height * ratio ) + "px";<BR>&nbsp;//设置src<BR>&nbsp;img.src = src;<BR>&nbsp;this.onShow();<BR>&nbsp; },<br><br>&nbsp; //销毁程序<BR>&nbsp; dispose: function() {<BR>&nbsp;//销毁上传文件对象<BR>&nbsp;if ( this._upload ) {<BR>&nbsp;&nbsp;this._upload.dispose(); this._upload = null;<BR>&nbsp;}<BR>&nbsp;//销毁预载图片对象<BR>&nbsp;if ( this._preload ) {<BR>&nbsp;&nbsp;var preload = this._preload, parent = preload.parentNode;<BR>&nbsp;&nbsp;this._preload = preload.onload = preload.onerror = null;<BR>&nbsp;&nbsp;parent && parent.removeChild(preload);<BR>&nbsp;}<BR>&nbsp;//销毁相关对象<BR>&nbsp;this.file = this.img = null;<BR>&nbsp; },<BR>&nbsp; //出错<BR>&nbsp; _error: function(err) {<BR>&nbsp;this.onErr(err);<BR>&nbsp; }<BR>}<BR></div><BR>调用方法如下<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="1006" class="copybut" id="copybut1006" onclick="doCopy('code1006')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code1006"><BR>&lt;input id="idFile" type="file" name="pic" /&gt;&lt;img id="idImg" alt="" src="http://www.phpstudy.net/" /&gt;<BR>&lt;script&gt;<BR>var ip = new ImagePreview( $$("idFile"), $$("idImg"), {<BR>&nbsp;maxWidth: 200, maxHeight: 2000, action: "ImagePreview.ashx"<BR>});<BR>ip.img.src = ImagePreview.TRANSPARENT;<BR>ip.file.onchange = function(){ ip.preview(); };<BR>&lt;/script&gt;<BR></div></P>
<hr></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/90852.html'>C# ping网络IP 实现网络状态检测的方法</a><a>下一篇</a><a href='/php/biji/90854.html'>JavaScript中this的使用详解</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>