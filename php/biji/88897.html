<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>Linux系统下wget命令的使用教程_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="一、Linux wget简介<br />
wget是linux上的命令行的下载工具。这是一个GPL许可证下的自由软件。Linux wget支持HTTP和FTP协议，支持代理服务器和断点续传功能，能够自动递归远程主机的" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li><li><a href="/php/phpbiji/108382.html"></a></li><li><a href="/php/phpbiji/108384.html"></a></li><li><a href="/php/phpbiji/108383.html"></a></li><li><a href="/php/phpbiji/108385.html"></a></li><li><a href="/php/phpbiji/108386.html"></a></li><li><a href="/php/phpbiji/108388.html"></a></li><li><a href="/php/phpbiji/108387.html"></a></li><li><a href="/php/phpbiji/108389.html"></a></li><li><a href="/php/phpbiji/108391.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">Linux系统下wget命令的使用教程</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>一、Linux wget简介<br />
wget是linux上的命令行的下载工具。这是一个GPL许可证下的自由软件。Linux wget支持HTTP和FTP协议，支持代理服务器和断点续传功能，能够自动递归远程主机的</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p><strong>一、Linux wget简介</strong></p>
<p>wget是linux上的命令行的下载工具。这是一个GPL许可证下的自由软件。Linux wget支持HTTP和FTP协议，支持代理服务器和断点续传功能，能够自动递归远程主机的目录，找到合乎条件的文件并将其下载到本地硬盘上；如果必要，Linux wget将恰当地转换页面中的超级连接以在本地生成可浏览的镜像。由于没有交互式界面，Linux wget可在后台运行，截获并忽略HANGUP信号，因此在用户推出登录以后，仍可继续运行。通常，Linux wget用于成批量地下载Internet网站上的文件，或制作远程网站的镜像。</p>
<p><strong>二、实例</strong></p>
<p>下载下载192.168.1.168首页并且显示下载信息Linux wget -d http://192.168.1.168下载192.168.1.168首页并且不显示任何信息wget -q http://192.168.1.168下载filelist.txt中所包含的链接的所有文件wget -i filelist.txt</p>
<p>下载到指定目录wget -P/tmp ftp://user:passwd@url/file把文件file下载到/tmp目录下。Linux wget是一个命令行的下载工具。对于我们这些 Linux 用户来说，几乎每天都在使用它。下面为大家介绍几个有用的 Linux wget 小技巧，可以让你更加高效而灵活的使用 Linux wget。</p>
<p>*<br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode23'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode23">$ wget -r -np -nd http://example.com/packages/</div>这条命令可以下载 http://example.com 网站上 packages 目录中的所有文件。其中，-np 的作用是不遍历父目录，-nd 表示不在本机重新创建目录结构。</p>
<p>*<br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode24'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode24">$ wget -r -np -nd --accept=iso http://example.com/centos-5/i386/</div>与上一条命令相似，但多加了一个 --accept=iso 选项，这指示Linux wget仅下载 i386 目录中所有扩展名为 iso 的文件。你也可以指定多个扩展名，只需用逗号分隔即可。</p>
<p>*<br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode25'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode25">$ wget -i filename.txt</div>此命令常用于批量下载的情形，把所有需要下载文件的地址放到 filename.txt 中，然后 Linux wget就会自动为你下载所有文件了。</p>
<p>*<br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode26'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode26">$ wget -c http://example.com/really-big-file.iso</div>这里所指定的 -c 选项的作用为断点续传。</p>
<p>*<br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode27'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode27">$ wget -m -k (-H) http://www.example.com/</div>该命令可用来镜像一个网站，Linux wget将对链接进行转换。如果网站中的图像是放在另外的站点，那么可以使用 -H 选项。</p>
<p><strong>三、参数</strong></p>
<p>代码:<br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode28'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode28">$ wget --helpGNU Wget 1.9.1</div>，非交互式的网络文件下载工具。用法：Linux wget[选项]... [URL]...长选项必须用的参数在使用短选项时也是必须的。</p>
<p>启动：</p>
<p>-V, --version 显示 Wget 的版本并且退出。&nbsp; <br />-h, --help 打印此帮助。&nbsp; <br />-b, -background 启动后进入后台操作。&nbsp; <br />-e, -execute=COMMAND 运行&lsquo;.wgetrc&rsquo;形式的命令。 <br />日志记录及输入文件：</p>
<p>-o, --output-file=文件 将日志消息写入到指定文件中。&nbsp; <br />-a, --append-output=文件 将日志消息追加到指定文件的末端。&nbsp; <br />-d, --debug 打印调试输出。&nbsp; <br />-q, --quiet 安静模式(不输出信息)。&nbsp; <br />-v, --verbose 详细输出模式(默认)。&nbsp; <br />-nv, --non-verbose 关闭详细输出模式，但不进入安静模式。&nbsp; <br />-i, --input-file=文件 下载从指定文件中找到的 URL。&nbsp; <br />-F, --force-html 以 HTML 方式处理输入文件。&nbsp; <br />-B, --base=URL 使用 -F -i 文件选项时，在相对链接前添加指定的 URL。 <br />下载：</p>
<p>-t, --tries=次数 配置重试次数（0 表示无限）。&nbsp; <br />--retry-connrefused 即使拒绝连接也重试。&nbsp; <br />-O --output-document=文件 将数据写入此文件中。&nbsp; <br />-nc, --no-clobber 不更改已经存在的文件，也不使用在文件名后添加 .#（# 为数字）的方法写入新的文件。&nbsp; <br />-c, --continue 继续接收已下载了一部分的文件。&nbsp; <br />--progress=方式 选择下载进度的表示方式。&nbsp; <br />-N, --timestamping 除非远程文件较新，否则不再取回。&nbsp; <br />-S, --server-response 显示服务器回应消息。&nbsp; <br />--spider 不下载任何数据。&nbsp; <br />-T, --timeout=秒数 配置读取数据的超时时间 (秒数)。&nbsp; <br />-w, --wait=秒数 接收不同文件之间等待的秒数。&nbsp; <br />--waitretry=秒数 在每次重试之间稍等一段时间 (由 1 秒至指定的 秒数不等)。&nbsp; <br />--random-wait 接收不同文件之间稍等一段时间(由 0 秒至 2*WAIT 秒不等)。&nbsp; <br />-Y, --proxy=on/off 打开或关闭代理服务器。&nbsp; <br />-Q, --quota=大小 配置接收数据的限额大小。&nbsp; <br />--bind-address=地址 使用本机的指定地址 (主机名称或 IP) 进行连接。&nbsp; <br />--limit-rate=速率 限制下载的速率。&nbsp; <br />--dns-cache=off 禁止查找存于高速缓存中的 DNS。&nbsp; <br />--restrict-file-names=OS 限制文件名中的字符为指定的 OS (操作系统) 所允许的字符。 <br />目录：</p>
<p>-nd --no-directories 不创建目录。&nbsp; <br />-x, --force-directories 强制创建目录。&nbsp; <br />-nH, --no-host-directories 不创建含有远程主机名称的目录。&nbsp; <br />-P, --directory-prefix=名称 保存文件前先创建指定名称的目录。&nbsp; <br />--cut-dirs=数目 忽略远程目录中指定数目的目录层。 <br />HTTP 选项：</p>
<p>--http-user=用户 配置 http 用户名。&nbsp; <br />--http-passwd=密码 配置 http 用户密码。&nbsp; <br />-C, --cache=on/off (不)使用服务器中的高速缓存中的数据 (默认是使用的)。&nbsp; <br />-E, --html-extension 将所有 MIME 类型为 text/html 的文件都加上 .html 扩展文件名。&nbsp; <br />--ignore-length 忽略&ldquo;Content-Length&rdquo;文件头字段。&nbsp; <br />--header=字符串 在文件头中添加指定字符串。&nbsp; <br />--proxy-user=用户 配置代理服务器用户名。&nbsp; <br />--proxy-passwd=密码 配置代理服务器用户密码。&nbsp; <br />--referer=URL 在 HTTP 请求中包含&ldquo;Referer：URL&rdquo;头。&nbsp; <br />-s, --save-headers 将 HTTP 头存入文件。&nbsp; <br />-U, --user-agent=AGENT 标志为 AGENT 而不是 Wget/VERSION。&nbsp; <br />--no-http-keep-alive 禁用 HTTP keep-alive（持久性连接）。&nbsp; <br />--cookies=off 禁用 cookie。&nbsp; <br />--load-cookies=文件 会话开始前由指定文件载入 cookie。&nbsp; <br />--save-cookies=文件 会话结束后将 cookie 保存至指定文件。&nbsp; <br />--post-data=字符串 使用 POST 方法，发送指定字符串。&nbsp; <br />--post-file=文件 使用 POST 方法，发送指定文件中的内容。 <br />HTTPS (SSL) 选项：</p>
<p>--sslcertfile=文件 可选的客户段端证书。&nbsp; <br />--sslcertkey=密钥文件 对此证书可选的&ldquo;密钥文件&rdquo;。&nbsp; <br />--egd-file=文件 EGD socket 文件名。&nbsp; <br />--sslcadir=目录 CA 散列表所在的目录。&nbsp; <br />--sslcafile=文件 包含 CA 的文件。&nbsp; <br />--sslcerttype=0/1 Client-Cert 类型 0=PEM (默认) / 1=ASN1 (DER)&nbsp; <br />--sslcheckcert=0/1 根据提供的 CA 检查服务器的证书&nbsp; <br />--sslprotocol=0-3 选择 SSL 协议；0=自动选择，&nbsp; <br />1=SSLv2 2=SSLv3 3=TLSv1 <br />FTP 选项：</p>
<p>-nr, --dont-remove-listing 不删除&ldquo;.listing&rdquo;文件。&nbsp; <br />-g, --glob=on/off 设置是否展开有通配符的文件名。&nbsp; <br />--passive-ftp 使用&ldquo;被动&rdquo;传输模式。&nbsp; <br />--retr-symlinks 在递归模式中，下载链接所指示的文件(连至目录则例外）。 <br />递归下载：</p>
<p>-r, --recursive 递归下载。&nbsp; <br />-l, --level=数字 最大递归深度(inf 或 0 表示无限)。&nbsp; <br />--delete-after 删除下载后的文件。&nbsp; <br />-k, --convert-links 将绝对链接转换为相对链接。&nbsp; <br />-K, --backup-converted 转换文件 X 前先将其备份为 X.orig。&nbsp; <br />-m, --mirror 等效于 -r -N -l inf -nr 的选项。&nbsp; <br />-p, --page-requisites 下载所有显示完整网页所需的文件，例如图像。&nbsp; <br />--strict-comments 打开对 HTML 备注的严格(SGML)处理选项。 <br />递归下载时有关接受/拒绝的选项：</p>
<p>-A, --accept=列表 接受的文件样式列表，以逗号分隔。&nbsp; <br />-R, --reject=列表 排除的文件样式列表，以逗号分隔。&nbsp; <br />-D, --domains=列表 接受的域列表，以逗号分隔。&nbsp; <br />--exclude-domains=列表 排除的域列表，以逗号分隔。&nbsp; <br />--follow-ftp 跟随 HTML 文件中的 FTP 链接。&nbsp; <br />--follow-tags=列表 要跟随的 HTML 标记，以逗号分隔。&nbsp; <br />-G, --ignore-tags=列表 要忽略的 HTML 标记，以逗号分隔。&nbsp; <br />-H, --span-hosts 递归时可进入其它主机。&nbsp; <br />-L, --relative 只跟随相对链接。&nbsp; <br />-I, --include-directories=列表 要下载的目录列表。&nbsp; <br />-X, --exclude-directories=列表 要排除的目录列表。&nbsp; <br />-np, --no-parent 不搜索上层目录。 </p>
<p><strong>四、实例：用Wget批量下载远程FTP服务器上的文件<br /></strong>昨天买了个VPS，把虚拟主机迁移到VPS了，迁移过程肯定是要转移数据的。以前虚拟主机迁移数据的模式是非常低效率的，旧主机打包下载-&gt;新主机上传再解压缩，由于家庭网络带宽非常低，而且ADSL的上行速率512kbps万年不变，导致以前迁移网站绝对是体力活...</p>
<p>现在有了VPS，有了shell，这个过程就无比简单了，借助机房的大带宽，直接机房对机房互传文件看着简直就是一种享受啊<br /></p>
<p>好了，讲一下方法：</p>
<p>1、旧虚拟主机打包备份整站 site.tar.gz</p>
<p>2、在VPS的shell中利用wget下载旧虚拟主机中的site.tar.gz，使用FTP协议<br /><br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode29'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode29"><br />wget --ftp-user=username --ftp-password=password -m -nh ftp://xxx.xxx.xxx.xxx/xxx/xxx/site.tar.gz<br />wget --ftp-user=username --ftp-password=password -r -m -nh ftp://xxx.xxx.xxx.xxx/xxx/xxx/*<br /></div></p>
<p>上面就是命令了，FTP用户名密码参数不解释；</p>
<p>-r 可选，表示递归下载，如果直接下载整个目录就需要该参数；</p>
<p>-m 表示镜像，不解释；</p>
<p>-nh表示不生成那一堆层级目录，直接从当前目录开始显示，非常好的参数；</p>
<p>后面是ftp的地址，斜杠后的 * 表示下载该目录下的所有文件，如果只是一个文件，直接输入文件名即可。</p>
<p>五、Q&amp;A</p>
<p>A.使用wget工具linux所以的主要版本都自带了Linux wget这个下载工具.bash$ wget http://place.your.url/here它还能控制ftp来下载整个web站点的各级目录,当然,如果你不小心,可能会把整个网站以及其他和他做链接的网站全部下载下来.bash$ wget -m http://target.web.site/subdirectory由于这个工具具有很强的下载能力,所以可以在服务器上把它用作镜像网站的工具.让它按照&rdquo;robots.txt&rdquo;的规定来执行.有很多参数用来控制它如何正确地做镜像,可以限制链接的类型和下载文件的类型等等.例如:只下载有联系的链接并且忽略GIF图片:<br /><br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode30'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode30">bash$ wget -m -L &ndash;reject=gif http://target.web.site/subdirectory</div></p>
<p>Linux wget也能够实现断点续传(-c参数),当然,这种操作是需要远程服务器支持的.<br /><br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode31'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode31">bash$ wget -c http://the.url.of/incomplete/file</div>可以把断点续传和镜像功能结合起来,这样可以在以前断过多次的情况下继续镜像一个有大量选择性文件的站点.如何自动实现这个目的我们在后面会讨论得更多.</p>
<p>如果你觉得下载时老是断线会影响你办公的话,你可以限制Linux wget重试的次数.<br /><br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode32'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode32">bash$ wget -t 5 http://place.your.url/here</div>这样重试五次后就放弃了.用&rdquo;-t inf&rdquo;参数表示永远不放弃.不停地重试.</p>
<p>B．那对于代理服务该怎么办呢?可以使用http代理的参数或者在.wgetrc配置文件里指定一个如何通过代理去下载的途径.但是有这么一个问题,如果通过代理来进行断点续传的话可能会有几次失败.如果有一次通过代理下载的过程发生中断,那么代理服务器上缓存里保存是那个完整的文件拷贝. 所以当你用&rdquo;wget -c&rdquo;来下载剩余部分的时候代理服务器查看它的缓存,并错误地认为你已经下载了整个文件.于是就发出了错误的信号.这个时候你可以用添加一个特定的请求参数来促使代理服务器清除他们的缓存:<br /><br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode33'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode33">bash$ wget -c &ndash;header=&rdquo;Pragma: no-cache&rdquo; http://place.your.url/here</div></p>
<p>这个&rdquo;&ndash;header&rdquo;参数能够以各种数字，各种方式添加。通过它我们可以更改web服务器或者代理服务器的某些属性。有些站点不提供外部连接的文件服务，只有通过同一个站点上其他的一些页面时内容才会被提交。这个时候你可以用加上&rdquo;Referer:&rdquo;参数：bash$ wget &ndash;header=&rdquo;Referer: http://coming.from.this/page&rdquo; http://surfing.to.this/page有些特殊的网站只支持某种特定的浏览器，这个时候可以用&rdquo;User-Agent:&rdquo;参数</p>
<p><br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode34'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode34">bash$ wget &ndash;header=&rdquo;User-Agent: Mozilla/4.0 (compatible; MSIE 5.0;Windows NT; DigExt)&rdquo; http://msie.only.url/here</div></p>
<p>C．那我怎么设定下载时间呢？<br />如果你需要在你的办公电脑上通过和其他同事共享的一个连接来下载一些很大的文件，而且你希望你的同事不会因为网络速度的减慢而收到影响，那你就应该尽量避开高峰时段。当然,不需要在办公室里等到所以人都走掉，也不需要在家里用完晚饭后还惦记着要上网下载一次。用at来就可以很好的定制工作时间：bash$ at 23：00warning: commands will be executed using /bin/shat&gt; wget http://place.your.url/hereat&gt; press Ctrl-D这样，我们设定了下载工作在晚上11点进行。为了使这个安排能够正常进行，请确认atd这个后台程序正在运行。</p>
<p>D．下载要花很多时间？<br />当你需要下载大量的数据，而且你又没有享有足够的带宽,这个时候你会经常发现在你安排的下载任务还没有完成，一天的工作却又要开始了。<br />作为一个好同事，你只能停掉了这些任务，而开始另外的工作。然后你又需要反复地重复使用&rdquo;wget -c&rdquo;来完成你的下载。这样肯定太繁琐了，所以最好是用crontab来自动执行。创建一个纯文本文件，叫做&rdquo;crontab.txt&rdquo;,包含下面的内容：0 23 * * 1-5 wget -c -N http://place.your.url/here0 6 * * 1-5 killall wgetz这个crontab文件指定某些任务定期地执行。前五列声明是什么时候执行这个命令，而每行的剩余部分则告诉crontab执行什么内容。</p>
<p>前两列指定了每天一到晚上11点就开始用Linux wget下载，一到早上6点就停止一切Linux wget下载。第三四列的*表示每个月的每一天都执行这个任务。第五列则指定了一个星期的哪几天来执行这个程序。 &ndash;&rdquo;1-5&Prime;表示从星期一到星期五。这样在每个工作日的晚上11点，下载工作开始，到了上午的6点，任何的Linux wget任务就被停掉了。你可以用下面的命令来执行<br /><br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode35'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode35">crontab：bash$ crontab crontab.txt</div></p>
<p>Linux wget的这个&rdquo;-N&rdquo;参数将会检查目标文件的时间戳，如果匹配了，下载程序就会停止，因为它说明整个文件已经下载完全了。用&rdquo;crontab -r&rdquo;可以删除这个计划安排。我已经多次采用这种方法，通过共享的电话拨号来下载过很多的ISO镜像文件,还是比较实用的。</p>
<p>E．如何下载动态变化的网页<br />有些网页每天都要根据要求变化好几次.所以从技术上讲,目标不再是一个文件,它没有文件长度.因此&rdquo;-c&rdquo;这个参数也就失去了意义.例如:一个PHP写的并且经常变动的linux周末新闻网页:<br /><br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode36'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode36">bash$ wget http://lwn.net/bigpage.php3</div></p>
<p>我办公室里的网络条件经常很差,给我的下载带了很大的麻烦,所以我写了个简单的脚本来检测动态页面是否已经完全更新了.<br /><br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode37'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode37"><br />#!/bin/bash <br />#create it if absent <br />touch bigpage.php3 <br />#check if we got the whole thing <br />while ! grep -qi bigpage.php3 <br />do <br />rm -f bigpage.php3 <br />#download LWN in one big page <br />wget http://lwn.net/bigpage.php3 <br />done <br /></div><br />这个脚本能够保证持续的下载该网页,直到网页里面出现了&quot; &quot;,这就表示该文件已经完全更新了.</p>
<p>F．对于ssl和Cookies怎么办？<br />如果你要通过ssl来上网,那么网站地址应该是以&rdquo;https://&rdquo;来开头的.在这样的情况下你就需要另外一种下载工具,叫做curl，它能够很容易获得.有些网站迫使网友在浏览的时候必须使用cookie.所以你必须从在网站上得到的那个 Cookie里面得到&rdquo;Cookie:&rdquo;这个参数.这样才能保证下载的参数正确.对于lynx和Mozilla的Cookie的文件格式,用下面的:<br /><br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode38'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode38">bash$ cookie=$( grep nytimes ~/.lynx_cookies |awk {printf(&rdquo;%s=%s;&rdquo;,$6,$7)} )</div>就可以构造一个请求Cookie来下载http://www.nytimes.com上的内容.当然,你要已经用这个浏览器在该网站上完成注册.w3m使用了一种不同的,更小巧的Cookie文件格式:<br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode39'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode39">bash$ cookie=$( grep nytimes ~/.w3m/cookie |awk {printf(&rdquo;%s=%s;&rdquo;,$2,$3)} )</div><br />现在就可以用这种方法来下载了:<br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode40'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode40">bash$ wget &ndash;header=&rdquo;Cookie: $cookie&rdquo; http://www.nytimes.com/reuters/technology/tech-tech-supercomput.html</div><br />或者用curl工具:<br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode41'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode41">bash$ curl -v -b $cookie -o supercomp.html http://www.nytimes.com/reuters/technology/tech-tech-supercomput.htm</div></p>
<p>G．如何建立地址列表？<br />到现在为止我们下载的都是单个文件或者是整个网站.有的时候我们需要下载某个网页上链接的大量文件,但没有必要把它整个网站都镜像下来.比如说我们想从一个依次排列的100首歌里面下载前20首.注意,这里&rdquo;&ndash;accept&rdquo;和&rdquo;&ndash;reject&rdquo;参数是不会起作用的, 因为他们只对文件操作起作用.所以一定要用&rdquo;lynx -dump&rdquo;参数来代替.<br /><br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode42'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode42">bash$ lynx -dump ftp://ftp.ssc.com/pub/lg/ |grep gz$ |tail -10 |awk {print $2} &gt; urllist.txt</div><br />lynx的输出结果可以被各种GNU文本处理工具过虑.在上面的例子里,我们的链接地址是以&rdquo;gz&rdquo;结尾的,并且把最后10个文件地址放到urllist.txt文件里.然后我们可以写一个简单的bash脚本来自动下载这个文件里的目标文件:<br /><br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode43'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode43"><br />bash$ for x in $(cat urllist.txt)<br />&gt; do<br />&gt; wget $x<br />&gt; done<br /></div><br />这样我们就能够成功下载Linux Gazette网站(ftp://ftp.ssc.com/pub/lg/)上的最新10个论题.</p>
<p>H．扩大使用的带宽<br />如果你选择下载一个受带宽限制的文件,那你的下载会因为服务器端的限制而变得很慢.下面这个技巧会大大缩短下载的过程.但这个技巧需要你使用curl并且远程服务器有多个镜像可以供你下载.例如,假设你想从下面的三个地址下载Mandrake 8.0:<br /><br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode44'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode44"><br />url1=http://ftp.eecs.umich.edu/pub/linux/mandrake/iso/Mandrake80-inst.iso<br />url2=http://ftp.rpmfind.net/linux/Mandrake/iso/Mandrake80-inst.iso<br />url3=http://ftp.wayne.edu/linux/mandrake/iso/Mandrake80-inst.iso<br /></div><br />这个文件的长度是677281792个字节,所以用curl程序加&rdquo;&ndash;range&rdquo;参数来建立三个同时进行的下载:<br /><br><div class="msgheader"><div class="right"><span style="CURSOR: pointer" onclick="copycode(getid('phpcode45'));"><u>复制代码</u></span></div>代码如下:</div><div class="msgborder" id="phpcode45"><br />bash$ curl -r 0-199999999 -o mdk-iso.part1 $url1 &amp;<br />bash$ curl -r 200000000-399999999 -o mdk-iso.part2 $url2 &amp;<br />bash$ curl -r 400000000- -o mdk-iso.part3 $url3 &amp;<br /></div><br />这样就创建了三个后台进程.每个进程从不同的服务器传输这个ISO文件的不同部分.这个&rdquo;-r&rdquo;参数指定目标文件的字节范围.当这三个<br />进程结束后,用一个简单的cat命令来把这三个文件衔接起来&ndash; cat mdk-iso.part? &gt; mdk-80.iso.(强烈建议在刻盘之前先检查md5)<br />你也可以用&rdquo;&ndash;verbose&rdquo;参数来使每个curl进程都有自己的窗口来显示传输的过程.<br /></p>
<hr></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/88896.html'>保护.net中的dll文件方法(防止破解、反编译dll)</a><a>下一篇</a><a href='/php/biji/88898.html'>Ubuntu系统无法衔接网络 该怎样安装无线网卡驱动？</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>