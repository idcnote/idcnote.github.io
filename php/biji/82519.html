<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>php获取中文拼音首字母类和函数分享_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="一、公司同事整理的类,挺实用的.相信拿出来分享下他不会介意的O(∩_∩)O.不过如果首字母是数字或英文会有些问题.复制代码 代码如下:/** * Helper_Spell 汉字拼音首字母工具" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li><li><a href="/php/phpbiji/108382.html"></a></li><li><a href="/php/phpbiji/108384.html"></a></li><li><a href="/php/phpbiji/108383.html"></a></li><li><a href="/php/phpbiji/108385.html"></a></li><li><a href="/php/phpbiji/108386.html"></a></li><li><a href="/php/phpbiji/108388.html"></a></li><li><a href="/php/phpbiji/108387.html"></a></li><li><a href="/php/phpbiji/108389.html"></a></li><li><a href="/php/phpbiji/108391.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">php获取中文拼音首字母类和函数分享</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>一、公司同事整理的类,挺实用的.相信拿出来分享下他不会介意的O(∩_∩)O.不过如果首字母是数字或英文会有些问题.复制代码 代码如下:/** * Helper_Spell 汉字拼音首字母工具</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><P>一、公司同事整理的类,挺实用的.相信拿出来分享下他不会介意的O(∩_∩)O.不过如果首字母是数字或英文会有些问题.<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="53892" class="copybut" id="copybut53892" onclick="doCopy('code53892')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code53892"><BR>/**<BR>&nbsp;* Helper_Spell 汉字拼音首字母工具类<BR>&nbsp;*<BR>&nbsp;* @category Helper<BR>&nbsp;* @package&nbsp; Helper_Spell<BR>&nbsp;* @author&nbsp;&nbsp; Lancer &lt;lancer.he@gmail.com&gt;<BR>&nbsp;* @version&nbsp; 1.0<BR>&nbsp;* @see&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Translation_Big2gb<BR>&nbsp;*/</P>
<P>class Helper_Spell {<BR>/**<BR>&nbsp;* $_pinyins<BR>&nbsp;* @var array<BR>&nbsp;* @access private<BR>&nbsp;*/<BR>private $_pinyins = array(<BR>&nbsp;&nbsp;&nbsp; 176161 =&gt; 'A',<BR>&nbsp;&nbsp;&nbsp; 176197 =&gt; 'B',<BR>&nbsp;&nbsp;&nbsp; 178193 =&gt; 'C',<BR>&nbsp;&nbsp;&nbsp; 180238 =&gt; 'D',<BR>&nbsp;&nbsp;&nbsp; 182234 =&gt; 'E',<BR>&nbsp;&nbsp;&nbsp; 183162 =&gt; 'F',<BR>&nbsp;&nbsp;&nbsp; 184193 =&gt; 'G',<BR>&nbsp;&nbsp;&nbsp; 185254 =&gt; 'H',<BR>&nbsp;&nbsp;&nbsp; 187247 =&gt; 'J',<BR>&nbsp;&nbsp;&nbsp; 191166 =&gt; 'K',<BR>&nbsp;&nbsp;&nbsp; 192172 =&gt; 'L',<BR>&nbsp;&nbsp;&nbsp; 194232 =&gt; 'M',<BR>&nbsp;&nbsp;&nbsp; 196195 =&gt; 'N',<BR>&nbsp;&nbsp;&nbsp; 197182 =&gt; 'O',<BR>&nbsp;&nbsp;&nbsp; 197190 =&gt; 'P',<BR>&nbsp;&nbsp;&nbsp; 198218 =&gt; 'Q',<BR>&nbsp;&nbsp;&nbsp; 200187 =&gt; 'R',<BR>&nbsp;&nbsp;&nbsp; 200246 =&gt; 'S',<BR>&nbsp;&nbsp;&nbsp; 203250 =&gt; 'T',<BR>&nbsp;&nbsp;&nbsp; 205218 =&gt; 'W',<BR>&nbsp;&nbsp;&nbsp; 206244 =&gt; 'X',<BR>&nbsp;&nbsp;&nbsp; 209185 =&gt; 'Y',<BR>&nbsp;&nbsp;&nbsp; 212209 =&gt; 'Z',<BR>&nbsp;&nbsp;&nbsp; 215249 =&gt; 'Z',<BR>);</P>
<P><BR>/**<BR>&nbsp;* $_charset<BR>&nbsp;* @var string<BR>&nbsp;* @access private<BR>&nbsp;*/<BR>private $_charset = null;<br><br>/**<BR>&nbsp;* __construct 构造函数, 指定需要的编码 default: utf-8 支持utf-8, gb2312<BR>&nbsp;*<BR>&nbsp;* @param unknown_type $charset<BR>&nbsp;*/<BR>public function __construct( $charset = 'utf-8' ) {<BR>&nbsp;&nbsp;&nbsp; $this-&gt;_charset = $charset;<BR>}</P>
<P>/**<BR>&nbsp;* getInitialsFirst 返回首个汉字的拼音<BR>&nbsp;*<BR>&nbsp;* @access public<BR>&nbsp;* @static<BR>&nbsp;* @param&nbsp; string $str<BR>&nbsp;* @return string<BR>&nbsp;* @example Helper_Spell::getInitialsFirst('我的爱'); =&gt; w<BR>&nbsp;*/<BR>public static function getInitialsFirst( $str, $charset = 'utf-8' ) {<BR>&nbsp;&nbsp;&nbsp; $chars = array(<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'A','B','C','D','E','F',<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'G','H','I','J','K','L',<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'M','N','O','P','Q','R',<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'S','T','U','V','W','X',<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'Y','Z');</P>
<P><BR>&nbsp;&nbsp;&nbsp; $string = self::getInitials( $str );<BR>&nbsp;&nbsp;&nbsp; $length = strlen($string);</P>
<P><BR>&nbsp;&nbsp;&nbsp; for($i=0; $i &lt; $length; $i++) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ( in_array( $string{$i}, $chars ) ) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return $string{$i};<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; return '*';<BR>}</P>
<P><BR>/**<BR>&nbsp;* getInitials 返回拼音组合<BR>&nbsp;*<BR>&nbsp;* @access public<BR>&nbsp;* @static<BR>&nbsp;* @param&nbsp; string $str<BR>&nbsp;* @return string<BR>&nbsp;* @example Helper_Spell::getInitials('我的爱'); =&gt; wda<BR>&nbsp;*/<BR>public static function getInitials( $str, $charset = 'utf-8' ) {<BR>&nbsp;&nbsp;&nbsp; $instance = new Helper_Spell( $charset );<BR>&nbsp;&nbsp;&nbsp; return $instance-&gt;_getInitials( $str );<BR>}</P>
<P><BR>/**<BR>&nbsp;* _getInitials 获取中文字串的拼音首字符<BR>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 注：英文的字串：不变返回(包括数字)&nbsp;&nbsp;&nbsp; eg .abc123 =&gt; abc123<BR>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 中文字符串：返回拼音首字符&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; eg. 王小明 =&gt; WXM<BR>&nbsp;*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 中英混合串: 返回拼音首字符和英文&nbsp; eg. 我i我j =&gt; WIWJ<BR>&nbsp;*<BR>&nbsp;* @access private<BR>&nbsp;* @param&nbsp; string $str<BR>&nbsp;* @return string<BR>&nbsp;*/<BR>private function _getInitials( $str, $translation=TRUE ){<BR>&nbsp;&nbsp;&nbsp; if ( empty($str) ) return '';<BR>&nbsp;&nbsp;&nbsp; if ( $this-&gt;_isAscii($str[0]) && $this-&gt;_isAsciis( $str ))<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return $str;<br><br>&nbsp;&nbsp;&nbsp; if ( $translation )<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $str = Translation_Big2gb::big2gb( $str );<br><br>&nbsp;&nbsp;&nbsp; $result = array();<BR>&nbsp;&nbsp;&nbsp; if ( $this-&gt;_charset == 'utf-8' ){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //IGNORE很重要，加上这个就可以是ICONV()函数忽略错误，继续执行<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $str = iconv( 'utf-8', 'gbk//IGNORE', $str );<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; $words = $this-&gt;_cutWord( $str );</P>
<P><BR>&nbsp;&nbsp;&nbsp; foreach ( $words AS $word ) {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ( $this-&gt;_isAscii($word) ) {//非中文<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $result[] = $word;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; continue;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $code = ( ord(substr($word,0,1)) ) * 1000 + (ord(substr($word,1,1)));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //获取拼音首字母A--Z</P>
<P><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ( ($i = $this-&gt;_search($code)) != -1 ){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $result[] = $this-&gt;_pinyins[$i];<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; return strtoupper(implode('', $result));<BR>}</P>
<P><BR>/**<BR>&nbsp;* _msubstr 获取中文字符串<BR>&nbsp;*<BR>&nbsp;* @access private<BR>&nbsp;* @param string $str<BR>&nbsp;* @param int&nbsp;&nbsp;&nbsp; $start<BR>&nbsp;* @param int&nbsp;&nbsp;&nbsp; $len<BR>&nbsp;* @return string<BR>&nbsp;*/<BR>private function _msubstr ($str, $start, $len) {<BR>&nbsp;&nbsp;&nbsp; $start&nbsp; = $start * 2;<BR>&nbsp;&nbsp;&nbsp; $len&nbsp;&nbsp;&nbsp; = $len * 2;<BR>&nbsp;&nbsp;&nbsp; $strlen = strlen($str);<BR>&nbsp;&nbsp;&nbsp; $result = '';<BR>&nbsp;&nbsp;&nbsp; for ( $i = 0; $i &lt; $strlen; $i++ ) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ( $i &gt;= $start && $i &lt; ($start + $len) ) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ( ord(substr($str, $i, 1)) &gt; 129 ) $result .= substr($str, $i, 2);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; else $result .= substr($str, $i, 1);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ( ord(substr($str, $i, 1)) &gt; 129 ) $i++;<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; return $result;<BR>}</P>
<P><BR>/**<BR>&nbsp;* _cutWord&nbsp; 字符串切分为数组 (汉字或者一个字符为单位)<BR>&nbsp;*<BR>&nbsp;* @access private<BR>&nbsp;* @param string $str<BR>&nbsp;* @return array<BR>&nbsp;*/<BR>private function _cutWord( $str ) {<BR>&nbsp;&nbsp;&nbsp; $words = array();<BR>&nbsp;&nbsp;&nbsp; while ( $str != "" ) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ( $this-&gt;_isAscii($str) ) {//非中文<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $words[] = $str[0];<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $str = substr( $str, strlen($str[0]) );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $word = $this-&gt;_msubstr( $str, 0, 1 );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $words[] = $word;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $str = substr( $str,&nbsp; strlen($word) );<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp;&nbsp; return $words;<BR>}</P>
<P><BR>/**<BR>&nbsp;* _isAscii 判断字符是否是ascii字符<BR>&nbsp;*<BR>&nbsp;* @access private<BR>&nbsp;* @param&nbsp; string $char<BR>&nbsp;* @return bool<BR>&nbsp;*/<BR>private function _isAscii( $char ) {<BR>&nbsp;&nbsp;&nbsp; return ( ord( substr($char,0,1) ) &lt; 160 );<BR>}</P>
<P>&nbsp;</P>
<P>/**<BR>&nbsp;* _isAsciis 判断字符串前3个字符是否是ascii字符<BR>&nbsp;*<BR>&nbsp;* @access private<BR>&nbsp;* @param&nbsp; string $str<BR>&nbsp;* @return bool<BR>&nbsp;*/<BR>private function _isAsciis( $str ) {<BR>&nbsp;&nbsp;&nbsp; $len = strlen($str) &gt;= 3 ? 3: 2;<BR>&nbsp;&nbsp;&nbsp; $chars = array();<BR>&nbsp;&nbsp;&nbsp; for( $i = 1; $i &lt; $len -1; $i++ ){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $chars[] = $this-&gt;_isAscii( $str[$i] ) ? 'yes':'no';<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; $result = array_count_values( $chars );<BR>&nbsp;&nbsp;&nbsp; if ( empty($result['no']) ){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return true;<BR>&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; return false;<BR>}</P>
<P><br><br>/**<BR>&nbsp;* _getChar 通过ASC码返回字母或者数字<BR>&nbsp;*<BR>&nbsp;* @access private<BR>&nbsp;* @param&nbsp; string $ascii<BR>&nbsp;* @return string<BR>&nbsp;*/<BR>private function _getChar( $ascii ){<BR>&nbsp;&nbsp;&nbsp; if ( $ascii &gt;= 48 && $ascii &lt;= 57 ) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return chr($ascii);&nbsp; //数字<BR>&nbsp;&nbsp;&nbsp; } elseif ( $ascii&gt;=65 && $ascii&lt;=90 ) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return chr($ascii);&nbsp;&nbsp; // A--Z<BR>&nbsp;&nbsp;&nbsp; } elseif ($ascii&gt;=97 && $ascii&lt;=122 ) {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return chr($ascii-32); // a--z<BR>&nbsp;&nbsp;&nbsp; } else {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return '~'; //其他<BR>&nbsp;&nbsp;&nbsp; }<BR>}</P>
<P><BR>/**<BR>&nbsp;* _search 查找需要的汉字内码(gb2312) 对应的拼音字符(二分法)<BR>&nbsp;*<BR>&nbsp;* @access private<BR>&nbsp;* @param int $code<BR>&nbsp;* @return int<BR>&nbsp;*/<BR>private function _search( $code ) {&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp; $data = array_keys($this-&gt;_pinyins);</P>
<P><BR>&nbsp;&nbsp;&nbsp; $lower = 0;<BR>&nbsp;&nbsp;&nbsp; $upper = sizeof($data)-1;</P>
<P><BR>&nbsp;&nbsp;&nbsp; // 排除非一级汉字<BR>&nbsp;&nbsp;&nbsp; if ($code &lt; $data[0] || $code &gt; $data[23]) return -1;</P>
<P><BR>&nbsp;&nbsp;&nbsp; for (;;) {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ( $lower &gt; $upper ){&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return $data[$lower-1];<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $middle = (int) round(($lower + $upper) / 2);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ( !isset($data[$middle]) ) {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return -1;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }</P>
<P><BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if ( $data[$middle] &lt; $code ){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $lower = (int)$middle + 1;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else if ( $data[$middle] == $code ) {&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return $data[$middle];<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; } else {<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $upper = (int)$middle - 1;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; }// end for<BR>}</P>
<P>}</div></P>
<P>二、用来得到中文的首字母</P>
<P>这个是将中文转换为拼音的类:charset<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="45606" class="copybut" id="copybut45606" onclick="doCopy('code45606')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code45606"><BR>&lt;?php<BR>/**<BR>&nbsp;* 汉字转化为拼音，拼音转化为汉字<BR>&nbsp;* <BR>&nbsp;*/</P>
<P>class charset<BR>{<BR>&nbsp;&nbsp;&nbsp; private $_code=array(<BR>&nbsp;&nbsp;&nbsp; array("a",'-20319'),<BR>&nbsp;&nbsp;&nbsp; array("ai",'-20317'),<BR>&nbsp;&nbsp;&nbsp; array("an",'-20304'),<BR>&nbsp;&nbsp;&nbsp; array("ang",'-20295'),<BR>&nbsp;&nbsp;&nbsp; array("ao",'-20292'),<BR>&nbsp;&nbsp;&nbsp; array("ba",'-20283'),<BR>&nbsp;&nbsp;&nbsp; array("bai",'-20265'),<BR>&nbsp;&nbsp;&nbsp; array("ban",'-20257'),<BR>&nbsp;&nbsp;&nbsp; array("bang",'-20242'),<BR>&nbsp;&nbsp;&nbsp; array("bao",'-20230'),<BR>&nbsp;&nbsp;&nbsp; array("bei",'-20051'),<BR>&nbsp;&nbsp;&nbsp; array("ben",'-20036'),<BR>&nbsp;&nbsp;&nbsp; array("beng",'-20032'),<BR>&nbsp;&nbsp;&nbsp; array("bi",'-20026'),<BR>&nbsp;&nbsp;&nbsp; array("bian",'-20002'),<BR>&nbsp;&nbsp;&nbsp; array("biao",'-19990'),<BR>&nbsp;&nbsp;&nbsp; array("bie",'-19986'),<BR>&nbsp;&nbsp;&nbsp; array("bin",'-19982'),<BR>&nbsp;&nbsp;&nbsp; array("bing",'-19976'),<BR>&nbsp;&nbsp;&nbsp; array("bo",'-19805'),<BR>&nbsp;&nbsp;&nbsp; array("bu",'-19784'),<BR>&nbsp;&nbsp;&nbsp; array("ca",'-19775'),<BR>&nbsp;&nbsp;&nbsp; array("cai",'-19774'),<BR>&nbsp;&nbsp;&nbsp; array("can",'-19763'),<BR>&nbsp;&nbsp;&nbsp; array("cang",'-19756'),<BR>&nbsp;&nbsp;&nbsp; array("cao",'-19751'),<BR>&nbsp;&nbsp;&nbsp; array("ce",'-19746'),<BR>&nbsp;&nbsp;&nbsp; array("ceng",'-19741'),<BR>&nbsp;&nbsp;&nbsp; array("cha",'-19739'),<BR>&nbsp;&nbsp;&nbsp; array("chai",'-19728'),<BR>&nbsp;&nbsp;&nbsp; array("chan",'-19725'),<BR>&nbsp;&nbsp;&nbsp; array("chang",'-19715'),<BR>&nbsp;&nbsp;&nbsp; array("chao",'-19540'),<BR>&nbsp;&nbsp;&nbsp; array("che",'-19531'),<BR>&nbsp;&nbsp;&nbsp; array("chen",'-19525'),<BR>&nbsp;&nbsp;&nbsp; array("cheng",'-19515'),<BR>&nbsp;&nbsp;&nbsp; array("chi",'-19500'),<BR>&nbsp;&nbsp;&nbsp; array("chong",'-19484'),<BR>&nbsp;&nbsp;&nbsp; array("chou",'-19479'),<BR>&nbsp;&nbsp;&nbsp; array("chu",'-19467'),<BR>&nbsp;&nbsp;&nbsp; array("chuai",'-19289'),<BR>&nbsp;&nbsp;&nbsp; array("chuan",'-19288'),<BR>&nbsp;&nbsp;&nbsp; array("chuang",'-19281'),<BR>&nbsp;&nbsp;&nbsp; array("chui",'-19275'),<BR>&nbsp;&nbsp;&nbsp; array("chun",'-19270'),<BR>&nbsp;&nbsp;&nbsp; array("chuo",'-19263'),<BR>&nbsp;&nbsp;&nbsp; array("ci",'-19261'),<BR>&nbsp;&nbsp;&nbsp; array("cong",'-19249'),<BR>&nbsp;&nbsp;&nbsp; array("cou",'-19243'),<BR>&nbsp;&nbsp;&nbsp; array("cu",'-19242'),<BR>&nbsp;&nbsp;&nbsp; array("cuan",'-19238'),<BR>&nbsp;&nbsp;&nbsp; array("cui",'-19235'),<BR>&nbsp;&nbsp;&nbsp; array("cun",'-19227'),<BR>&nbsp;&nbsp;&nbsp; array("cuo",'-19224'),<BR>&nbsp;&nbsp;&nbsp; array("da",'-19218'),<BR>&nbsp;&nbsp;&nbsp; array("dai",'-19212'),<BR>&nbsp;&nbsp;&nbsp; array("dan",'-19038'),<BR>&nbsp;&nbsp;&nbsp; array("dang",'-19023'),<BR>&nbsp;&nbsp;&nbsp; array("dao",'-19018'),<BR>&nbsp;&nbsp;&nbsp; array("de",'-19006'),<BR>&nbsp;&nbsp;&nbsp; array("deng",'-19003'),<BR>&nbsp;&nbsp;&nbsp; array("di",'-18996'),<BR>&nbsp;&nbsp;&nbsp; array("dian",'-18977'),<BR>&nbsp;&nbsp;&nbsp; array("diao",'-18961'),<BR>&nbsp;&nbsp;&nbsp; array("die",'-18952'),<BR>&nbsp;&nbsp;&nbsp; array("ding",'-18783'),<BR>&nbsp;&nbsp;&nbsp; array("diu",'-18774'),<BR>&nbsp;&nbsp;&nbsp; array("dong",'-18773'),<BR>&nbsp;&nbsp;&nbsp; array("dou",'-18763'),<BR>&nbsp;&nbsp;&nbsp; array("du",'-18756'),<BR>&nbsp;&nbsp;&nbsp; array("duan",'-18741'),<BR>&nbsp;&nbsp;&nbsp; array("dui",'-18735'),<BR>&nbsp;&nbsp;&nbsp; array("dun",'-18731'),<BR>&nbsp;&nbsp;&nbsp; array("duo",'-18722'),<BR>&nbsp;&nbsp;&nbsp; array("e",'-18710'),<BR>&nbsp;&nbsp;&nbsp; array("en",'-18697'),<BR>&nbsp;&nbsp;&nbsp; array("er",'-18696'),<BR>&nbsp;&nbsp;&nbsp; array("fa",'-18526'),<BR>&nbsp;&nbsp;&nbsp; array("fan",'-18518'),<BR>&nbsp;&nbsp;&nbsp; array("fang",'-18501'),<BR>&nbsp;&nbsp;&nbsp; array("fei",'-18490'),<BR>&nbsp;&nbsp;&nbsp; array("fen",'-18478'),<BR>&nbsp;&nbsp;&nbsp; array("feng",'-18463'),<BR>&nbsp;&nbsp;&nbsp; array("fo",'-18448'),<BR>&nbsp;&nbsp;&nbsp; array("fou",'-18447'),<BR>&nbsp;&nbsp;&nbsp; array("fu",'-18446'),<BR>&nbsp;&nbsp;&nbsp; array("ga",'-18239'),<BR>&nbsp;&nbsp;&nbsp; array("gai",'-18237'),<BR>&nbsp;&nbsp;&nbsp; array("gan",'-18231'),<BR>&nbsp;&nbsp;&nbsp; array("gang",'-18220'),<BR>&nbsp;&nbsp;&nbsp; array("gao",'-18211'),<BR>&nbsp;&nbsp;&nbsp; array("ge",'-18201'),<BR>&nbsp;&nbsp;&nbsp; array("gei",'-18184'),<BR>&nbsp;&nbsp;&nbsp; array("gen",'-18183'),<BR>&nbsp;&nbsp;&nbsp; array("geng",'-18181'),<BR>&nbsp;&nbsp;&nbsp; array("gong",'-18012'),<BR>&nbsp;&nbsp;&nbsp; array("gou",'-17997'),<BR>&nbsp;&nbsp;&nbsp; array("gu",'-17988'),<BR>&nbsp;&nbsp;&nbsp; array("gua",'-17970'),<BR>&nbsp;&nbsp;&nbsp; array("guai",'-17964'),<BR>&nbsp;&nbsp;&nbsp; array("guan",'-17961'),<BR>&nbsp;&nbsp;&nbsp; array("guang",'-17950'),<BR>&nbsp;&nbsp;&nbsp; array("gui",'-17947'),<BR>&nbsp;&nbsp;&nbsp; array("gun",'-17931'),<BR>&nbsp;&nbsp;&nbsp; array("guo",'-17928'),<BR>&nbsp;&nbsp;&nbsp; array("ha",'-17922'),<BR>&nbsp;&nbsp;&nbsp; array("hai",'-17759'),<BR>&nbsp;&nbsp;&nbsp; array("han",'-17752'),<BR>&nbsp;&nbsp;&nbsp; array("hang",'-17733'),<BR>&nbsp;&nbsp;&nbsp; array("hao",'-17730'),<BR>&nbsp;&nbsp;&nbsp; array("he",'-17721'),<BR>&nbsp;&nbsp;&nbsp; array("hei",'-17703'),<BR>&nbsp;&nbsp;&nbsp; array("hen",'-17701'),<BR>&nbsp;&nbsp;&nbsp; array("heng",'-17697'),<BR>&nbsp;&nbsp;&nbsp; array("hong",'-17692'),<BR>&nbsp;&nbsp;&nbsp; array("hou",'-17683'),<BR>&nbsp;&nbsp;&nbsp; array("hu",'-17676'),<BR>&nbsp;&nbsp;&nbsp; array("hua",'-17496'),<BR>&nbsp;&nbsp;&nbsp; array("huai",'-17487'),<BR>&nbsp;&nbsp;&nbsp; array("huan",'-17482'),<BR>&nbsp;&nbsp;&nbsp; array("huang",'-17468'),<BR>&nbsp;&nbsp;&nbsp; array("hui",'-17454'),<BR>&nbsp;&nbsp;&nbsp; array("hun",'-17433'),<BR>&nbsp;&nbsp;&nbsp; array("huo",'-17427'),<BR>&nbsp;&nbsp;&nbsp; array("ji",'-17417'),<BR>&nbsp;&nbsp;&nbsp; array("jia",'-17202'),<BR>&nbsp;&nbsp;&nbsp; array("jian",'-17185'),<BR>&nbsp;&nbsp;&nbsp; array("jiang",'-16983'),<BR>&nbsp;&nbsp;&nbsp; array("jiao",'-16970'),<BR>&nbsp;&nbsp;&nbsp; array("jie",'-16942'),<BR>&nbsp;&nbsp;&nbsp; array("jin",'-16915'),<BR>&nbsp;&nbsp;&nbsp; array("jing",'-16733'),<BR>&nbsp;&nbsp;&nbsp; array("jiong",'-16708'),<BR>&nbsp;&nbsp;&nbsp; array("jiu",'-16706'),<BR>&nbsp;&nbsp;&nbsp; array("ju",'-16689'),<BR>&nbsp;&nbsp;&nbsp; array("juan",'-16664'),<BR>&nbsp;&nbsp;&nbsp; array("jue",'-16657'),<BR>&nbsp;&nbsp;&nbsp; array("jun",'-16647'),<BR>&nbsp;&nbsp;&nbsp; array("ka",'-16474'),<BR>&nbsp;&nbsp;&nbsp; array("kai",'-16470'),<BR>&nbsp;&nbsp;&nbsp; array("kan",'-16465'),<BR>&nbsp;&nbsp;&nbsp; array("kang",'-16459'),<BR>&nbsp;&nbsp;&nbsp; array("kao",'-16452'),<BR>&nbsp;&nbsp;&nbsp; array("ke",'-16448'),<BR>&nbsp;&nbsp;&nbsp; array("ken",'-16433'),<BR>&nbsp;&nbsp;&nbsp; array("keng",'-16429'),<BR>&nbsp;&nbsp;&nbsp; array("kong",'-16427'),<BR>&nbsp;&nbsp;&nbsp; array("kou",'-16423'),<BR>&nbsp;&nbsp;&nbsp; array("ku",'-16419'),<BR>&nbsp;&nbsp;&nbsp; array("kua",'-16412'),<BR>&nbsp;&nbsp;&nbsp; array("kuai",'-16407'),<BR>&nbsp;&nbsp;&nbsp; array("kuan",'-16403'),<BR>&nbsp;&nbsp;&nbsp; array("kuang",'-16401'),<BR>&nbsp;&nbsp;&nbsp; array("kui",'-16393'),<BR>&nbsp;&nbsp;&nbsp; array("kun",'-16220'),<BR>&nbsp;&nbsp;&nbsp; array("kuo",'-16216'),<BR>&nbsp;&nbsp;&nbsp; array("la",'-16212'),<BR>&nbsp;&nbsp;&nbsp; array("lai",'-16205'),<BR>&nbsp;&nbsp;&nbsp; array("lan",'-16202'),<BR>&nbsp;&nbsp;&nbsp; array("lang",'-16187'),<BR>&nbsp;&nbsp;&nbsp; array("lao",'-16180'),<BR>&nbsp;&nbsp;&nbsp; array("le",'-16171'),<BR>&nbsp;&nbsp;&nbsp; array("lei",'-16169'),<BR>&nbsp;&nbsp;&nbsp; array("leng",'-16158'),<BR>&nbsp;&nbsp;&nbsp; array("li",'-16155'),<BR>&nbsp;&nbsp;&nbsp; array("lia",'-15959'),<BR>&nbsp;&nbsp;&nbsp; array("lian",'-15958'),<BR>&nbsp;&nbsp;&nbsp; array("liang",'-15944'),<BR>&nbsp;&nbsp;&nbsp; array("liao",'-15933'),<BR>&nbsp;&nbsp;&nbsp; array("lie",'-15920'),<BR>&nbsp;&nbsp;&nbsp; array("lin",'-15915'),<BR>&nbsp;&nbsp;&nbsp; array("ling",'-15903'),<BR>&nbsp;&nbsp;&nbsp; array("liu",'-15889'),<BR>&nbsp;&nbsp;&nbsp; array("long",'-15878'),<BR>&nbsp;&nbsp;&nbsp; array("lou",'-15707'),<BR>&nbsp;&nbsp;&nbsp; array("lu",'-15701'),<BR>&nbsp;&nbsp;&nbsp; array("lv",'-15681'),<BR>&nbsp;&nbsp;&nbsp; array("luan",'-15667'),<BR>&nbsp;&nbsp;&nbsp; array("lue",'-15661'),<BR>&nbsp;&nbsp;&nbsp; array("lun",'-15659'),<BR>&nbsp;&nbsp;&nbsp; array("luo",'-15652'),<BR>&nbsp;&nbsp;&nbsp; array("ma",'-15640'),<BR>&nbsp;&nbsp;&nbsp; array("mai",'-15631'),<BR>&nbsp;&nbsp;&nbsp; array("man",'-15625'),<BR>&nbsp;&nbsp;&nbsp; array("mang",'-15454'),<BR>&nbsp;&nbsp;&nbsp; array("mao",'-15448'),<BR>&nbsp;&nbsp;&nbsp; array("me",'-15436'),<BR>&nbsp;&nbsp;&nbsp; array("mei",'-15435'),<BR>&nbsp;&nbsp;&nbsp; array("men",'-15419'),<BR>&nbsp;&nbsp;&nbsp; array("meng",'-15416'),<BR>&nbsp;&nbsp;&nbsp; array("mi",'-15408'),<BR>&nbsp;&nbsp;&nbsp; array("mian",'-15394'),<BR>&nbsp;&nbsp;&nbsp; array("miao",'-15385'),<BR>&nbsp;&nbsp;&nbsp; array("mie",'-15377'),<BR>&nbsp;&nbsp;&nbsp; array("min",'-15375'),<BR>&nbsp;&nbsp;&nbsp; array("ming",'-15369'),<BR>&nbsp;&nbsp;&nbsp; array("miu",'-15363'),<BR>&nbsp;&nbsp;&nbsp; array("mo",'-15362'),<BR>&nbsp;&nbsp;&nbsp; array("mou",'-15183'),<BR>&nbsp;&nbsp;&nbsp; array("mu",'-15180'),<BR>&nbsp;&nbsp;&nbsp; array("na",'-15165'),<BR>&nbsp;&nbsp;&nbsp; array("nai",'-15158'),<BR>&nbsp;&nbsp;&nbsp; array("nan",'-15153'),<BR>&nbsp;&nbsp;&nbsp; array("nang",'-15150'),<BR>&nbsp;&nbsp;&nbsp; array("nao",'-15149'),<BR>&nbsp;&nbsp;&nbsp; array("ne",'-15144'),<BR>&nbsp;&nbsp;&nbsp; array("nei",'-15143'),<BR>&nbsp;&nbsp;&nbsp; array("nen",'-15141'),<BR>&nbsp;&nbsp;&nbsp; array("neng",'-15140'),<BR>&nbsp;&nbsp;&nbsp; array("ni",'-15139'),<BR>&nbsp;&nbsp;&nbsp; array("nian",'-15128'),<BR>&nbsp;&nbsp;&nbsp; array("niang",'-15121'),<BR>&nbsp;&nbsp;&nbsp; array("niao",'-15119'),<BR>&nbsp;&nbsp;&nbsp; array("nie",'-15117'),<BR>&nbsp;&nbsp;&nbsp; array("nin",'-15110'),<BR>&nbsp;&nbsp;&nbsp; array("ning",'-15109'),<BR>&nbsp;&nbsp;&nbsp; array("niu",'-14941'),<BR>&nbsp;&nbsp;&nbsp; array("nong",'-14937'),<BR>&nbsp;&nbsp;&nbsp; array("nu",'-14933'),<BR>&nbsp;&nbsp;&nbsp; array("nv",'-14930'),<BR>&nbsp;&nbsp;&nbsp; array("nuan",'-14929'),<BR>&nbsp;&nbsp;&nbsp; array("nue",'-14928'),<BR>&nbsp;&nbsp;&nbsp; array("nuo",'-14926'),<BR>&nbsp;&nbsp;&nbsp; array("o",'-14922'),<BR>&nbsp;&nbsp;&nbsp; array("ou",'-14921'),<BR>&nbsp;&nbsp;&nbsp; array("pa",'-14914'),<BR>&nbsp;&nbsp;&nbsp; array("pai",'-14908'),<BR>&nbsp;&nbsp;&nbsp; array("pan",'-14902'),<BR>&nbsp;&nbsp;&nbsp; array("pang",'-14894'),<BR>&nbsp;&nbsp;&nbsp; array("pao",'-14889'),<BR>&nbsp;&nbsp;&nbsp; array("pei",'-14882'),<BR>&nbsp;&nbsp;&nbsp; array("pen",'-14873'),<BR>&nbsp;&nbsp;&nbsp; array("peng",'-14871'),<BR>&nbsp;&nbsp;&nbsp; array("pi",'-14857'),<BR>&nbsp;&nbsp;&nbsp; array("pian",'-14678'),<BR>&nbsp;&nbsp;&nbsp; array("piao",'-14674'),<BR>&nbsp;&nbsp;&nbsp; array("pie",'-14670'),<BR>&nbsp;&nbsp;&nbsp; array("pin",'-14668'),<BR>&nbsp;&nbsp;&nbsp; array("ping",'-14663'),<BR>&nbsp;&nbsp;&nbsp; array("po",'-14654'),<BR>&nbsp;&nbsp;&nbsp; array("pu",'-14645'),<BR>&nbsp;&nbsp;&nbsp; array("qi",'-14630'),<BR>&nbsp;&nbsp;&nbsp; array("qia",'-14594'),<BR>&nbsp;&nbsp;&nbsp; array("qian",'-14429'),<BR>&nbsp;&nbsp;&nbsp; array("qiang",'-14407'),<BR>&nbsp;&nbsp;&nbsp; array("qiao",'-14399'),<BR>&nbsp;&nbsp;&nbsp; array("qie",'-14384'),<BR>&nbsp;&nbsp;&nbsp; array("qin",'-14379'),<BR>&nbsp;&nbsp;&nbsp; array("qing",'-14368'),<BR>&nbsp;&nbsp;&nbsp; array("qiong",'-14355'),<BR>&nbsp;&nbsp;&nbsp; array("qiu",'-14353'),<BR>&nbsp;&nbsp;&nbsp; array("qu",'-14345'),<BR>&nbsp;&nbsp;&nbsp; array("quan",'-14170'),<BR>&nbsp;&nbsp;&nbsp; array("que",'-14159'),<BR>&nbsp;&nbsp;&nbsp; array("qun",'-14151'),<BR>&nbsp;&nbsp;&nbsp; array("ran",'-14149'),<BR>&nbsp;&nbsp;&nbsp; array("rang",'-14145'),<BR>&nbsp;&nbsp;&nbsp; array("rao",'-14140'),<BR>&nbsp;&nbsp;&nbsp; array("re",'-14137'),<BR>&nbsp;&nbsp;&nbsp; array("ren",'-14135'),<BR>&nbsp;&nbsp;&nbsp; array("reng",'-14125'),<BR>&nbsp;&nbsp;&nbsp; array("ri",'-14123'),<BR>&nbsp;&nbsp;&nbsp; array("rong",'-14122'),<BR>&nbsp;&nbsp;&nbsp; array("rou",'-14112'),<BR>&nbsp;&nbsp;&nbsp; array("ru",'-14109'),<BR>&nbsp;&nbsp;&nbsp; array("ruan",'-14099'),<BR>&nbsp;&nbsp;&nbsp; array("rui",'-14097'),<BR>&nbsp;&nbsp;&nbsp; array("run",'-14094'),<BR>&nbsp;&nbsp;&nbsp; array("ruo",'-14092'),<BR>&nbsp;&nbsp;&nbsp; array("sa",'-14090'),<BR>&nbsp;&nbsp;&nbsp; array("sai",'-14087'),<BR>&nbsp;&nbsp;&nbsp; array("san",'-14083'),<BR>&nbsp;&nbsp;&nbsp; array("sang",'-13917'),<BR>&nbsp;&nbsp;&nbsp; array("sao",'-13914'),<BR>&nbsp;&nbsp;&nbsp; array("se",'-13910'),<BR>&nbsp;&nbsp;&nbsp; array("sen",'-13907'),<BR>&nbsp;&nbsp;&nbsp; array("seng",'-13906'),<BR>&nbsp;&nbsp;&nbsp; array("sha",'-13905'),<BR>&nbsp;&nbsp;&nbsp; array("shai",'-13896'),<BR>&nbsp;&nbsp;&nbsp; array("shan",'-13894'),<BR>&nbsp;&nbsp;&nbsp; array("shang",'-13878'),<BR>&nbsp;&nbsp;&nbsp; array("shao",'-13870'),<BR>&nbsp;&nbsp;&nbsp; array("she",'-13859'),<BR>&nbsp;&nbsp;&nbsp; array("shen",'-13847'),<BR>&nbsp;&nbsp;&nbsp; array("sheng",'-13831'),<BR>&nbsp;&nbsp;&nbsp; array("shi",'-13658'),<BR>&nbsp;&nbsp;&nbsp; array("shou",'-13611'),<BR>&nbsp;&nbsp;&nbsp; array("shu",'-13601'),<BR>&nbsp;&nbsp;&nbsp; array("shua",'-13406'),<BR>&nbsp;&nbsp;&nbsp; array("shuai",'-13404'),<BR>&nbsp;&nbsp;&nbsp; array("shuan",'-13400'),<BR>&nbsp;&nbsp;&nbsp; array("shuang",'-13398'),<BR>&nbsp;&nbsp;&nbsp; array("shui",'-13395'),<BR>&nbsp;&nbsp;&nbsp; array("shun",'-13391'),<BR>&nbsp;&nbsp;&nbsp; array("shuo",'-13387'),<BR>&nbsp;&nbsp;&nbsp; array("si",'-13383'),<BR>&nbsp;&nbsp;&nbsp; array("song",'-13367'),<BR>&nbsp;&nbsp;&nbsp; array("sou",'-13359'),<BR>&nbsp;&nbsp;&nbsp; array("su",'-13356'),<BR>&nbsp;&nbsp;&nbsp; array("suan",'-13343'),<BR>&nbsp;&nbsp;&nbsp; array("sui",'-13340'),<BR>&nbsp;&nbsp;&nbsp; array("sun",'-13329'),<BR>&nbsp;&nbsp;&nbsp; array("suo",'-13326'),<BR>&nbsp;&nbsp;&nbsp; array("ta",'-13318'),<BR>&nbsp;&nbsp;&nbsp; array("tai",'-13147'),<BR>&nbsp;&nbsp;&nbsp; array("tan",'-13138'),<BR>&nbsp;&nbsp;&nbsp; array("tang",'-13120'),<BR>&nbsp;&nbsp;&nbsp; array("tao",'-13107'),<BR>&nbsp;&nbsp;&nbsp; array("te",'-13096'),<BR>&nbsp;&nbsp;&nbsp; array("teng",'-13095'),<BR>&nbsp;&nbsp;&nbsp; array("ti",'-13091'),<BR>&nbsp;&nbsp;&nbsp; array("tian",'-13076'),<BR>&nbsp;&nbsp;&nbsp; array("tiao",'-13068'),<BR>&nbsp;&nbsp;&nbsp; array("tie",'-13063'),<BR>&nbsp;&nbsp;&nbsp; array("ting",'-13060'),<BR>&nbsp;&nbsp;&nbsp; array("tong",'-12888'),<BR>&nbsp;&nbsp;&nbsp; array("tou",'-12875'),<BR>&nbsp;&nbsp;&nbsp; array("tu",'-12871'),<BR>&nbsp;&nbsp;&nbsp; array("tuan",'-12860'),<BR>&nbsp;&nbsp;&nbsp; array("tui",'-12858'),<BR>&nbsp;&nbsp;&nbsp; array("tun",'-12852'),<BR>&nbsp;&nbsp;&nbsp; array("tuo",'-12849'),<BR>&nbsp;&nbsp;&nbsp; array("wa",'-12838'),<BR>&nbsp;&nbsp;&nbsp; array("wai",'-12831'),<BR>&nbsp;&nbsp;&nbsp; array("wan",'-12829'),<BR>&nbsp;&nbsp;&nbsp; array("wang",'-12812'),<BR>&nbsp;&nbsp;&nbsp; array("wei",'-12802'),<BR>&nbsp;&nbsp;&nbsp; array("wen",'-12607'),<BR>&nbsp;&nbsp;&nbsp; array("weng",'-12597'),<BR>&nbsp;&nbsp;&nbsp; array("wo",'-12594'),<BR>&nbsp;&nbsp;&nbsp; array("wu",'-12585'),<BR>&nbsp;&nbsp;&nbsp; array("xi",'-12556'),<BR>&nbsp;&nbsp;&nbsp; array("xia",'-12359'),<BR>&nbsp;&nbsp;&nbsp; array("xian",'-12346'),<BR>&nbsp;&nbsp;&nbsp; array("xiang",'-12320'),<BR>&nbsp;&nbsp;&nbsp; array("xiao",'-12300'),<BR>&nbsp;&nbsp;&nbsp; array("xie",'-12120'),<BR>&nbsp;&nbsp;&nbsp; array("xin",'-12099'),<BR>&nbsp;&nbsp;&nbsp; array("xing",'-12089'),<BR>&nbsp;&nbsp;&nbsp; array("xiong",'-12074'),<BR>&nbsp;&nbsp;&nbsp; array("xiu",'-12067'),<BR>&nbsp;&nbsp;&nbsp; array("xu",'-12058'),<BR>&nbsp;&nbsp;&nbsp; array("xuan",'-12039'),<BR>&nbsp;&nbsp;&nbsp; array("xue",'-11867'),<BR>&nbsp;&nbsp;&nbsp; array("xun",'-11861'),<BR>&nbsp;&nbsp;&nbsp; array("ya",'-11847'),<BR>&nbsp;&nbsp;&nbsp; array("yan",'-11831'),<BR>&nbsp;&nbsp;&nbsp; array("yang",'-11798'),<BR>&nbsp;&nbsp;&nbsp; array("yao",'-11781'),<BR>&nbsp;&nbsp;&nbsp; array("ye",'-11604'),<BR>&nbsp;&nbsp;&nbsp; array("yi",'-11589'),<BR>&nbsp;&nbsp;&nbsp; array("yin",'-11536'),<BR>&nbsp;&nbsp;&nbsp; array("ying",'-11358'),<BR>&nbsp;&nbsp;&nbsp; array("yo",'-11340'),<BR>&nbsp;&nbsp;&nbsp; array("yong",'-11339'),<BR>&nbsp;&nbsp;&nbsp; array("you",'-11324'),<BR>&nbsp;&nbsp;&nbsp; array("yu",'-11303'),<BR>&nbsp;&nbsp;&nbsp; array("yuan",'-11097'),<BR>&nbsp;&nbsp;&nbsp; array("yue",'-11077'),<BR>&nbsp;&nbsp;&nbsp; array("yun",'-11067'),<BR>&nbsp;&nbsp;&nbsp; array("za",'-11055'),<BR>&nbsp;&nbsp;&nbsp; array("zai",'-11052'),<BR>&nbsp;&nbsp;&nbsp; array("zan",'-11045'),<BR>&nbsp;&nbsp;&nbsp; array("zang",'-11041'),<BR>&nbsp;&nbsp;&nbsp; array("zao",'-11038'),<BR>&nbsp;&nbsp;&nbsp; array("ze",'-11024'),<BR>&nbsp;&nbsp;&nbsp; array("zei",'-11020'),<BR>&nbsp;&nbsp;&nbsp; array("zen",'-11019'),<BR>&nbsp;&nbsp;&nbsp; array("zeng",'-11018'),<BR>&nbsp;&nbsp;&nbsp; array("zha",'-11014'),<BR>&nbsp;&nbsp;&nbsp; array("zhai",'-10838'),<BR>&nbsp;&nbsp;&nbsp; array("zhan",'-10832'),<BR>&nbsp;&nbsp;&nbsp; array("zhang",'-10815'),<BR>&nbsp;&nbsp;&nbsp; array("zhao",'-10800'),<BR>&nbsp;&nbsp;&nbsp; array("zhe",'-10790'),<BR>&nbsp;&nbsp;&nbsp; array("zhen",'-10780'),<BR>&nbsp;&nbsp;&nbsp; array("zheng",'-10764'),<BR>&nbsp;&nbsp;&nbsp; array("zhi",'-10587'),<BR>&nbsp;&nbsp;&nbsp; array("zhong",'-10544'),<BR>&nbsp;&nbsp;&nbsp; array("zhou",'-10533'),<BR>&nbsp;&nbsp;&nbsp; array("zhu",'-10519'),<BR>&nbsp;&nbsp;&nbsp; array("zhua",'-10331'),<BR>&nbsp;&nbsp;&nbsp; array("zhuai",'-10329'),<BR>&nbsp;&nbsp;&nbsp; array("zhuan",'-10328'),<BR>&nbsp;&nbsp;&nbsp; array("zhuang",'-10322'),<BR>&nbsp;&nbsp;&nbsp; array("zhui",'-10315'),<BR>&nbsp;&nbsp;&nbsp; array("zhun",'-10309'),<BR>&nbsp;&nbsp;&nbsp; array("zhuo",'-10307'),<BR>&nbsp;&nbsp;&nbsp; array("zi",'-10296'),<BR>&nbsp;&nbsp;&nbsp; array("zong",'-10281'),<BR>&nbsp;&nbsp;&nbsp; array("zou",'-10274'),<BR>&nbsp;&nbsp;&nbsp; array("zu",'-10270'),<BR>&nbsp;&nbsp;&nbsp; array("zuan",'-10262'),<BR>&nbsp;&nbsp;&nbsp; array("zui",'-10260'),<BR>&nbsp;&nbsp;&nbsp; array("zun",'-10256'),<BR>&nbsp;&nbsp;&nbsp; array("zuo",'-10254')<BR>&nbsp;&nbsp;&nbsp; );<BR>&nbsp;&nbsp;&nbsp; //拼音转化函数<BR>&nbsp;&nbsp;&nbsp; function PinYin($str){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ret="";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for($i=0;$i&lt;strlen($str);$i++){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $p=ord(substr($str,$i,1)); //查看ASCII码<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if($p&gt;160){ //如果是中文，再多截取一个字符<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $q=ord(substr($str,++$i,1));<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $p=$p*256+$q-65536;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $ret.=$this-&gt;convert($p);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return $ret;<BR>&nbsp;&nbsp;&nbsp; }<br><br>&nbsp;&nbsp;&nbsp; //转化函数<BR>&nbsp;&nbsp;&nbsp; function convert($num){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if($num&gt;0&&$num&lt;160){ //如果不是汉字，直接返回相对字符<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return chr($num);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }elseif($num&lt;"-20319"||$num&gt;"-10247"){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return "";<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }else{ //汉字，查找对应拼音<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; for($i=count($this-&gt;_code)-1;$i&gt;=0;$i--){<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if($this-&gt;_code[$i][1]&lt;=$num)<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; break;<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; return substr($this-&gt;_code[$i][0],0,1);<BR>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; }<BR>&nbsp;&nbsp;&nbsp; }<BR>}</div></P>
<P>&nbsp;</P>
<P>&nbsp;</P>
<P>下面这个是用来测试代码的:<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="23579" class="copybut" id="copybut23579" onclick="doCopy('code23579')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code23579"><BR>&lt;?php</P>
<P>include_once 'charset.class.php';<BR>header('Content-type: text/html;charset=utf-8');</P>
<P>$charset=new charset();<BR>foreach(array('武汉','中国','上海') as $val){<BR>&nbsp;echo iconv('gbk','utf-8//IGNORE',strtoupper($charset-&gt;PinYin(mb_convert_encoding($val,'gbk','utf-8'))));<BR>&nbsp;echo '&lt;br/&gt;';<BR>}</div></P>
<P>三、这是网上找到个一个方法,经过测试可以正常使用,但对一些生僻字或者特殊字符会有问题.<BR><div class="codetitle"><span><a style="CURSOR: pointer" data="63100" class="copybut" id="copybut63100" onclick="doCopy('code63100')"><U>复制代码</U></a></span> 代码如下:</div><div class="codebody" id="code63100"><BR>function getFirstCharter($str){<BR>&nbsp;if(empty($str)){return '';}<BR>&nbsp;$fchar=ord($str{0});<BR>&nbsp;if($fchar&gt;=ord('A')&&$fchar&lt;=ord('z')) return strtoupper($str{0});<BR>&nbsp;$s1=iconv('UTF-8','gb2312',$str);<BR>&nbsp;$s2=iconv('gb2312','UTF-8',$s1);<BR>&nbsp;$s=$s2==$str?$s1:$str;<BR>&nbsp;$asc=ord($s{0})*256+ord($s{1})-65536;<BR>&nbsp;if($asc&gt;=-20319&&$asc&lt;=-20284) return 'A';<BR>&nbsp;if($asc&gt;=-20283&&$asc&lt;=-19776) return 'B';<BR>&nbsp;if($asc&gt;=-19775&&$asc&lt;=-19219) return 'C';<BR>&nbsp;if($asc&gt;=-19218&&$asc&lt;=-18711) return 'D';<BR>&nbsp;if($asc&gt;=-18710&&$asc&lt;=-18527) return 'E';<BR>&nbsp;if($asc&gt;=-18526&&$asc&lt;=-18240) return 'F';<BR>&nbsp;if($asc&gt;=-18239&&$asc&lt;=-17923) return 'G';<BR>&nbsp;if($asc&gt;=-17922&&$asc&lt;=-17418) return 'H';<BR>&nbsp;if($asc&gt;=-17417&&$asc&lt;=-16475) return 'J';<BR>&nbsp;if($asc&gt;=-16474&&$asc&lt;=-16213) return 'K';<BR>&nbsp;if($asc&gt;=-16212&&$asc&lt;=-15641) return 'L';<BR>&nbsp;if($asc&gt;=-15640&&$asc&lt;=-15166) return 'M';<BR>&nbsp;if($asc&gt;=-15165&&$asc&lt;=-14923) return 'N';<BR>&nbsp;if($asc&gt;=-14922&&$asc&lt;=-14915) return 'O';<BR>&nbsp;if($asc&gt;=-14914&&$asc&lt;=-14631) return 'P';<BR>&nbsp;if($asc&gt;=-14630&&$asc&lt;=-14150) return 'Q';<BR>&nbsp;if($asc&gt;=-14149&&$asc&lt;=-14091) return 'R';<BR>&nbsp;if($asc&gt;=-14090&&$asc&lt;=-13319) return 'S';<BR>&nbsp;if($asc&gt;=-13318&&$asc&lt;=-12839) return 'T';<BR>&nbsp;if($asc&gt;=-12838&&$asc&lt;=-12557) return 'W';<BR>&nbsp;if($asc&gt;=-12556&&$asc&lt;=-11848) return 'X';<BR>&nbsp;if($asc&gt;=-11847&&$asc&lt;=-11056) return 'Y';<BR>&nbsp;if($asc&gt;=-11055&&$asc&lt;=-10247) return 'Z';<BR>&nbsp;return null;</P>
<P>}</div></P>
<hr></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/82518.html'>Win7中打开txt文件显示“无法找到脚本文件”解决方法</a><a>下一篇</a><a href='/php/biji/82520.html'>JavaScript Promise启示录</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>