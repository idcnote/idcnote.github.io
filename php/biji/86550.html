<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>jQuery验证插件validate使用方法详解_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="1. 写在前面<br />
　　我们知道，用户在注册的时候，会有个表单页面，然后有些选项是必填的，有些要填的内容是有规范的，这些都要在用户提交之前进行验证才行，如果不符合要求，需要在右边显示" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li><li><a href="/php/phpbiji/108382.html"></a></li><li><a href="/php/phpbiji/108384.html"></a></li><li><a href="/php/phpbiji/108383.html"></a></li><li><a href="/php/phpbiji/108385.html"></a></li><li><a href="/php/phpbiji/108386.html"></a></li><li><a href="/php/phpbiji/108388.html"></a></li><li><a href="/php/phpbiji/108387.html"></a></li><li><a href="/php/phpbiji/108389.html"></a></li><li><a href="/php/phpbiji/108391.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">jQuery验证插件validate使用方法详解</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>1. 写在前面<br />
　　我们知道，用户在注册的时候，会有个表单页面，然后有些选项是必填的，有些要填的内容是有规范的，这些都要在用户提交之前进行验证才行，如果不符合要求，需要在右边显示</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p><strong>1. 写在前面</strong></p>
<p>　　我们知道，用户在注册的时候，会有个表单页面，然后有些选项是必填的，有些要填的内容是有规范的，这些都要在用户提交之前进行验证才行，如果不符合要求，需要在右边显示一个友好的提示，让用户修改。 <br />
　　记得以前在学习Servlet的时候，实现一个简单的用户注册功能的验证是在后台做的，有些用了正则表达式，有些没用，但是都比较简单。流程是这样的，前台提交表单数据后，servlet获取数据先进行验证，如果不符合要求，将提示信息放到一个List中，然后再把List存到session中，跳转到一个新的页面做回显，把错误信息也显示出来，但是比较繁琐。 <br />
　　前面做网上商城项目的时候，用EasyUI做后台商品添加时，也做了验证的功能，EasyUI自带了验证的功能，还是很强大的，效果也不错。感兴趣的话不妨来看一下这篇文章。 <br />
　　但是前台用户注册的页面我们该如何做呢？这就是本文所要介绍的主要内容了，我们可以使用jQuery的Validate插件来做注册的验证功能，jQuery我也没有系统的学习，只是用到什么学什么，用到什么了解什么，所以如有错误之处，欢迎留言指正~下面我一步步通过代码详细介绍一下jQuery-Validate验证插件的使用步骤。 <br />
</p>
<p><strong>2. 效果展示</strong></p>
<p>　　首先来看一下最后实现的效果，先有个直观的感受，个人感觉还算可以的~能接受。 <br />
</p>
<p style="text-align: center"></p>
<p>　　从图中可以看出，包括输入前的提示，输入正确和错误的提示的功能，都已经完成。再看一下我的工程： <br />
</p>
<p style="text-align: center"></p>
<p>　　总共有6个jsp文件，之所以写成6个是为了一步步解说做这个效果的步骤，最后terminal.jsp是最终版的。运行的时候也只需要运行这个terminal.jsp即可。 下面我详细分析一下使用jQurey-Validate验证插件的过程。 <br />
</p>
<p><strong>3. Validate环境的搭建</strong></p>
<p>　 　环境搭建，肯定少不了jar包，我使用的是jQuery-validate-1.15，官方上给出了依赖的几个版本的jQuery，我下了jQuery-1.11.1。所以将这两个js文件放到工程中WebRoot/js中，并在jsp页面中导入即可。 <br />
</p>
<p style="text-align: center"></p>
<p>　　 demo1.jsp很简单，为了搭建环境而已，如果点击提交，不会跳转到指定页面表示环境搭建成功。 <br />
</p>
<p><strong>4. Validate基本方法的使用</strong></p>
<p>　&nbsp;&nbsp;&nbsp;&nbsp; 好了，环境搭建成功了，接下来我们开始使用Validate的基本方法了，这里还要导入一个js文件：additional-methods.js，新版本的jQuery-validate-1.15中没有对文件后缀的验证，后来我在官网上查了一下，官网上说放到additional-methods.js中了，所以我去下了个，放到工程中了，而且方法名也和老版本不太一样，下面再说。看一下demo2.jsp：<br />
&lt;%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%&gt;</p>
<div class="phpstudycode">
<pre class="brush:xhtml;">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
 &lt;head&gt;
 &lt;title&gt;jquery validate验证&lt;/title&gt;
 &lt;script type="text/javascript" src="js/jquery-1.11.1.js"&gt;&lt;/script&gt;
 &lt;script type="text/javascript" src="js/jquery.validate.js"&gt;&lt;/script&gt;
 &lt;script type="text/javascript" src="js/additional-methods.js"&gt;&lt;/script&gt;
 &lt;script type="text/javascript"&gt;
 $(function(){
 //让当前表单调用validate方法，实现表单验证功能
 $("#ff").validate({
 debug:true, //调试模式，即使验证成功也不会跳转到目标页面
 rules:{ //配置验证规则，key就是被验证的dom对象，value就是调用验证的方法(也是json格式)
  sname:{
  required:true, //必填。如果验证方法不需要参数，则配置为true
  rangelength:[6,12]
  },
  spass:{
  required:true,
  rangelength:[6,12]
  },
  spass2:{
  required:true,
  equalTo:'#spass' //表示和id="spass"的值相同
  },
  slike:{
  required:true,
  },
  semail:{
  required:true,
  email:true
  },
  simage:{
  required:true,
  extension:'gif|jpe&#63;g|png'
  }
 }
 });
 });
 &lt;/script&gt;
 &lt;/head&gt;

 &lt;body&gt;
 &lt;!-- 
 &lt;ul&gt;
 &lt;li&gt;演示基本方法的使用&lt;/li&gt;
 &lt;li&gt;jquery.validate.js中260行有缺省的验证配置&lt;/li&gt;
 &lt;li&gt;jquery.validate.js中354行有验证方法出错的消息，即告诉我们都有哪些验证方法&lt;/li&gt;
 &lt;/ul&gt;
 --&gt;
 &lt;form id="ff" action="http://www.hao123.com" method="post"&gt;
 姓名：&lt;input type="text" name="sname" /&gt;&lt;br/&gt;
 密码：&lt;input type="password" name="spass" id="spass"/&gt;&lt;br/&gt;
 确认密码：&lt;input type="password" name="spass2" /&gt;&lt;br/&gt;
 爱好：
 上网：&lt;input type="checkbox" name="slike" value="上网"/&gt;
 唱歌：&lt;input type="checkbox" name="slike" value="唱歌"/&gt;
 编程：&lt;input type="checkbox" name="slike" value="编程"/&gt;
 书法：&lt;input type="checkbox" name="slike" value="书法"/&gt;&lt;br/&gt;
 邮箱：&lt;input type="text" name="semail" /&gt;&lt;br/&gt;
 头像：&lt;input type="file" name="simage" /&gt;&lt;br/&gt;
 &lt;input type="submit" value="提交"&gt;
 &lt;/form&gt;
 &lt;/body&gt;
&lt;/html&gt;

</pre>
</div>
<p>　　demo2中，我们写了一些基本的表单了，并且在js中对其进行了验证，validate中定义了一些缺省的验证，required表示必填字段，rangelength表示长度范围，用数组表示范围边界，equalTo后面跟一个id，表示跟后面跟的id的元素内容相同，这里说一下extension，表示后缀，以前版本叫accept，新版本中改为extension了，网上的搜索的关于后缀的验证都是accept，新版没了，而且extension就是在新加的additional-methods.js中。我们看一下这个版本的效果： <br />
</p>
<p style="text-align: center"></p>
<p>　　有点丑……因为还没做css， 但是我直接点击提交，会出现一些验证信息了，这些都是默认的信息，是源码中提供的，说明一点，验证功能生效了，我们下面就改写一下后面显示的信息，这些默认的显然不太友好。</p>
<p><strong>5. 实现错误消息的本地化</strong></p>
<p>　 　我们可以指定messages消息的显示内容，也是json格式的，如下：<br />
<span style="color: #800000">&lt;%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%&gt;</span></p>
<div class="phpstudycode">
<pre class="brush:xhtml;">
&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
 &lt;head&gt;
 &lt;title&gt;jquery validate验证&lt;/title&gt;
 &lt;script type="text/javascript" src="jquery-1.11.1.js"&gt;&lt;/script&gt;
 &lt;script type="text/javascript" src="jquery.validate.js"&gt;&lt;/script&gt;
 &lt;script type="text/javascript" src="additional-methods.js"&gt;&lt;/script&gt;
 &lt;script type="text/javascript"&gt;
 $(function(){
 //让当前表单调用validate方法，实现表单验证功能
 $("#ff").validate({
 debug:true, //调试模式，即使验证成功也不会跳转到目标页面
 rules:{ //配置验证规则，key就是被验证的dom对象，value就是调用验证的方法(也是json格式)
  sname:{
  required:true, //必填。如果验证方法不需要参数，则配置为true
  rangelength:[6,12]
  },
  spass:{
  required:true,
  rangelength:[6,12]
  },
  spass2:{
  required:true,
  equalTo:'#spass' //表示和id="spass"的值相同
  },
  saddress:{
  required:true
  },
  semail:{
  required:true,
  email:true
  },
  simage:{
  required:true,
  extension:'gif|jpe&#63;g|png'
  }
 },
 messages:{
  sname:{
  required:"请输入用户名",
  rangelength:$.validator.format("用户名长度在必须为：{0}-{1}之间")
  },
  spass:{
  required:"请输入密码",
  rangelength:$.validator.format("字段长度必须为：{0}-{1}之间")
  },
  spass2:{
  required:"请再次输入密码",
  equalTo:"两次密码必须一致" //表示和id="spass"的值相同
  },
  saddress:{
  required:"请选择地址"
  },
  semail:{
  required:"请填写邮件",
  email:"邮箱格式不正确"
  },
  simage:{
  required:"请选择要上传的头像",
  extension:"文件后缀名必须为jpg,jpeg,gif,png"
  }
 }
 });
 });
 &lt;/script&gt;
 &lt;/head&gt;

 &lt;body&gt;
 &lt;!-- body中的内容不变，省略不写了 --&gt;
 &lt;/body&gt;
&lt;/html&gt;

</pre>
</div>
<p>　　相当于覆写了原来默认的消息提示，来看下效果： <br />
</p>
<p style="text-align: center"></p>
<p>　　这就有点感觉了。继续往下完善。</p>
<p><strong>6. 实现远程验证</strong></p>
<p>　&nbsp;&nbsp;&nbsp;&nbsp; 所谓远程验证，指的是当用户注册时输入用户名时，系统得从数据库中查询是否已经有该用户名了，如果有则告诉用户已经有人注册过了该名字了，但是我们不用去查数据库，我们写个Action模拟下即可，主要是实现validate插件和Action之间的通信。看demo4.jsp：<br />
</p>
<div class="phpstudycode">
<pre class="brush:xhtml;">
&lt;%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%&gt;


&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
 &lt;head&gt;
 &lt;title&gt;jquery validate验证&lt;/title&gt;
 &lt;script type="text/javascript" src="js/jquery-1.11.1.js"&gt;&lt;/script&gt;
 &lt;script type="text/javascript" src="js/jquery.validate.js"&gt;&lt;/script&gt;
 &lt;script type="text/javascript" src="js/additional-methods.js"&gt;&lt;/script&gt;
 &lt;script type="text/javascript"&gt;
 $(function(){
 //让当前表单调用validate方法，实现表单验证功能
 $("#ff").validate({
 debug:true, //调试模式，即使验证成功也不会跳转到目标页面
 onkeyup:null, //当丢失焦点时才触发验证请求
 rules:{ //配置验证规则，key就是被验证的dom对象，value就是调用验证的方法(也是json格式)
  sname:{
  required:true, //必填。如果验证方法不需要参数，则配置为true
  rangelength:[3,12],
  remote:{
  url:"ajax_check.action",
  type:"post"
  }
  },
  spass:{
  required:true,
  rangelength:[6,12]
  },
  spass2:{
  required:true,
  equalTo:'#spass' //表示和id="spass"的值相同
  },
  saddress:{
  required:true
  },
  semail:{
  required:true,
  email:true
  },
  simage:{
  required:true,
  extension:'gif|jpe&#63;g|png'
  }
 },
 messages:{
  sname:{
  required:"请输入用户名",
  rangelength:$.validator.format("用户名长度在必须为：{0}-{1}之间"),
  remote:"该用户名已存在！"
  },
  spass:{
  required:"请输入密码",
  rangelength:$.validator.format("字段长度必须为：{0}-{1}之间")
  },
  spass2:{
  required:"请再次输入密码",
  equalTo:"两次密码必须一致" //表示和id="spass"的值相同
  },
  saddress:{
  required:"请选择地址"
  },
  semail:{
  required:"请填写邮件",
  email:"邮箱格式不正确"
  },
  simage:{
  required:"请选择要上传的头像",
  extension:"文件后缀名必须为jpg,jpeg,gif,png"
  }
 }
 });
 });
 &lt;/script&gt;
 &lt;/head&gt;

 &lt;body&gt;
 &lt;!-- body中的内容不变，省略不写了 --&gt;
 &lt;/body&gt;
&lt;/html&gt;

</pre>
</div>
<p>　　我们看到，在sname里面新加了个remote方法，这个是用来远程验证的，参数url是要发送的请求Action，所以我们后台写个AjaxAction，在AjaxAction中写过check方法来，判断用户名是否为admin，如果是，则以流的形式返回false，前台接收到false就会验证失败，返回true则验证成功。失败了则告诉用户该用户名已存在，后台Action这里就不写了，见我上传的源码即可。我们来看下效果： <br />
</p>
<p style="text-align: center"></p>
<p><strong>7. 自定义验证方法</strong>　 <br />
</p>
<p>　　我们也可以自定义验证的方法，比如手机号，我们可以自己定义验证方法，自己定义的方法最好写在扩展js中，我们自己写一个jquery.validate.extend.js放到js文件夹中，在该文件中写上：<br />
</p>
<div class="phpstudycode">
<pre class="brush:js;">
//自定义方法，完成手机号码的验证
//name:自定义方法的名称，method：函数体, message:错误消息
$.validator.addMethod("phone", function(value, element, param){
 //方法中又有三个参数:value:被验证的值， element:当前验证的dom对象，param:参数(多个即是数组)
 //alert(value + "," + $(element).val() + "," + param[0] + "," + param[1]);
 return new RegExp(/^1[3458]\d{9}$/).test(value);

}, "手机号码不正确");

</pre>
</div>
<p>　　addMethod表示新加的方法，第一个参数是方法名，第二个参数是函数体，第三个参数表示验证错误消息。其中函数体中，又有三个参数，value表示验证的值，element表示当前dom对象，param表示参数。我们使用正则表达式验证了手机号。这里就不测试了。最后我们来看一下终极的表单验证，终极验证表单需要加上CSS了，下面是完整的终极验证代码。</p>
<p><strong>8. 验证表单完整版</strong></p>
<p><span style="color: #800000"><strong>8.1 Html表单</strong></span></p>
<p>　　为了让表单结构简单而清晰，我们将表单的每个元素都包裹在一个div结构中：用label标签用来标记元素的名称，接着便是表单元素本身。【注明：1.使用label标签的好处是为鼠标用户改进了可用性。当在label元素内点击文本时，浏览器就会自动将焦点转到和label相关的表单控件上。2.每个需要校验的表单元素都应该设置id和name属性，方便在使用插件时将元素绑定校验规则和校验信息。】 <br />
</p>
<p>　　表单实现代码如下：</p>
<p></p>
<div class="phpstudycode">
<pre class="brush:xhtml;">
&lt;%@ page language="java" import="java.util.*" pageEncoding="UTF-8"%&gt;


&lt;!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"&gt;
&lt;html&gt;
 &lt;head&gt;
 &lt;title&gt;jquery validate验证&lt;/title&gt;
 &lt;link rel="stylesheet" href="css/form.css" /&gt;
 &lt;script type="text/javascript" src="js/jquery-1.11.1.js"&gt;&lt;/script&gt;
 &lt;script type="text/javascript" src="js/jquery.validate.js"&gt;&lt;/script&gt;
 &lt;script type="text/javascript" src="js/additional-methods.js"&gt;&lt;/script&gt;
 &lt;script type="text/javascript" src="js/jquery.validate.extend.js"&gt;&lt;/script&gt;
 &lt;script type="text/javascript"&gt;
 $(function(){

 //让当前表单调用validate方法，实现表单验证功能
 $("#ff").validate({
 debug:true, //调试模式，即使验证成功也不会跳转到目标页面
 rules:{ //配置验证规则，key就是被验证的dom对象，value就是调用验证的方法(也是json格式)
  sname:{
  required:true, //必填。如果验证方法不需要参数，则配置为true
  rangelength:[4,12],
  remote:{
  url:"ajax_check.action",
  type:"post"
  }
  },
  spass:{
  required:true,
  rangelength:[6,16]
  },
  spass2:{
  required:true,
  equalTo:'#password' //表示和id="spass"的值相同
  },
  saddress:{
  required:true
  },
  sphone:{
  required:true,
  phone:true
  },
  slike:{
  required:true,
  },
  semail:{
  required:true,
  email:true
  },
  simage:{
  required:true,
  extension:'gif|jpe&#63;g|png'
  }
 },
 messages:{
  sname:{
  required:"请输入用户名",
  rangelength:$.validator.format("用户名长度为{0}-{1}个字符"),
  remote:"该用户名已存在！"
  },
  spass:{
  required:"请输入密码",
  rangelength:$.validator.format("密码长度为{0}-{1}个字符")
  },
  spass2:{
  required:"请再次输入密码",
  equalTo:"两次密码必须一致" //表示和id="spass"的值相同
  },
  sphone:{
  required:"请输入手机号"
  },
  saddress:{
  required:"请选择地址"
  },
  slike:{
  required:"请选择爱好",
  },
  semail:{
  required:"请填写邮件",
  email:"邮箱格式不正确"
  },
  simage:{
  required:"请选择要上传的头像",
  extension:"文件后缀名必须为jpg,jpeg,gif,png"
  }
 }
 });
 });
 &lt;/script&gt;
 &lt;/head&gt;

 &lt;body&gt;
 &lt;form action="http://www.hao123.com" method="post" id="ff"&gt;
 &lt;fieldset&gt;
 &lt;legend&gt;jQuery-Validate表单校验验证&lt;/legend&gt;
 &lt;div class="item"&gt;
 &lt;label for="username" class="item-label"&gt;用户名:&lt;/label&gt;
 &lt;input type="text" id="username" name="sname" class="item-text" placeholder="设置用户名"
 autocomplete="off" tip="请输入用户名"&gt;
 &lt;/div&gt;
 &lt;div class="item"&gt;
 &lt;label for="password" class="item-label"&gt;密码:&lt;/label&gt;
 &lt;input type="password" id="password" name="spass" class="item-text" 
 placeholder="设置密码" tip="长度为6-16个字符"&gt;
 &lt;/div&gt;
 &lt;div class="item"&gt;
 &lt;label for="password" class="item-label"&gt;确认密码:&lt;/label&gt;
 &lt;input type="password" name="spass2" class="item-text" placeholder="设置确认密码"&gt;
 &lt;/div&gt;
 &lt;div class="item"&gt;
 &lt;label for="phone" class="item-label"&gt;手机号码:&lt;/label&gt;
 &lt;input type="text" id="phone" name="sphone" class="item-text" placeholder="输入手机号码" tip="请输入手机号码"&gt;
 &lt;/div&gt;
 &lt;div class="item"&gt;
 &lt;label for="saddress" class="item-label"&gt;所在地:&lt;/label&gt;
 &lt;select name="saddress" class="item-select"&gt;
  &lt;option value=""&gt;---请选择---&lt;/option&gt;
  &lt;option value="北京"&gt;北京&lt;/option&gt;
  &lt;option value="上海"&gt;上海&lt;/option&gt;
  &lt;option value="深圳"&gt;深圳&lt;/option&gt;
 &lt;/select&gt;
 &lt;/div&gt;
 &lt;div class="item"&gt;
 &lt;label for="slike" class="item-label"&gt;爱好：&lt;/label&gt;
   上网：&lt;input type="checkbox" name="slike" value="上网"/&gt;
 唱歌：&lt;input type="checkbox" name="slike" value="唱歌"/&gt;
 编程：&lt;input type="checkbox" name="slike" value="编程"/&gt;
 书法：&lt;input type="checkbox" name="slike" value="书法"/&gt;&lt;br/&gt;
 &lt;/div&gt;
 &lt;div class="item"&gt;
 &lt;label for="semail" class="item-label"&gt;邮箱:&lt;/label&gt;
 &lt;input type="text" id="semail" name="semail" class="item-text" placeholder="设置邮箱" 
 autocomplete="off" tip="请输入邮箱"&gt;
 &lt;/div&gt;
 &lt;div class="item"&gt;
 &lt;label for="simage" class="item-label"&gt;头像:&lt;/label&gt;
 &lt;input type="file" name="simage" class="item-file"&gt;
 &lt;/div&gt;
 &lt;div class="item"&gt;
 &lt;input type="submit" value="提交" class="item-submit"&gt;
 &lt;/div&gt;
 &lt;/fieldset&gt;
 &lt;/form&gt;
 &lt;/body&gt;
&lt;/html&gt;

</pre>
</div>
<p><span style="color: #800000"><strong>8.2 表单验证js逻辑</strong></span></p>
<p>　　接着我们通过js来实现对表单元素的校验。在校验之前，我对jquery validate插件进行了功能扩展，对默认的选项进行了重写覆盖。jquery validate插件默认只提供了校验正确及错误时的提示，缺少我们常见的帮助信息提示。为了解决这个问题，我研究了插件的源码，发现插件本身提供了onfocusin（校验元素获得焦点时调用）和onfocusout（校验元素失去焦点时调用）这两个函数。通过修改默认参数的这两个接口，可以实现党用户鼠标点击或选择元素时（即元素获得焦点），提示帮助信息；在用户鼠标离开元素时（即元素失去焦点），移除帮助信息。 <br />
　　此外，jquery validate默认提供表单元素输入时的实时校验，因为我们要求在输入时只提示用户帮助信息，故需要关闭输入的实时校验，为此我们将默认参数中的onkeyup设置为null。 <br />
　　具体的扩展改进代码我放到了新增js脚本jquery.validate.extend.js中，代码如下：</p>
<p></p>
<div class="phpstudycode">
<pre class="brush:js;">
/*************************插件新功能-设置插件validator的默认参数*****************************************/
$.validator.setDefaults({
 /*关闭键盘输入时的实时校验*/
 onkeyup: null,
 /*添加校验成功后的执行函数--修改提示内容，并为正确提示信息添加新的样式(默认是valid)*/
 success: function(label){
 /*label的默认正确样式为valid，需要通过validClass来重置，否则这里添加的其他样式不能被清除*/
 label.text('').addClass('valid');
 },
 /*重写校验元素获得焦点后的执行函数--增加[1.光标移入元素时的帮助提示,2.校验元素的高亮显示]两个功能点*/
 onfocusin: function( element ) {
 this.lastActive = element;

 /*1.帮助提示功能*/
 this.addWrapper(this.errorsFor(element)).hide();
 var tip = $(element).attr('tip');
 //alert(tip);
 if(tip && $(element).parent().children(".tip").length === 0){
 $(element).parent().append("&lt;label class='tip'&gt;" + tip + "&lt;/label&gt;");
 }

 /*2.校验元素的高亮显示*/
 $(element).addClass('highlight');

 // Hide error label and remove error class on focus if enabled
 if ( this.settings.focusCleanup ) {
 if ( this.settings.unhighlight ) {
 this.settings.unhighlight.call( this, element, this.settings.errorClass, this.settings.validClass );
 }
 this.hideThese( this.errorsFor( element ) );
 }
 },
 /*重写校验元素焦点离开时的执行函数--移除[1.添加的帮助提示,2.校验元素的高亮显示]*/
 onfocusout: function( element ) {
 /*1.帮助提示信息移除*/
 $(element).parent().children(".tip").remove();

 /*2.校验元素高亮样式移除*/
 $(element).removeClass('highlight');

 /*3.替换下面注释的原始代码，任何时候光标离开元素都触发校验功能*/
 //this.element( element );

 if ( !this.checkable( element ) && ( element.name in this.submitted || !this.optional( element ) ) ) {
 this.element( element );
 }
 }
});

//自定义方法，完成手机号码的验证
//name:自定义方法的名称，method：函数体, message:错误消息
$.validator.addMethod("phone", function(value, element, param){
 //方法中又有三个参数:value:被验证的值， element:当前验证的dom对象，param:参数(多个即是数组)
 //alert(value + "," + $(element).val() + "," + param[0] + "," + param[1]);
 return new RegExp(/^1[3458]\d{9}$/).test(value);

}, "手机号码不正确");

</pre>
</div>
<p><span style="color: #800000"><strong>8.3 表单验证css样式</strong></span></p>
<p>　　最后还要为页面元素添加css样式。插件中有一系列默认选项：其中默认错误显示标签为label，错误样式为label.error。上面在jquery.validate.extend.js文件中，有一个success函数需要说明一下。这个函数是在校验成功的时候执行的，我们在函数中为label提示标签添加了校验正确对应的样式label.valid。因此在css中如果要美化信息提示，需要对label相关样式如error,valid样式进行设计。此外我们在扩展插件功能中添加了一个class为tip的label标签，该标签仅在校验元素获得焦点时生成。为此，还需要设置label的tip样式。 <br />
　　完整的样式文件内容具体如下：</p>
<div class="phpstudycode">
<pre class="brush:css;">
body{
 font-family: Microsoft Yahei;
 font-size: 15px;
}

fieldset{ width: 650px; }

legend{ 
 text-align: center;
 font-size: 20px;
}

.item{
 height: 56px;
 line-height: 30px;
 margin: 10px;
}

.item .item-label{
 float: left;
 width: 80px;
 text-align: right;
}

.item-text{
 float: left;
 width: 240px;
 height: 30px;
 padding: 9px 25px 9px 5px;
 margin-left: 10px;
 border: 1px solid #ccc;
 overflow: hidden;
}

.item-select{
 float: left;
 height: 30px;
 border: 1px solid #ccc;
 margin-left: 10px;
 font-size: 14px;
 padding: 6px 0px;
}

.item-file{
 float: left;
 height: 30px;
 margin-left: 10px;
 font-size: 14px;
 padding: 6px 0px;
}

.item-submit{
 float: left;
 height: 30px;
 width: 50px;
 margin-left: 90px;
 font-size: 14px;
}

input.error{
 border: 1px solid #E6594E;
}

input.highlight{
 border: 1px solid #7abd54;
}

label.error{
 float: left;
 height: 30px;
 line-height: 30px;
 font-size: 14px;
 text-align: left;
 margin-left: 5px;
 padding-left: 35px;
 color: red;
 background: url('../image/error.png') no-repeat left center;
}

label.tip{
 float: left;
 height: 30px;
 line-height: 30px;
 font-size: 14px;
 text-align: left;
 margin-left: 5px;
 padding-left: 35px;
 color: #aaa;
 background: url('../image/tip.png') no-repeat left center;
 padding-left: 35px;
}

label.valid{
 background: url('../image/valid.png') no-repeat left center;
}

</pre>
</div>
<p>　　至此，表单验证就做好了，这里就不再展示了，看最前面即可。效果还可以，不过还可以更加完善，我对jQuery了解的也不太多，希望大家共同进步！</p>
<p>源码下载：验证插件validate</p>
<p>原文地址：http://blog.csdn.net/eson_15/article/details/51497533</p>
<p>以上就是本文的全部内容，希望能给大家一个参考，也希望大家多多支持phpstudy。</p>
<hr></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/biji/86549.html'>基于Bootstrap实现下拉菜单项和表单导航条(两个菜单项，一个下拉菜单和登录表单导航条)</a><a>下一篇</a><a href='/php/biji/86551.html'>Mysql select语句设置默认值的方法</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>