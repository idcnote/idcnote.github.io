<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>PHP+jQuery制作的列表分页的功能模块的解决办法_PHP教程_IDC笔记</title>
    <meta name="keywords" content="PHP,PHP笔记,PHP教程" />
    <meta name="description" content="这篇文章主要为大家详细介绍了PHP+jQuery制作的列表分页的功能模块的简单示例，具有一定的参考价值，可以用来参考一下。" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP简介			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jianjie/1.html">PHP简介</a></li><li><a href="/php/jianjie/2.html">PHP用途</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP基本语法			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yufa/3.html">分离HTML</a></li><li><a href="/php/yufa/4.html">指令分隔符</a></li><li><a href="/php/yufa/5.html">PHP注释</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类型			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpleixing/6.html">PHP类型简介</a></li><li><a href="/php/phpleixing/7.html">PHP类型之布尔类型</a></li><li><a href="/php/phpleixing/8.html">PHP类型之整型</a></li><li><a href="/php/phpleixing/9.html">PHP类型之浮点型</a></li><li><a href="/php/phpleixing/10.html">PHP类型之字符串</a></li><li><a href="/php/phpleixing/11.html">PHP类型之数组</a></li><li><a href="/php/phpleixing/12.html">PHP类型之对象</a></li><li><a href="/php/phpleixing/13.html">PHP类型之资源类型</a></li><li><a href="/php/phpleixing/14.html">PHP类型之NULL</a></li><li><a href="/php/phpleixing/15.html">PHP类型之伪类型</a></li><li><a href="/php/phpleixing/16.html">PHP类型之类型判别</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP变量			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbianliang/17.html">PHP变量之基础</a></li><li><a href="/php/phpbianliang/18.html">PHP变量之预定义变量</a></li><li><a href="/php/phpbianliang/19.html">PHP变量之变量范围</a></li><li><a href="/php/phpbianliang/20.html">PHP变量之可变变量</a></li><li><a href="/php/phpbianliang/21.html">PHP变量之外部变量</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP运算符			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yunsuanfu/22.html">PHP运算符优先级</a></li><li><a href="/php/yunsuanfu/23.html">算术运算符</a></li><li><a href="/php/yunsuanfu/24.html">赋值运算符</a></li><li><a href="/php/yunsuanfu/25.html">位运算符</a></li><li><a href="/php/yunsuanfu/26.html">比较运算符</a></li><li><a href="/php/yunsuanfu/27.html">错误控制运算符</a></li><li><a href="/php/yunsuanfu/28.html">执行运算符</a></li><li><a href="/php/yunsuanfu/29.html">递增/递减运算符</a></li><li><a href="/php/yunsuanfu/30.html">逻辑运算符</a></li><li><a href="/php/yunsuanfu/31.html">字符串运算符</a></li><li><a href="/php/yunsuanfu/32.html">数组运算符</a></li><li><a href="/php/yunsuanfu/33.html">类型运算符</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP控制结构			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/jiegou/34.html">PHP控制结构之if</a></li><li><a href="/php/jiegou/35.html">PHP控制结构之else</a></li><li><a href="/php/jiegou/36.html">PHP控制结构之elseif/else if</a></li><li><a href="/php/jiegou/37.html">PHP控制结构之替代语法</a></li><li><a href="/php/jiegou/38.html">PHP控制结构之while</a></li><li><a href="/php/jiegou/39.html">PHP控制结构之do-while</a></li><li><a href="/php/jiegou/40.html">PHP控制结构之for</a></li><li><a href="/php/jiegou/41.html">PHP控制结构之foreach</a></li><li><a href="/php/jiegou/42.html">PHP控制结构之break</a></li><li><a href="/php/jiegou/43.html">PHP控制结构之continue</a></li><li><a href="/php/jiegou/44.html">PHP控制结构之switch</a></li><li><a href="/php/jiegou/45.html">PHP控制结构之declare</a></li><li><a href="/php/jiegou/46.html">PHP控制结构之return</a></li><li><a href="/php/jiegou/47.html">PHP控制结构之require</a></li><li><a href="/php/jiegou/48.html">PHP控制结构之include</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/hanshu/52.html">用户自定义函数</a></li><li><a href="/php/hanshu/53.html">函数的参数</a></li><li><a href="/php/hanshu/54.html">返回值</a></li><li><a href="/php/hanshu/55.html">可变函数</a></li><li><a href="/php/hanshu/56.html">内部（内置）函数</a></li><li><a href="/php/hanshu/57.html">匿名函数</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpduixiang/58.html">类与对象前言</a></li><li><a href="/php/phpduixiang/59.html">基本概念</a></li><li><a href="/php/phpduixiang/60.html">属性</a></li><li><a href="/php/phpduixiang/61.html">类常量</a></li><li><a href="/php/phpduixiang/62.html">自动加载对象</a></li><li><a href="/php/phpduixiang/63.html">构造函数和析构函数</a></li><li><a href="/php/phpduixiang/64.html">访问控制</a></li><li><a href="/php/phpduixiang/65.html">对象继承</a></li><li><a href="/php/phpduixiang/66.html">Static关键字</a></li><li><a href="/php/phpduixiang/67.html">抽象类</a></li><li><a href="/php/phpduixiang/68.html">接口</a></li><li><a href="/php/phpduixiang/69.html">Traits</a></li><li><a href="/php/phpduixiang/70.html">重载</a></li><li><a href="/php/phpduixiang/71.html">对象迭代</a></li><li><a href="/php/phpduixiang/72.html">设计模式</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP异常处理			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/yichang/81.html">异常处理</a></li><li><a href="/php/yichang/82.html">扩展PHP内置的异常处理类</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> PHP函数库按分类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpku/83.html">数组</a></li><li><a href="/php/phpku/84.html">Classes/Objects</a></li><li><a href="/php/phpku/85.html">Date/Time</a></li><li><a href="/php/phpku/86.html">Directories</a></li><li><a href="/php/phpku/87.html">错误处理</a></li><li><a href="/php/phpku/88.html">Program execution</a></li><li><a href="/php/phpku/89.html">Filesystem</a></li><li><a href="/php/phpku/90.html">Filter</a></li><li><a href="/php/phpku/91.html">Function Handling</a></li><li><a href="/php/phpku/92.html">PHP 选项/信息</a></li><li><a href="/php/phpku/93.html">Mail</a></li><li><a href="/php/phpku/94.html">Math</a></li><li><a href="/php/phpku/95.html">Misc.</a></li><li><a href="/php/phpku/96.html">Network</a></li><li><a href="/php/phpku/97.html">输出控制</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> php基础			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/php/phpbiji/122.html"></a></li><li><a href="/php/phpbiji/123.html"></a></li><li><a href="/php/phpbiji/124.html"></a></li><li><a href="/php/phpbiji/125.html"></a></li><li><a href="/php/phpbiji/126.html"></a></li><li><a href="/php/phpbiji/127.html"></a></li><li><a href="/php/phpbiji/128.html"></a></li><li><a href="/php/phpbiji/129.html"></a></li><li><a href="/php/phpbiji/130.html"></a></li><li><a href="/php/phpbiji/108377.html"></a></li><li><a href="/php/phpbiji/108376.html"></a></li><li><a href="/php/phpbiji/108380.html"></a></li><li><a href="/php/phpbiji/108379.html"></a></li><li><a href="/php/phpbiji/108378.html"></a></li><li><a href="/php/phpbiji/108381.html"></a></li>		</ul>
	</li>
		<li>
	    <a href="/php/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>PHP笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">PHP+jQuery制作的列表分页的功能模块的解决办法</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>这篇文章主要为大家详细介绍了PHP+jQuery制作的列表分页的功能模块的简单示例，具有一定的参考价值，可以用来参考一下。</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p>这篇文章主要为大家详细介绍了PHP+jQuery制作的列表分页的功能模块的简单示例，具有一定的参考价值，可以用来参考一下。</p>
<p>做了一个列表分页的功能模块，主要的文件包括分页类 page.class.php 和 控制 ajax 分页的ajax.js，主要功能有：</p>
<p>1.可以选择 3 种常见的 url 分页格式；</p>
<p>2.可以选择 url 分页 还是 ajax 分页；</p>
<p>3.两种分页方式都可以自定义分页 a 标签的文字；</p>
<p>4.url 分页方式可以自定义分页偏移量；</p>
<p>5.url 分页方式可以选择手动跳转方式：手动输入页码跳转 或 下拉菜单选择页码跳转。</p>
<p>&nbsp;</p>
<p>列表分页功能含有但不一定全部包含的元素包括：</p>
<p>首页、下一页、上一页、末页、具体页码、手动输入的跳转至第几页、下拉菜单选择跳转至第几页、信息( 共多少页、共多少条、当前是第几页 )等。</p>
<p>其中必须包含的元素有：上一页、下一页、具体页码。</p>
<p>先看看其他网站是怎么做的( 百度搜索、虎扑、淘宝、虾米、织梦官网 )：</p>
<p>1.百度搜索就是由最简单的&quot;上一页&quot;、&quot;下一页&quot;和具体页码构成。分页偏移量为前5页后4页</p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p>&nbsp;</p>
<p>2.虎扑话题( http://bbs.hupu.com/topic-5)的页码包括了&quot;上一页&quot;、&quot;下一页&quot;、具体页码、手动输入跳转至第几页、信息等元素，还包括首页和末页，只不过这里的首页和末页不是用文字而是用具体页码表现出来。分页偏移量前后都是4页。博客园的列表页( http://www.cnblogs.com/cate/php/#p12) 是相同的处理方式。</p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p>&nbsp;</p>
<p>3.淘宝网宝贝列表页( http://s.taobao.com/list?spm=a217v.7289245.1997888733.7.4JHYae&amp;seller_type=taobao&amp;sort=sale-desc&amp;cat=50029216&amp;sd=0&amp;tid=0&amp;olu=yes&amp;isnew=2&amp;navid=city&amp;smc=1&amp;_input_charset=utf-8&amp;tab=all&amp;app=list&amp;s=0&amp;auction_tag[]=12034)，包含&quot;上一页&quot;、&quot;下一页&quot;、具体页码、信息、手动输入跳转至第几页 ( 还有个小小的效果，点击去第几页的输入框时会弹出确定按钮 )，也包含首页，只不过首页是用页码1代替。分页偏移量前后都是2页</p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p>&nbsp;</p>
<p>4.虾米列表( http://www.xiami.com/collect/recommend?spm=a1z1s.2943601.6856193.30.dqFWiZ)，包含&quot;上一页&quot;、&quot;下一页&quot;、具体页码、可跳转的省略页码( ... )、信息，也包括以页码1显示的首页。分页偏移量为前2页后5页</p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p>&nbsp;</p>
<p>最后是织梦官网文章列表页( http://www.dedecms.com/news/list_133_11.html)，包含了&quot;首页&quot;、&quot;上一页&quot;、&quot;下一页&quot;、具体页码、&quot;末页&quot;、下拉菜单选择跳转至第几页、信息。分页偏移量前后都是5页：</p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p>浏览至第11页时非常遗憾，宽度过宽导致版式出现问题：</p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p>&nbsp;</p>
<p>这个分页功能的做法和效果是：</p>
<p>1.url 分页 style1：</p>
<p>①手动输入跳转页码的方式：</p>
<p>始终显示最后一页</p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p>&quot;...&quot;跳转至 当前显示的除末页的最大页码的下一页，鼠标放在上面给出提示</p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p>前后偏移量可自定义，可相同可不同，前面的&quot;...&quot;跳转至最前页除首页的页码的前一页</p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p>&nbsp;</p>
<p>②下拉菜单选择跳转的方式：</p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p>2.url 分页 style2：</p>
<p>使用&quot;首页&quot;和&quot;末页&quot;代替页码&quot;1&quot;和最后一页页码，使用前n页、后n页代替&quot;...&quot;</p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p>为了使&quot;前10页&quot;和&quot;后10页&quot;同时出现，增加了数据库的数据</p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p>同样有下拉菜单跳转方式</p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p>&nbsp;</p>
<p>3.ajax 分页：</p>
<p>出现的元素只有&quot;首页&quot;、&quot;上一页&quot;、&quot;下一页&quot;和&quot;末页&quot;。</p>
<p>首页时：</p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p>中间时：</p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p>末页时：</p>
<p><!---ecms -ecms 
【图缺】
--></p>
<p>&nbsp;</p>
<p>模块的文件结构图：</p>
<p>ROOT:├─conn│ └─conn.php│├─libs -- smarty库│├─templates│ ││ ├─demo.html -- 功能页模板文件│ ││ ├─css│ │ ├─common.css│ │ └─style1.css│ ││ ├─images│ │ └─loading.gif -- ajax分页时请求数据接收到之前的加载图│ └─js│ ├─jquery-1.8.3.min.js│ └─ajax.js -- 当分页方式为ajax时模板demo.html加载的js│├─templates_c│├─init.inc.php -- smarty配置文件│├─page.class.php -- 分页类│├─demo.php│└─ajaxpage.php -- ajax分页时接受请求的php文件</p>
<p>&nbsp;</p>
<p>要注意的地方：</p>
<p>1.偏移量的显示设置，主要是什么时候 url 分页方式1，什么时候显示&quot;...&quot; ：当前页码 - 前偏移量 - 1 &gt; 1 时，应当显示前面的&quot;...&quot;； 当前页码 + 后偏移量 + 1 &lt; 总页数时，应当显示后面的&quot;...&quot;；</p>
<p>2.选择性加载 js ：当使用 ajax 方式进行分页时，才加载 ajax.js</p>
<p>3.外部的 js 无法解析 smarty 的标签，所以在使用外部 js 时的传值要进行处理</p>
<p>4.ajax 分页时，默认是第一页，也就是一定首先会出现 &quot;下一页&quot; 和 &quot;末页&quot;，所以 &quot;上一页&quot; 和 &quot;首页&quot; 的添加和点击函数应当包含在&quot;下一页&quot; 和 &quot;末页&quot; 的点击函数中。</p>
<p>&nbsp;</p>
<p>主要代码：</p>
<p>page.class.php:</p>
<p>代码如下：</p>
<pre>
<code>
&lt;?php

class MyPageUrl{

  private $totalNum;
  private $perpageNum;    //每页显示条数  
  private $pageNow;      //当前页页码
  private $url;        //当前url

  
  //页码显示
  private $pageStyle; //页码样式，提供2种样式

  private $prePage;    //页码前偏移量
  private $floPage;    //页码后偏移量

  private $skipStyle;    //手动跳转，0为手动输入页码，1为下拉菜单选择页码

  private $page_act;    //翻页样式 0:url 1:ajax

  //页码文字
  //style2&amp;style3
  private $firstFonts = &quot;首页&quot;;
  private $lastFonts = &quot;末页&quot;;

  private $nextFonts = &quot;下一页 &gt;&quot;;    
  private $preFonts = &quot;&lt; 上一页&quot;;

  //前n页，后n页
  private $page_n;
  private $pn = 10;
  private $pn_fonts = &quot;前10页&quot;;
  private $fn = 10;
  private $fn_fonts = &quot;后10页&quot;;

  //展现的页码
  private $pageShow;

  //构造函数
  function __construct($totalNum,$perpageNum,$prePage,$preFonts,$floPage,$nextFonts,$p,$skipStyle,$pageStyle,$page_n,$page_act){
  
    $this-&gt;totalNum = $totalNum;
    $this-&gt;perpageNum = $perpageNum;
    $this-&gt;prePage = $prePage;
    $this-&gt;floPage = $floPage;
    $this-&gt;skipStyle = $skipStyle;
    $this-&gt;pageStyle = $pageStyle;
    $this-&gt;page_n = $page_n;
    $this-&gt;page_act = $page_act;

    $this-&gt;getPageNow($p);

    $this-&gt;totalPage = $this-&gt;getTotalPage(); //总页数

    $this-&gt;pageShow = &quot;&quot;;
    $this-&gt;getUrl();
  }
      

  /************定义__toString方法,把对象解析成字符串******/
  public function __toString(){
  
    return $this-&gt;pageShow;
  }

  /************获得当前页页码,$p用来接收$_GET[&#39;p&#39;]*******/
  public function getPageNow($p){
  
    if(!isset($p)){
      
      $this-&gt;pageNow = 1;
    }else if($p&gt;0){
      
      $this-&gt;pageNow = $p;  
    }else{
    
      die(&quot;page number error&quot;);
    }

    return $this-&gt;pageNow;
  }



  /***********************设置当前页面链接***************/
  public function getUrl(){

    $url = &quot;http://&quot;.$_SERVER[&#39;HTTP_HOST&#39;].$_SERVER[&#39;REQUEST_URI&#39;];
    
    //判断是否带参数
    if(strpos($url,&quot;?&quot;) === false){ //不带参数

      return $this-&gt;url = $url.&quot;?&quot;;
    }else{ //带参数
    
      $url = explode(&quot;?&quot;,$url);
      //参数
      $param = $url[1];

      //判断是否有多个参数
      if(strpos($param,&quot;&amp;&quot;) === false){ //只有一个参数
  
        //判断参数是否为p
        if(strpos($param,&quot;p=&quot;) === false){ //不含参数p
        
          //合并url
          $url = implode(&quot;?&quot;,$url);  

          return $this-&gt;url = $url.&quot;&amp;&quot;;

        }else{
        
          //把参数p去掉
          $url = $url[0];

          return $this-&gt;url = $url.&quot;?&quot;;
        }
        
      }else{ //多个参数
      
        $param = explode(&quot;&amp;&quot;,$param);

        //遍历参数数组
        foreach($param as $k=&gt;$v){

          if(strpos($v,&quot;p=&quot;) === false){
            
            continue;
          }else{
      
            //当含有参数p时，把它从数组中删除
            unset($param[$k]);
          }
        }

          //删除参数p之后组合数组
          $param = implode(&quot;&amp;&quot;,$param);
          $url[1] = $param;
          $url = implode(&quot;?&quot;,$url);

          return $this-&gt;url = $url.&quot;&amp;&quot;;
      }
    }
  }

  /************************前偏移量处理********************/
  public function preOffset($preFonts){
  

    //前偏移量的处理
    if($this-&gt;pageNow!=1 &amp;&amp; ($this-&gt;pageNow - $this-&gt;prePage -1 &lt;= 1)){
          
      //上一页
      $this-&gt;pageShow .= &quot;&lt;a id=\&quot;per_page\&quot; class=\&quot;pagenum\&quot; href=\&quot;&quot;.$this-&gt;url.&quot;p=&quot;.($this-&gt;pageNow-1).&quot;\&quot;&gt;&quot;.($preFonts == &quot;&quot;?$this-&gt;preFonts:$preFonts).&quot;&lt;/a&gt;&quot;;

      
      //页码
      for($i=1;$i&lt;=$this-&gt;pageNow-1;$i++){    

        //ajax方式不显示
        if($this-&gt;page_act != 1){

          $this-&gt;pageShow .= &quot;&lt;a class=\&quot;pagenum\&quot; href=\&quot;&quot;.$this-&gt;url.&quot;p=&quot;.$i.&quot;\&quot;&gt;&quot;.$i.&quot;&lt;/a&gt;&quot;;  
        }
      }

    }else if($this-&gt;pageNow - $this-&gt;prePage -1 &gt; 1){ //pageNow至少大于2时才会出现&quot;1...&quot;
      
      //样式1.加上&#39;首页&#39;
      if($this-&gt;pageStyle == 2 || $this-&gt;page_act == 1){
        
        //首页
        $this-&gt;pageShow .= &quot;&lt;a id=\&quot;first_page\&quot; class=\&quot;pagenum\&quot; href=\&quot;&quot;.$this-&gt;url.&quot;p=1\&quot;&gt;&quot;.$this-&gt;firstFonts.&quot;&lt;/a&gt;&quot;;

        //style2.前n页
        if($this-&gt;page_n == 1 &amp;&amp; $this-&gt;page_act != 1){
        
          if($this-&gt;pageNow&gt;$this-&gt;pn){
          
            $this-&gt;pageShow .= &quot;&lt;a id=\&quot;pre_n_page\&quot; class=\&quot;pagenum\&quot; href=\&quot;&quot;.$this-&gt;url.&quot;p=&quot;.($this-&gt;pageNow-$this-&gt;pn).&quot;\&quot;&gt;&quot;.$this-&gt;pn_fonts.&quot;&lt;/a&gt;&quot;;
          }
        }
      }
      
      
      //上一页
      $this-&gt;pageShow .= &quot;&lt;a id=\&quot;pre_page\&quot; class=\&quot;pagenum\&quot; href=\&quot;&quot;.$this-&gt;url.&quot;p=&quot;.($this-&gt;pageNow-1).&quot;\&quot;&gt;&quot;.($preFonts == &quot;&quot;?$this-&gt;preFonts:$preFonts).&quot;&lt;/a&gt;&quot;;
      
      //样式1.加上第一页&#39;1&#39;、&#39;...&#39;
      if($this-&gt;pageStyle == 1){
        $this-&gt;pageShow .= &quot;&lt;a class=\&quot;pagenum\&quot; href=\&quot;&quot;.$this-&gt;url.&quot;\&quot;&gt;1&lt;/a&gt;&lt;a id=\&quot;pre_page_2\&quot; class=\&quot;pagenum\&quot; href=\&quot;&quot;.$this-&gt;url.&quot;p=&quot;.($this-&gt;pageNow-$this-&gt;prePage-1).&quot; \&quot; title=\&quot;第&quot;.($this-&gt;pageNow-$this-&gt;prePage-1).&quot;页\&quot;&gt;&hellip;&lt;/a&gt;&quot;;
      }

      for($i=$this-&gt;prePage;$i&gt;=1;$i--){    

        //当前页和&#39;...&#39;之间的页码，ajax方式不显示
        if($this-&gt;page_act != 1){

          $this-&gt;pageShow .= &quot;&lt;a class=\&quot;pagenum\&quot; href=\&quot;&quot;.$this-&gt;url.&quot;p=&quot;.($this-&gt;pageNow-$i).&quot;\&quot;&gt;&quot;.($this-&gt;pageNow-$i).&quot;&lt;/a&gt;&quot;;  
        }
      }
    }
  }

  /**********************页码和后偏移量处理***************************/
  public function floOffset($nextFonts){
  
    if($this-&gt;totalPage &gt; $this-&gt;floPage){ //总页数大于后偏移量时
    
      for($i=0;$i&lt;=$this-&gt;floPage;$i++){
      
        $page = $this-&gt;pageNow+$i;
        
        if($page&lt;=$this-&gt;totalPage){

          //页码,ajax方式不显示
          if($this-&gt;page_act != 1){

            $this-&gt;pageShow .= &quot;&lt;a class=\&quot;pagenum\&quot; href=\&quot;&quot;.$this-&gt;url.&quot;p=&quot;.$page.&quot;\&quot;&gt;&quot;.$page.&quot;&lt;/a&gt;&quot;;
          }
        }
      }

      if($this-&gt;pageNow &lt; $this-&gt;totalPage){

        
        //当前页+后偏移量+1小于总页数时出现&quot;...&quot;
        if(($this-&gt;pageNow+$this-&gt;floPage+1)&lt;$this-&gt;totalPage){
      
          //样式1.显示&#39;...&#39;
          if($this-&gt;pageStyle == 1){
            $this-&gt;pageShow .= &quot;&lt;a id=\&quot;flo_page_2\&quot; class=\&quot;pagenum\&quot; href=\&quot;&quot;.$this-&gt;url.&quot;p=&quot;.($page+1).&quot;\&quot; title=\&quot;第&quot;.($page+1).&quot;页\&quot;&gt;&hellip;&lt;/a&gt;&quot;;
          }
        }
        
        
        //当前页+后偏移量+1小于等于总页数时出现最后一页的快捷标签
        if(($this-&gt;pageNow+$this-&gt;floPage+1)&lt;=$this-&gt;totalPage){
        
          //最后一页
          //样式1.始终出现&#39;最后一页页码&#39;
          if($this-&gt;pageStyle == 1){
            $this-&gt;pageShow .= &quot;&lt;a class=\&quot;pagenum\&quot; href=\&quot;&quot;.$this-&gt;url.&quot;p=&quot;.$this-&gt;totalPage.&quot;\&quot; title=\&quot;总共&quot;.$this-&gt;totalPage.&quot;页\&quot;&gt;&quot;.$this-&gt;totalPage.&quot;&lt;/a&gt;&quot;;
          }
        }            

        $this-&gt;pageShow .= &quot;&lt;a id=\&quot;flo_page\&quot; class=\&quot;pagenum\&quot; href=\&quot;&quot;.$this-&gt;url.&quot;p=&quot;.($this-&gt;pageNow+1).&quot;\&quot;&gt;&quot;.($nextFonts == &quot;&quot;?$this-&gt;nextFonts:$nextFonts).&quot;&lt;/a&gt;&quot;; //当实例化对象时用户传递的文字为空时则调用类预设的&quot;下一页&quot;,否则输出用户传递的值

        //style2.加上后n页
        if($this-&gt;pageStyle == 2 &amp;&amp; $this-&gt;page_n == 1 &amp;&amp; $this-&gt;page_act != 1){
        
          if(($this-&gt;pageNow+10)&lt;$this-&gt;totalPage){
          
            $this-&gt;pageShow .= &quot;&lt;a id=\&quot;flo_n_page\&quot; class=\&quot;pagenum\&quot; href=\&quot;&quot;.$this-&gt;url.&quot;p=&quot;.($this-&gt;pageNow+$this-&gt;fn).&quot;\&quot;&gt;&quot;.$this-&gt;fn_fonts.&quot;&lt;/a&gt;&quot;;
          }
        }

        //显示&#39;末页&#39;
        if($this-&gt;pageStyle == 2){
        
          if(($this-&gt;pageNow+$this-&gt;floPage+1)&lt;$this-&gt;totalPage){

            $this-&gt;pageShow .= &quot;&lt;a id=\&quot;last_page\&quot; class=\&quot;pagenum\&quot; href=\&quot;&quot;.$this-&gt;url.&quot;p=&quot;.$this-&gt;totalPage.&quot;\&quot;&gt;末页&lt;/a&gt;&quot;;
          }
        }

      }else if($this-&gt;pageNow &gt; $this-&gt;totalPage){
      
        die(&quot;超出页码范围&quot;);
      }

    }else{ //总页数小于后偏移量时
      
      for($i=0;$i&lt;$this-&gt;totalPage;$i++){
      
        $page = $this-&gt;pageNow+$i;
        //页码后边界
        $this-&gt;pageShow .= &quot;&lt;a class=\&quot;pagenum\&quot; href=\&quot;&quot;.$this-&gt;url.&quot;p=&quot;.$page.&quot;\&quot;&gt;&quot;.$page.&quot;&lt;/a&gt;&quot;;
      }
    }
  }

  /********************其它页面信息***********************/
  public function getOtherInfo(){
  
    //ajax方式不显示手动跳转信息
    if($this-&gt;page_act != 1){

      $this-&gt;pageShow .= &quot;&amp;nbsp;跳转至 &quot;;

      //跳转类型
      if($this-&gt;skipStyle ==&quot;&quot; ){ //不加跳转
    
        $this-&gt;pageShow .= &quot;&quot;;
      }else if($this-&gt;skipStyle == 1){ //输入框
    
        $this-&gt;pageShow .= &quot;&lt;input id=\&quot;skip\&quot; type=\&quot;text\&quot; value=\&quot;&quot;.$this-&gt;pageNow.&quot;\&quot;&gt;&quot;;
    
        $this-&gt;pageShow .= &quot;&lt;button id=\&quot;go\&quot;&gt;GO&lt;/button&gt;&quot;;
      }else if($this-&gt;skipStyle == 2){ //下拉菜单
    
        //选择下拉菜单自动跳转
        $this-&gt;pageShow .= &quot;&lt;select id=\&quot;select_page\&quot; onchange=\&quot;location.href=this.options[this.selectedIndex].value;\&quot; &gt;&quot;;
      
        for($i=1;$i&lt;=$this-&gt;totalPage;$i++){
      
          $this-&gt;pageShow .= &quot;&lt;option value=\&quot;&quot;.$this-&gt;url.&quot;p=&quot;.$i.&quot;\&quot;&quot;; 
        
          //下拉菜单默认显示当前页
          if($i == $this-&gt;pageNow){
        
            $this-&gt;pageShow .= &quot; selected&quot;;
          }
        
          $this-&gt;pageShow .= &quot;&gt;&quot;.$i.&quot;&lt;/option&gt;&quot;;
        }
      
        $this-&gt;pageShow .= &quot;&lt;/select&gt;&quot;;
      }
    }

    $this-&gt;pageShow .= &quot;&lt;span id=\&quot;pagenow_info\&quot;&gt;&amp;nbsp;&amp;nbsp;当前第&quot;.$this-&gt;pageNow.&quot;页&lt;/span&gt;&quot;;
    $this-&gt;pageShow .= &quot;/&lt;span id=\&quot;totalpage_info\&quot;&gt;共&quot;.$this-&gt;totalPage.&quot;页&lt;/span&gt;&quot;;
    $this-&gt;pageShow .= &quot;&amp;nbsp;&lt;span id=\&quot;totalNum_info\&quot;&gt;共&quot;.$this-&gt;totalNum.&quot;条&lt;/span&gt;&quot;;
  }

  
  /*****************获取每页第一条信息*****************/
  public function getFirstRow(){
  
    $firstRow = $this-&gt;perpageNum * ($this-&gt;pageNow-1) + 1;//当前页第一条是总条数中第几条

    return $firstRow;
  }
  
  /********************获得总页数***********************/
  public function getTotalPage(){
  
    $totalPage = ceil($this-&gt;totalNum / $this-&gt;perpageNum);
    return $totalPage;
  }

  /* ****************获取上一页、下一页文字*************** */

  public function getPreFonts($preFonts){
  
      return ($preFonts==&quot;&quot;)?$this-&gt;preFonts:$preFonts;
  }
  
  public function getNextFonts($nextFonts){
  
      return ($nextFonts==&quot;&quot;)?$this-&gt;nextFonts:$nextFonts;
  } 

}</code></pre>
<p>推荐一款PHP+jQuery制作的列表分页的功能模块</p>
<p>demo.php:</p>
<p>代码如下：</p>
<pre>
<code>
&lt;?php

require &#39;init.inc.php&#39;;
require &#39;page.class.php&#39;;
require &#39;conn/conn.php&#39;;

$perpageNum = 10; //每页数据条数
$perPage = 4; //前分页偏移量
$floPage = 4; //后分页偏移量
$preFonts = &quot;&quot;; //&quot;前一页&quot;文字内容
$nextFonts = &quot;&quot;; //&quot;下一页&quot;文字内容
$page_n = 1; //样式2下是否加&quot;前n页&quot;、后n页，0为不加，1为加
$skipStyle = 1; //跳转类型，可选1、2
$pageStyle = 1; //样式类型，可选1、2、3( 样式3只包含&quot;上一页&quot;、&quot;下一页&quot;和页码 )
$page_act = 0; //0:url 和 1:ajax

if($page_act == 1){

  //ajax方式分页时强制使用第二种样式
  $pageStyle = 2;
}


$p = isset($_GET[&#39;p&#39;])?$_GET[&#39;p&#39;]:1; //当前页码

//在page.class.php中定义__toString方法，把对象$mypage解析成字符串输出

//参数分别是:总条数、每页条数、前偏移量、&quot;上一页&quot;文字内容(默认为&quot;&quot;时显示&quot;上一页&quot;)、后偏移量、&quot;下一页&quot;文字内容(默认为&quot;&quot;时显示&quot;下一页&quot;)、当前地址栏页码数、手动跳转样式、页码显示样式、样式2是否加前n页后n页、分页方式(url/ajax)

//获得总条数
//输出列表
$sql_all = &quot;select title from ips_archives&quot;;

//总条数
$totalNum = $conne-&gt;getRowsNum($sql_all);

//实例化
$mypageurl = new MyPageUrl($totalNum,$perpageNum,$perPage,$preFonts,$floPage,$nextFonts,$p,$skipStyle,$pageStyle,$page_n,$page_act);


//每页第一条
$firstRow = $mypageurl-&gt;getFirstRow();

//总条数
$totalPage = $mypageurl-&gt;getTotalPage();

//输出列表
$sql = &quot;select title from ips_archives order by pubdate desc limit &quot;.$firstRow.&quot;,&quot;.$perpageNum;

//取出数据(二维数组)
$rowsArray = $conne-&gt;getRowsArray($sql);

//显示页码
$pageShow = $mypageurl-&gt;preOffset($preFonts).$mypageurl-&gt;floOffset($nextFonts).$mypageurl-&gt;getOtherInfo();

$smarty-&gt;assign(&quot;Template_Dir&quot;,Template_Dir);
$smarty-&gt;assign(&quot;page_act&quot;,$page_act); //传递分页方式
$smarty-&gt;assign(&quot;pageNow&quot;,$p); //传递当前页
$smarty-&gt;assign(&quot;perpageNum&quot;,$perpageNum); //传递每页几条数据
$smarty-&gt;assign(&quot;totalPage&quot;,$totalPage); //传递总页数
$smarty-&gt;assign(&quot;preFonts&quot;,$mypageurl-&gt;getPreFonts($preFonts)); //传递上一页文字信息
$smarty-&gt;assign(&quot;rowsArray&quot;,$rowsArray);
$smarty-&gt;assign(&quot;mypage&quot;,$mypageurl);
$smarty-&gt;display(&quot;demo.html&quot;);</code></pre>
<p>推荐一款PHP+jQuery制作的列表分页的功能模块</p>
<p>使用方法在demo.php的注释里</p>
<p>&nbsp;</p>
<p>demo.html：</p>
<p>代码如下：</p>
<pre>
<code>
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;meta charset=&quot;utf-8&quot;&gt;
&lt;title&gt;PHP分页类&lt;/title&gt;
&lt;link href=&quot;&lt;{$Template_Dir}&gt;/css/common.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;
&lt;link href=&quot;&lt;{$Template_Dir}&gt;/css/style1.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt;
&lt;script id=&quot;jq&quot; src=&quot;&lt;{$Template_Dir}&gt;/js/jquery-1.8.3.min.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;

  &lt;div id=&quot;list&quot;&gt;
    
    &lt;ul id=&quot;newsul&quot;&gt;
      
      &lt;{foreach $rowsArray as $val}&gt;
        &lt;li&gt;&lt;{$val[&#39;title&#39;]}&gt;&lt;/li&gt;
      &lt;{/foreach}&gt;

    &lt;/ul&gt;

  &lt;/div&gt;
  &lt;div id=&quot;page&quot;&gt;&lt;{$mypage}&gt;&lt;/div&gt;
  &lt;input id=&quot;pageNow&quot; type=&quot;hidden&quot; value=&quot;&lt;{$pageNow}&gt;&quot;&gt;
  &lt;!--分页方式--&gt;
  &lt;input id=&quot;page_act&quot; type=&quot;hidden&quot; value=&quot;&lt;{$page_act}&gt;&quot;&gt;
  &lt;!--每页几条数据--&gt;
  &lt;input id=&quot;perpageNum&quot; type=&quot;hidden&quot; value=&quot;&lt;{$perpageNum}&gt;&quot;&gt;
  &lt;!--总页数--&gt;
  &lt;input id=&quot;totalPage&quot; type=&quot;hidden&quot; value=&quot;&lt;{$totalPage}&gt;&quot;&gt;
  &lt;!--//把smarty的变量传递给外部js--&gt;
  &lt;input id=&quot;Template_Dir&quot; type=&quot;hidden&quot; value=&quot;&lt;{$Template_Dir}&gt;&quot;&gt;
  &lt;input id=&quot;preFonts&quot; type=&quot;hidden&quot; value=&quot;&lt;{$preFonts}&gt;&quot;&gt;
&lt;/body&gt;
&lt;script&gt;

  $(function(){
  
    //遍历a
    $(&quot;.pagenum&quot;).each(function(){
    
      if($(this).text() == $(&quot;#pageNow&quot;).val()){
    
        $(this).addClass(&quot;selected&quot;);
      }
    });
    
    //如果存在跳转输入框
    if($(&quot;#skip&quot;).length&gt;0){
    
      $(&quot;#skip&quot;).keydown(function(){
      
        if(event.keyCode == 13){ //回车
        
          self.location=&quot;demo.php?p=&quot;+$(this).val();
        }
      });
    }

    //点击&quot;GO&quot;按钮跳转
    if($(&quot;#go&quot;).length&gt;0){
    
      $(&quot;#go&quot;).click(function(){
      
        self.location=&quot;demo.php?p=&quot;+$(&quot;#skip&quot;).val();
      });
    }
    
    //如果分页方式是ajax，则加载外部ajax.js
    if($(&quot;#page_act&quot;).val() == 1){
    
      //把smarty的变量传递给外部js
      $Template_Dir = $(&quot;#Template_Dir&quot;).val();
      $preFonts = $(&quot;#preFonts&quot;).val();

      $insertAjax = $(&quot;&lt;script src=\&quot;&lt;{$Template_Dir}&gt;/js/ajax.js\&quot;&gt;&lt;\/script&gt;&quot;);
      $insertAjax.insertAfter($(&quot;#jq&quot;));
    }

    //最后一行row去掉border-bottom
    $(&quot;#list ul&quot;).children(&quot;li:last&quot;).css(&quot;border-bottom&quot;,0);
  });
&lt;/script&gt;
&lt;/html&gt;</code></pre>
<p>推荐一款PHP+jQuery制作的列表分页的功能模块</p>
<p>ajaxpage.php:</p>
<p>代码如下：</p>
<pre>
<code>
&lt;?php

require &#39;conn/conn.php&#39;;

if(isset($_POST[&#39;pageNow&#39;]) &amp;&amp; !empty($_POST[&#39;pageNow&#39;])){

  $pageNow = $_POST[&#39;pageNow&#39;];
}

//每页几条数据
if(isset($_POST[&#39;perpageNum&#39;]) &amp;&amp; !empty($_POST[&#39;perpageNum&#39;])){

  $perpageNum = $_POST[&#39;perpageNum&#39;];
}

//当前页第一条数据
$firstRow = $perpageNum * ($pageNow-1) + 1;

$sql = &quot;select title from ips_archives order by pubdate desc limit &quot;.$firstRow.&quot;,&quot;.$perpageNum;


$rowsArray = $conne-&gt;getRowsArray($sql);

//把二维数组转换成json格式
echo json_encode($rowsArray);</code></pre>
<p>推荐一款PHP+jQuery制作的列表分页的功能模块</p>
<p>ajax.js:</p>
<p>代码如下：</p>
<pre>
<code>
//删除原先的li,插入gif
function ajaxpre(){

  //删除原先的title
  $(&quot;#newsul li&quot;).remove();

  //插入gif图
  $loading = $(&quot;&lt;img class=\&quot;loading\&quot; src=\&quot;&quot;+$Template_Dir+&quot;/images/loading.gif\&quot;&gt;&quot;);

  $loading.appendTo($(&quot;#newsul&quot;));
}

//隐藏翻页信息
function infoAct(){

  //当前页到达尾页时，&quot;下一页&quot;和&quot;末页&quot;
  if(parseInt($(&quot;#pageNow&quot;).val()) == parseInt($(&quot;#totalPage&quot;).val())){
    
    $(&quot;#flo_page&quot;).hide();
    $(&quot;#last_page&quot;).hide();
    
    $(&quot;#pre_page&quot;).show();
    $(&quot;#first_page&quot;).show();
    
  }else if(parseInt($(&quot;#pageNow&quot;).val()) == 1){ //当前页到达时隐藏&quot;首页&quot;和&quot;上一页&quot;
  
    $(&quot;#pre_page&quot;).hide();
    $(&quot;#first_page&quot;).hide();
    
    $(&quot;#flo_page&quot;).show();
    $(&quot;#last_page&quot;).show();
  }else{
  
    if($(&quot;#pre_page&quot;).is(&quot;:hidden&quot;) || $(&quot;#pre_page&quot;).length == 0){
      $(&quot;#pre_page&quot;).show();
    }
    if($(&quot;#first_page&quot;).is(&quot;:hidden&quot;) || $(&quot;#first_page&quot;).length == 0){
      $(&quot;#first_page&quot;).show();
    }
    if($(&quot;#flo_page&quot;).is(&quot;:hidden&quot;) || $(&quot;#flo_page&quot;) == 0){
      $(&quot;#flo_page&quot;).show();
    }
    if($(&quot;#last_page&quot;).is(&quot;:hidden&quot;) || $(&quot;#last_page&quot;).length == 0){
      $(&quot;#last_page&quot;).show();
    }
  }
}

//点击&quot;下一页&quot;、&quot;末页&quot;时出现&quot;首页&quot;和&quot;上一页&quot;
function showPage(){

  //首页
  $firstPage = $(&quot;&lt;a id=\&quot;first_page\&quot; class=\&quot;pagenum\&quot;&gt;首页&lt;/a&gt;&quot;);
  
  if($(&quot;#first_page&quot;).length == 0){
    $firstPage.insertBefore($(&quot;#flo_page&quot;));
  }

  //上一页
  $pre_page = $(&quot;&lt;a id=\&quot;pre_page\&quot; class=\&quot;pagenum\&quot;&gt;&quot;+$preFonts+&quot;&lt;/a&gt;&quot;);
  
  if($(&quot;#pre_page&quot;).length == 0){
    $pre_page.insertBefore($(&quot;#flo_page&quot;));
  }
}

//ajax请求数据
function ajaxpost(){

  $.post(&quot;ajaxpage.php&quot;,{
    
    pageNow : parseInt($(&quot;#pageNow&quot;).val()),
    perpageNum : parseInt($(&quot;#perpageNum&quot;).val())
  },function(data,textStatus){

    //接收json数据
    var dataObj=eval(&quot;(&quot;+data+&quot;)&quot;); //转换为json对象 
    
    //删除gif
    $(&quot;.loading&quot;).remove();

    $.each(dataObj,function(idx,item){ 
                    
      $li_new = $(&quot;&lt;li&gt;&quot;+item.title+&quot;&lt;/li&gt;&quot;);
      $li_new.appendTo($(&quot;#newsul&quot;));
    })
    $(&quot;#list ul&quot;).children(&quot;li:last&quot;).css(&quot;border-bottom&quot;,0);
  });
}
      

//初始值=1
apagenow = parseInt($(&quot;#pageNow&quot;).val());

//ajax &quot;首页&quot; 因为&quot;首页&quot;和&quot;上一页&quot;一开始是不出现的，所以只有在&quot;下一页&quot;和&quot;末页&quot;的的点击函数中调用&quot;首页&quot;和&quot;上一页&quot;函数
function firstPageAct(){

  if($(&quot;#first_page&quot;).is(&quot;:visible&quot;)){
  
    $(&quot;#first_page&quot;).click(function(){

      //删除更新前的
      ajaxpre();

      //pageNow设为1
      $(&quot;#pageNow&quot;).val(1);
      apagenow = parseInt($(&quot;#pageNow&quot;).val());

      //修改页码信息
      $(&quot;#pagenow_info&quot;).html(&quot;&amp;nbsp;&amp;nbsp;当前第1页&quot;);

      //ajax请求数据
      ajaxpost();
      
      //到达&quot;首页&quot;之后隐藏&quot;首页&quot;和&quot;上一页&quot;
      infoAct();
    });
  }
}

//ajax &quot;上一页&quot;
function prePageAct(){

  if($(&quot;#pre_page&quot;).is(&quot;:visible&quot;)){
  
    $(&quot;#pre_page&quot;).click(function(){
    
      //删除更新前的
      ajaxpre();

      //每点击&quot;下一次&quot;,隐藏域值-1
      if(parseInt(apagenow) != 1){
      
        apagenow = parseInt(apagenow) - parseInt(1);
      }
      
      $(&quot;#pageNow&quot;).val(apagenow);
      
      //隐藏域的页码值大于1时
      if(parseInt($(&quot;#pageNow&quot;).val()) &gt; parseInt(1)){
    
        //修改页码信息
        $(&quot;#pagenow_info&quot;).html(&quot;&amp;nbsp;&amp;nbsp;当前第&quot;+$(&quot;#pageNow&quot;).val()+&quot;页&quot;);
      }

      //ajax请求数据
      ajaxpost();

      //第一页时隐藏&quot;首页&quot;和&quot;下一页&quot;
      infoAct();
    });

  }
}

//ajax &quot;下一页&quot;
if($(&quot;#flo_page&quot;).length&gt;0){

  //去掉a的href属性
  $(&quot;#flo_page&quot;).removeAttr(&quot;href&quot;);
  
  $(&quot;#flo_page&quot;).click(function(){

    ajaxpre();
    
    //每点击&quot;下一次&quot;,隐藏域值+1
    apagenow = parseInt(apagenow) + parseInt(1);

    $(&quot;#pageNow&quot;).val(apagenow);

    //隐藏域的页码值小于总页码时
    if(parseInt($(&quot;#pageNow&quot;).val()) &lt;= parseInt($(&quot;#totalPage&quot;).val())){
    
      //修改页码信息
      $(&quot;#pagenow_info&quot;).html(&quot;&amp;nbsp;&amp;nbsp;当前第&quot;+$(&quot;#pageNow&quot;).val()+&quot;页&quot;);

      //ajax请求数据
      ajaxpost();
    }

    //点击&quot;下一页&quot;之后出现&quot;首页&quot;
    if($(&quot;#first_page&quot;).is(&quot;:hidden&quot;) || $(&quot;#first_page&quot;).length == 0){

      //出现&quot;首页&quot;和&quot;下一页&quot;
      showPage();
      firstPageAct();
      prePageAct();
    }

    //隐藏&quot;下一页&quot;和&quot;末页&quot;
    infoAct();

    return false; //取消点击翻页
  });
}

//ajax &quot;末页&quot;
if($(&quot;#last_page&quot;).length&gt;0){

  //去掉a的href属性
  $(&quot;#last_page&quot;).removeAttr(&quot;href&quot;);
  
  $(&quot;#last_page&quot;).click(function(){
  
    ajaxpre();
    
    //修改隐藏域当前页信息
    apagenow = parseInt($(&quot;#totalPage&quot;).val());
    $(&quot;#pageNow&quot;).val(apagenow);

    //修改页码信息
    $(&quot;#pagenow_info&quot;).html(&quot;&amp;nbsp;&amp;nbsp;当前第&quot;+$(&quot;#totalPage&quot;).val()+&quot;页&quot;);
    
    //ajax请求数据
    ajaxpost();

    //点击&quot;末页&quot;之后出现&quot;首页&quot;
    
    if($(&quot;#first_page&quot;).length == 0){
    
      showPage();
      firstPageAct();
      prePageAct();
    }

    infoAct();

    return false;
  });
}



//取消a标签跳转
$(&quot;#first_page&quot;).click(function(){
    
  return false;
});

$(&quot;#pre_page&quot;).click(function(){
    
  return false;
});</code></pre>
<p>推荐一款PHP+jQuery制作的列表分页的功能模块</p>
<p>common.css:</p>
<p>代码如下：</p>
<pre>
<code>
a{ font-size:14px; font-family:Tahoma; color:#444; text-decoration:none; cursor:pointer;}
ul{ list-style-type:none;}

/* ***************************列表样式******************** */
#list{

  width:1000px;
  margin-bottom:20px;
  border:1px solid #95071b;
}

#list ul{

  margin:5px 20px;
  padding:0px;
}

#list li{

  line-height:24px;
  border-bottom:1px solid #95071b;
}

/* ****************************跳转样式******************** */
#skip{

  width:36px;
  text-align:center;
}

/* ****************************ajax************************* */
.loading{

  position:absolute;
  top:20%;
  left:35%;
}</code></pre>
<p>推荐一款PHP+jQuery制作的列表分页的功能模块</p>
<p>style1.css:</p>
<p>代码如下：</p>
<pre>
<code>
#page a.pagenum{

  margin-left:3px;
  margin-right:3px;
  padding:1px 7px;
  border:1px solid #ccc;
}

#page a.pagenum:hover{

  background-color:#95071b;
  color:#fff;
}

.selected{

  background-color:#95071b;
  color:#fff;
}</code></pre>
<p>推荐一款PHP+jQuery制作的列表分页的功能模块</p>
<p>init.inc.php:</p>
<p>代码如下：</p>
<pre>
<code>
&lt;?php
/**
  file:init.inc.php Smarty对象的实例化及初始化文件
*/

/* *********************Smarty设置*********************** */
//根目录路径方式，用于Smarty设置
define(&quot;ROOT&quot;,str_replace(&quot;\\&quot;,&quot;/&quot;,dirname(__FILE__)).&quot;/&quot;);

require ROOT.&#39;libs/Smarty.class.php&#39;;
$smarty = new Smarty();

//Smarty3设置默认路径
$smarty -&gt;setTemplateDir(ROOT.&#39;templates/&#39;)
    -&gt;setCompileDir(ROOT.&#39;templates_c/&#39;)
    -&gt;setPluginsDir(ROOT.&#39;plugins/&#39;)
    -&gt;setCacheDir(ROOT.&#39;cache/&#39;)
    -&gt;setConfigDir(ROOT.&#39;configs&#39;);

$smarty-&gt;caching = false;
$smarty-&gt;cache_lifetime = 60*60*24; //模版缓存有效时间为1天
$smarty-&gt;left_delimiter = &#39;&lt;{&#39;;
$smarty-&gt;right_delimiter = &#39;}&gt;&#39;;

/***********************************************************/

//根目录url方式
$PHP_SELF=$_SERVER[&#39;PHP_SELF&#39;];
$ROOT_URL=&#39;http://&#39;.$_SERVER[&#39;HTTP_HOST&#39;].substr($PHP_SELF,0,strrpos($PHP_SELF,&#39;/&#39;)+1);
define(ROOT_URL,$ROOT_URL);

//模版目录url方式
define(&quot;Template_Dir&quot;,$ROOT_URL.&#39;templates&#39;);</code></pre>
<p>推荐一款PHP+jQuery制作的列表分页的功能模块</p>
<p>&nbsp;</p>
<p>代码下载地址：https://github.com/dee0912/PageClass</p>
<p>注：关于PHP+jQuery制作的列表分页的功能模块的简单示例的内容就先介绍到这里，更多相关文章的可以留意</p></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span></span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/php/phpbiji/109227.html'>php最简单的MVC框架的解决办法</a><a>下一篇</a><a href='/php/phpbiji/118501.html'>php 替换字符串中间的字符为省略号实现方法</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>