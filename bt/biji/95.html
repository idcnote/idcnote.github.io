<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>如何基于宝塔面板和nextcloud搭建自己的网盘_宝塔面板_IDC笔记</title>
    <meta name="keywords" content="javascript,javascript教程" />
    <meta name="description" content="下面由宝塔安装教程栏目给大家介绍基于宝塔面板和nextcloud搭建自己的网盘的方法，希望对需要的朋友有所帮助！一、安装宝塔控制面板和LNMP环境yum install -y wget &amp;&amp; wget -O" />
    <meta content="Responsive admin theme build on top of Bootstrap 4" name="description" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
	<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
	<script type="text/javascript">
	 SyntaxHighlighter.all();
	</script>
	<script>
	var paras = document.getElementsByTagName("pre");
	for ( var i=0;i<paras.length;i++ ) {
		paras[i].setAttribute("class","brush:php;toolbar:false");     
	}
	</script>
</head>
<body>
	<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
	<div class="left side-menu">
		<div class="slimscroll-menu" id="remove-scroll">
			<div id="sidebar-menu">
				<ul class="metismenu" id="side-menu">
					<li>
						<a href="/js/" class="waves-effect">
							<i class="icon-share"></i>
							<span>宝塔面板教程
								<span class="float-right menu-arrow">
								<i class="mdi mdi-chevron-right"></i>
								</span>
							</span>
						</a>
					</li>
															<li>
						<a href="javascript:void(0);" class="waves-effect">
							<i class="icon-share"></i>
							<span> 系统简介							<span class="float-right menu-arrow">
							<i class="mdi mdi-chevron-right"></i>
							</span> 
							</span>
						</a>
						<ul class="submenu">
							 <li><a href="/bt/1.html">宝塔面板简介</a></li><li><a href="/bt/35.html">宝塔目录结构</a></li>						</ul>
					</li>
										<li>
						<a href="javascript:void(0);" class="waves-effect">
							<i class="icon-share"></i>
							<span> 系统版本							<span class="float-right menu-arrow">
							<i class="mdi mdi-chevron-right"></i>
							</span> 
							</span>
						</a>
						<ul class="submenu">
							 <li><a href="/bt/2.html">windows面板介绍</a></li><li><a href="/bt/3.html">Linux面板介绍</a></li>						</ul>
					</li>
										<li>
						<a href="javascript:void(0);" class="waves-effect">
							<i class="icon-share"></i>
							<span> 系统安装							<span class="float-right menu-arrow">
							<i class="mdi mdi-chevron-right"></i>
							</span> 
							</span>
						</a>
						<ul class="submenu">
							 <li><a href="/bt/4.html">1. SSH远程登录Linux系统</a></li><li><a href="/bt/5.html">2.1 放行阿里云服务器端口</a></li><li><a href="/bt/6.html">2.2 放行腾讯云服务器端口</a></li><li><a href="/bt/7.html">2.3 放行华为云服务器端口</a></li><li><a href="/bt/8.html">2.4 放行百度云服务器端口</a></li><li><a href="/bt/9.html">3. 安装Windows面板</a></li><li><a href="/bt/10.html">4. 安装Linux面板</a></li><li><a href="/bt/11.html">4.1 安装初始化环境</a></li><li><a href="/bt/12.html">5. 创建一个网站</a></li>						</ul>
					</li>
										<li>
						<a href="javascript:void(0);" class="waves-effect">
							<i class="icon-share"></i>
							<span> 使用教程							<span class="float-right menu-arrow">
							<i class="mdi mdi-chevron-right"></i>
							</span> 
							</span>
						</a>
						<ul class="submenu">
							 <li><a href="/bt/13.html">1. 网站基本配置操作</a></li><li><a href="/bt/14.html">2. 宝塔面板FTP端口设置</a></li><li><a href="/bt/15.html">3. 宝塔面板数据库设置</a></li><li><a href="/bt/16.html">4. 监控设置功能</a></li><li><a href="/bt/17.html">5. 安全管理</a></li><li><a href="/bt/18.html">6. 文件管理</a></li><li><a href="/bt/19.html">6.1. 计划任务之Shell脚本</a></li><li><a href="/bt/20.html">6.2. 计划任务之备份网站</a></li><li><a href="/bt/21.html">6.3. 计划任务之面板设置</a></li>						</ul>
					</li>
										<li>
						<a href="javascript:void(0);" class="waves-effect">
							<i class="icon-share"></i>
							<span> 提升性能							<span class="float-right menu-arrow">
							<i class="mdi mdi-chevron-right"></i>
							</span> 
							</span>
						</a>
						<ul class="submenu">
							 <li><a href="/bt/22.html">1. Swap交换分区</a></li><li><a href="/bt/23.html">2. PHP参数调整</a></li><li><a href="/bt/24.html">3. Mysql性能调整</a></li><li><a href="/bt/25.html">4. 定期释放缓存</a></li><li><a href="/bt/26.html">5. 启用禁ping</a></li>						</ul>
					</li>
										<li>
						<a href="javascript:void(0);" class="waves-effect">
							<i class="icon-share"></i>
							<span> 系统安全							<span class="float-right menu-arrow">
							<i class="mdi mdi-chevron-right"></i>
							</span> 
							</span>
						</a>
						<ul class="submenu">
							 <li><a href="/bt/27.html">服务器数据安全</a></li><li><a href="/bt/28.html">安全组及漏洞修补</a></li><li><a href="/bt/29.html">文件夹权限</a></li><li><a href="/bt/30.html">宝塔面板安全设置</a></li><li><a href="/bt/31.html">运行环境安全设置</a></li>						</ul>
					</li>
										<li>
						<a href="javascript:void(0);" class="waves-effect">
							<i class="icon-share"></i>
							<span> 实用收藏							<span class="float-right menu-arrow">
							<i class="mdi mdi-chevron-right"></i>
							</span> 
							</span>
						</a>
						<ul class="submenu">
							 <li><a href="/bt/32.html">常用Linux命令</a></li><li><a href="/bt/33.html">安装/升级/操作命令</a></li><li><a href="/bt/34.html">Linux常用命令大全</a></li><li><a href="/bt/36.html">忘记账户密码</a></li><li><a href="/bt/37.html">宝塔面板中网站页面出现403</a></li>						</ul>
					</li>
										<li>
						<a href="/bt/biji/" class="waves-effect">
							<i class="icon-share"></i>
							<span>宝塔笔记
								<span class="float-right menu-arrow">
								<i class="mdi mdi-chevron-right"></i>
								</span>
							</span>
						</a>
					</li>
				</ul>
			</div>
			<div class="clearfix"></div>
		</div>
	</div>
	<div class="content-page">
		<div class="content">
			<div class="container-fluid">
				<div class="page-title-box">
					<div class="row align-items-center">
						<div class="col-sm-6">
							<h1 class="page-title">如何基于宝塔面板和nextcloud搭建自己的网盘_宝塔面板</h1>
						</div>
					</div>
				</div>
				<div class="panel panel-forbid">
					<div class="panel-title">
						<i class="fa fa fa-file-text fa-fw"></i>内容摘要
					</div>
					<div class="panel-content">
						<span>下面由宝塔安装教程栏目给大家介绍基于宝塔面板和nextcloud搭建自己的网盘的方法，希望对需要的朋友有所帮助！一、安装宝塔控制面板和LNMP环境yum install -y wget &amp;&amp; wget -O</span>                                     
					</div>
					<div class="panel-title">
						<i class="fa fa fa-file-text fa-fw"></i>文章正文
					</div>
					<div class="panel-content">
					<span><p>下面由<strong>宝塔安装</strong>教程栏目给大家介绍基于宝塔面板和nextcloud搭建自己的网盘的方法，希望对需要的朋友有所帮助！</p>
<p style="text-align: center;"><img src="/d/file/p/20230325/5eec4b699e558195.jpg" /></p>
<p>一、安装宝塔控制面板和LNMP环境</p>
<pre class="brush:php;toolbar:false;">
<code style="position:relative; padding:0px; margin:0px;">yum install -y wget &amp;&amp; wget -O install.sh /d/file/p/20230325/install_6.0.sh &amp;&amp; sh install.sh</code></pre>
<div class="contentsignin"><code style="position:relative; padding:0px; margin:0px;">登录后复制</code></div>
<p>安装要很久，安装完成可以看到下面的登陆信息，然后浏览器登陆就好</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=2921777366,2039444016&amp;fm=173&amp;s=CD5003C2DBA0937A14C5DD0D0000F0C1&amp;w=640&amp;h=259&amp;img.jpg" /></p>
<p>宝塔面板安装完成后，用上面的帐号密码信息登陆面板会有安装界面出来，选择下要安装的ngnix这些就可以自动安装</p>
<p>安装完成后就可以在这个界面中添加网站 数据库</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=189295177,1159778309&amp;fm=173&amp;s=A82BE5109FA35001585CC1DB000080B2&amp;w=640&amp;h=371&amp;img.jpg" /></p>
<p>我们点击添加，然后输入网站的域名数据库密码，就会自动创建好网站的目录。</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=1493250914,214710309&amp;fm=173&amp;s=A8A3E5108F235809585C80DB000010B2&amp;w=640&amp;h=368&amp;img.jpg" /></p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=1628661958,4275603125&amp;fm=173&amp;s=953AE033773D518E10E5A0DA010080B2&amp;w=640&amp;h=469&amp;img.jpg" /></p>
<p>创建完成会弹出提示</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=3247066639,3137449952&amp;fm=173&amp;s=EC8A5C3A2578FC29484800DA0000C0B2&amp;w=640&amp;h=286&amp;img.jpg" /></p>
<p>下载NextCloud安装包</p>
<p>我们到下面的网站去下载NextCloud</p>
<pre class="brush:php;toolbar:false;">
<code style="position:relative; padding:0px; margin:0px;">/d/file/p/20230325/ class=&quot;contentsignin&quot;&gt;登录后复制</code></pre>
<p>我们选择文件，进入网站目录，然后点击远程下载</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=1048330047,1220470381&amp;fm=173&amp;s=DAA18540F9BF509E837424DA010080B6&amp;w=640&amp;h=561&amp;img.jpg" /></p>
<p>点击远程下载之后，在弹出的URL地址栏输入nextcloud的安装包下载地址</p>
<pre class="brush:php;toolbar:false;">
<code style="position:relative; padding:0px; margin:0px;">https://download.nextcloud.com/server/releases/nextcloud-14.0.4.zip</code></pre>
<div class="contentsignin"><code style="position:relative; padding:0px; margin:0px;">登录后复制</code></div>
<p><img alt="" class="has" src="/d/file/p/20230325/u=1940824623,1138323800&amp;fm=173&amp;s=1C0A54315F2D630B3C5830D9010080B1&amp;w=640&amp;h=399&amp;img.jpg" /></p>
<p>下载完成后，点击右侧的&ldquo;解压&rdquo;</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=3764075445,4121433591&amp;fm=173&amp;s=882A75320B2345224EF5D4DA000080B1&amp;w=640&amp;h=235&amp;img.jpg" /></p>
<p>解压到nextcloud的安装目录</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=52015461,2428076117&amp;fm=173&amp;s=9C2A50335B08414D4E7564DB010080B1&amp;w=640&amp;h=468&amp;img.jpg" /></p>
<p>完成后可以看到有个nextcloud的文件夹，我们进入后将里面的文件复制到主目录，这些都可以在网页中完成，不需要登陆后台服务器</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=2275244610,1165383363&amp;fm=173&amp;s=18007C32190B514D16D411DA0000C0B3&amp;w=640&amp;h=569&amp;img.jpg" /></p>
<p>方法就是进入目录全选这些文件，然后剪贴在到前面的目录黏贴即可</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=111281606,4017799606&amp;fm=173&amp;s=88047C32111B506D125D90DA0000C0B3&amp;w=640&amp;h=489&amp;img.jpg" /></p>
<p>然后回到上一级目录，点击粘贴所有</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=387396522,1412228703&amp;fm=173&amp;s=08287C32033B4022185DD0CA0000C0B1&amp;w=640&amp;h=339&amp;img.jpg" /></p>
<p>粘贴完成后，安装目录的文件结构如下图：</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=4007463109,2911566270&amp;fm=173&amp;s=80706D32190F404D065D90CA0000C0B3&amp;w=640&amp;h=604&amp;img.jpg" /></p>
<p>完成后，就可以打开网盘的的域名，直接在这里创建管理员账户，设置sql数据库</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=1833086139,405743212&amp;fm=173&amp;s=CC9684561676158E4EAF35540300D0BA&amp;w=640&amp;h=1007&amp;img.jpg" /></p>
<p>输入用户名密码、数据库信息等，点击安装完成，会自动安装，安装完成后，会进入网盘后台界面，如下</p>
<p>完成安装，我们可以去下载app或者电脑上的软件来进行使用</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=1999941978,4037104167&amp;fm=173&amp;s=DAA0AC421AB83E8C3C3E54CC030040BB&amp;w=640&amp;h=432&amp;img.jpg" /></p>
<p>配置NextCloud</p>
<p>进入网站后看到上面显示有问题，发现有错误提示：</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=2182376911,1168205562&amp;fm=173&amp;s=91526933033F40294459C4DA0000C0B3&amp;w=640&amp;h=348&amp;img.jpg" /></p>
<p>安装fileinfo</p>
<p>进入宝塔的面板的软件管理，找到php 7.1 然后进去有安装这个模块，点击安装</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=1882043941,964468902&amp;fm=173&amp;s=1C0A74331D1F45CC1CD1B0DE0100C0B1&amp;w=640&amp;h=583&amp;img.jpg" /></p>
<p>&nbsp;</p>
<p>getenv(&quot;PATH&quot;)为空</p>
<p>PHP 的设置似乎有问题, 无法获取系统环境变量. 使用 getenv(&quot;PATH&quot;) 测试时仅返回空结果.</p>
<p>编辑php-fpm.conf</p>
<pre class="brush:php;toolbar:false;">
<code style="position:relative; padding:0px; margin:0px;"> /www/server/php/71/etc/php-fpm.conf</code></pre>
<div class="contentsignin"><code style="position:relative; padding:0px; margin:0px;">登录后复制</code></div>
<p>粘贴</p>
<pre class="brush:php;toolbar:false;">
<code style="position:relative; padding:0px; margin:0px;">env[PATH] = /usr/local/bin:/usr/bin:/bin:/usr/local/php/bin</code></pre>
<div class="contentsignin"><code style="position:relative; padding:0px; margin:0px;">登录后复制</code></div>
<p>重启下服务</p>
<pre class="brush:php;toolbar:false;">
<code style="position:relative; padding:0px; margin:0px;">service php-fpm-71 restart</code></pre>
<div class="contentsignin"><code style="position:relative; padding:0px; margin:0px;">登录后复制</code></div>
<p>&nbsp;</p>
<p>❀Some files have not passed the integrity check.</p>
<p>这句是文件完整性检查，然后后面有个list，点击下可以看到哪些文件有问题，由于宝塔创建好网站默认会有404和user页面，这样nextcloud的文件的原始这个页面没法复制，我们只要把默认的user文件删了，重新替换即可。</p>
<p>&nbsp;</p>
<p>The .htaccess file is not working</p>
<p>打开在宝塔的伪静态中添加下面的内容</p>
<pre class="brush:php;toolbar:false;">
<code style="position:relative; padding:0px; margin:0px;">location

~ ^/(data|config|.ht|db_structure.xml|README) {

deny all;

}</code></pre>
<div class="contentsignin"><code style="position:relative; padding:0px; margin:0px;">登录后复制</code></div>
<p>&nbsp;</p>
<p>You are accessing this site via HTTP</p>
<p>宝塔上默认有申请ssl证书，免费的点下就ok了</p>
<p>注：你必须在公网上有DNS解析，否则没法申请</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=3346029971,2154700506&amp;fm=173&amp;s=9C2A7C33570E514D1E4DC1DE000080B1&amp;w=640&amp;h=589&amp;img.jpg" /></p>
<p>&nbsp;</p>
<p><strong>安装opcahe</strong></p>
<p>Opcache是PHP代码的缓存</p>
<p><img alt="" class="has" src="/d/file/p/20230325/u=1470355565,2018234424&amp;fm=173&amp;s=1C0874331D1F45CC1CD190DE0100C0B1&amp;w=640&amp;h=583&amp;img.jpg" /></p>
<p>替换下面的代码到php配置里，然后重启下php服务</p>
<pre class="brush:php;toolbar:false;">
<code style="position:relative; padding:0px; margin:0px;">opcache.enable=1

opcache.enable_cli=1

opcache.interned_strings_buffer=8

opcache.max_accelerated_files=10000

opcache.memory_consumption=128

opcache.save_comments=1

opcache.revalidate_freq=1</code></pre>
<div class="contentsignin"><code style="position:relative; padding:0px; margin:0px;">登录后复制</code></div>
<p><img alt="" class="has" src="/d/file/p/20230325/u=2251096243,1347926723&amp;fm=173&amp;s=941A7C33574E574948E9EDDE0300C0B3&amp;w=640&amp;h=590&amp;img.jpg" /></p>
<p>到此我们的nextcloud就安装完成了，后面就可以自己去下载客户端来正常使用了</p>
<p>以上就是教你如何基于宝塔面板和nextcloud搭建自己的网盘的详细内容，更多请关注IDC笔记其它相关文章！</p></span>                                     
					</div>
					<div class="panel-title">
						<i class="fa fa fa-file-text fa-fw"></i>代码注释
					</div>
					<div class="panel-content">
					<span>[!--zhushi--]</span>                                     
					</div>
				</div>
				<div class="newsPage">
					<div class="newsPageTurn">
						<span><a>上一篇</a><a href='/bt/biji/94.html'>宝塔升级php网站打不开怎么办_宝塔面板</a><a>下一篇</a><a href='/bt/biji/96.html'>宝塔面板忘记密码怎么办_宝塔面板</a></span>
					</div>
				</div>
			</div>
			<div id="author-box">
				<h3>作者：喵哥笔记</h3>
				<div class="author-info">
					<div class="author-avatar">
						<img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
					</div>
					<div class="author-description">
						<p>学的不仅是技术，更是梦想！</p>
						<ul class="author-social follows nb">
							<li>
								<a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
							</li>
						</ul>
					</div>
					<div class="clear"></div>
				</div>
			</div>
		</div>
		<footer class="footer">
			© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

		</footer>
	</div>
	</div>
	<script src="/skin1/js/jquery.min.js"></script>
	<script src="/skin1/js/bootstrap.bundle.min.js"></script>
	<script src="/skin1/js/metismenu.min.js"></script>
	<script src="/skin1/js/jquery.slimscroll.js"></script>
	<script src="/skin1/js/waves.min.js"></script>
	<script src="/skin1/js/morris.min.js"></script>
	<script src="/skin1/js/raphael.min.js"></script>
	<script src="/skin1/js/dashboard.init.js"></script>
	<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>