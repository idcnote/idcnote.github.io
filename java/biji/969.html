<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>10个Java异常的关键知识点_java教程_IDC笔记</title>
    <meta name="keywords" content=",java教程" />
    <meta name="description" content="一. 异常是什么异常是指阻止当前方法或作用域继续执行的问题。比如你读取的文件不存在，数组越界，进行除法时，除数为0等都会导致异常。【推荐学习：java视频教程】一个文件找不到" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> Java入门			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/java/start/184.html">第一个Java程序</a></li><li><a href="/java/start/185.html">如何运行Java程序</a></li><li><a href="/java/start/186.html">Java标识符与关键字</a></li><li><a href="/java/start/187.html">Java注释</a></li><li><a href="/java/start/188.html">Java常量</a></li><li><a href="/java/start/189.html">Java基本数据类型</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> Java运算符和表达式			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/java/operators/190.html">Java运算符和表达式</a></li><li><a href="/java/operators/191.html">Java算数运算符实例讲解</a></li><li><a href="/java/operators/192.html">Java关系运算符实例讲解</a></li><li><a href="/java/operators/193.html">Java逻辑运算符实例讲解</a></li><li><a href="/java/operators/194.html">Java位运算符实例讲解</a></li><li><a href="/java/operators/195.html">Java赋值运算符实例讲解</a></li><li><a href="/java/operators/196.html">Java条件运算符实例讲解</a></li><li><a href="/java/operators/197.html">Java instanceof运算符实例讲解</a></li><li><a href="/java/operators/198.html">Java运算符的优先级和结合性</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> Java流程控制			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/java/control/200.html">Java if条件分支语句</a></li><li><a href="/java/control/199.html">Java语句</a></li><li><a href="/java/control/201.html">Java switch开关语句</a></li><li><a href="/java/control/203.html">Java while循环语句</a></li><li><a href="/java/control/202.html">Java for循环语句</a></li><li><a href="/java/control/205.html">Java break语句</a></li><li><a href="/java/control/204.html">Java do-while循环语句</a></li><li><a href="/java/control/206.html">Java continue语句</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> Java类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/java/objects/209.html">Java方法</a></li><li><a href="/java/objects/208.html">Java成员变量</a></li><li><a href="/java/objects/207.html">Java类</a></li><li><a href="/java/objects/211.html">Java创建对象</a></li><li><a href="/java/objects/210.html">Java类的构造方法</a></li><li><a href="/java/objects/213.html">Java对象的引用和实体</a></li><li><a href="/java/objects/212.html">Java使用对象</a></li><li><a href="/java/objects/216.html">Java实例变量和类变量</a></li><li><a href="/java/objects/215.html">Java参数传值</a></li><li><a href="/java/objects/214.html">Java类与程序的基本结构</a></li><li><a href="/java/objects/217.html">Java实例方法和类方法</a></li><li><a href="/java/objects/218.html">Java方法重载</a></li><li><a href="/java/objects/222.html">Java访问权限</a></li><li><a href="/java/objects/221.html">Java import语句</a></li><li><a href="/java/objects/220.html">Java包</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> Java子类与继承			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> Java接口与实现			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> Java内部类与异常类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> Java常用实用类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 		</ul>
	</li>
		<li>
	    <a href="/java/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>JAVA笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">10个Java异常的关键知识点</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>一. 异常是什么异常是指阻止当前方法或作用域继续执行的问题。比如你读取的文件不存在，数组越界，进行除法时，除数为0等都会导致异常。【推荐学习：java视频教程】一个文件找不到</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p><strong><span style="font-size: 18px;">一. 异常是什么</span></strong></p>
<p><strong>异常是指阻止当前方法或作用域继续执行的问题</strong>。比如你读取的文件不存在，数组越界，进行除法时，除数为0等都会导致异常。</p>
<p>【推荐学习：java视频教程】</p>
<p>一个<strong>文件找不到的异常</strong>：</p>
<pre class="brush:java;gutter:false;">
public class TestException {	
    public static void main(String[] args) throws IOException {	
        InputStream is = new FileInputStream(&quot;jaywei.txt&quot;);	
        int b;	
        while ((b = is.read()) != -1) {	
        }	
    }	
}</pre>
<p><strong>运行结果：</strong></p>
<pre class="brush:java;gutter:true;">
Exception in thread &quot;main&quot; java.io.FileNotFoundException: jaywei.txt (系统找不到指定的文件。)	
    at java.io.FileInputStream.open0(Native Method)	
    at java.io.FileInputStream.open(FileInputStream.java:195)	
    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:138)	
    at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:93)	
    at exception.TestException.main(TestException.java:10)</pre>
<p><strong><span style="font-size: 18px;">二. 异常的层次结构</span></strong></p>
<p><img alt="" src="/d/file/p/20221028/e1a560ad185a2373e976120e14f363af-0.png" /></p>
<p>从前从前，有位老人，他的名字叫<strong>Throwable</strong>，他生了两个儿子，大儿子叫<strong>Error</strong>,二儿子叫<strong>Exception</strong>。</p>
<h4>Error</h4>
<p>表示编译时或者系统错误，如虚拟机相关的错误，OutOfMemoryError等，error是无法处理的。</p>
<h4>Exception</h4>
<p>代码异常，Java程序员关心的基类型通常是Exception。它能被程序本身可以处理，这也是它跟Error的区别。</p>
<p>它可以分为RuntimeException（运行时异常）和CheckedException（可检查的异常）。</p>
<p><strong>常见的RuntimeException异常：</strong></p>
<pre class="brush:java;gutter:false;">
- NullPointerException 空指针异常	
- ArithmeticException 出现异常的运算条件时，抛出此异常	
- IndexOutOfBoundsException 数组索引越界异常	
- ClassNotFoundException 找不到类异常	
- IllegalArgumentException(非法参数异常)</pre>
<p><strong>常见的 Checked Exception 异常：</strong></p>
<pre class="brush:java;gutter:false;">
- IOException (操作输入流和输出流时可能出现的异常)	
- ClassCastException(类型转换异常类)</pre>
<p>　●　Checked Exception就是编译器要求你必须处置的异常。</p>
<p>　●　与之相反的是，Unchecked Exceptions，它指编译器不要求强制处置的异常，它包括Error和RuntimeException 以及他们的子类。</p>
<p><strong><span style="font-size: 18px;">三、异常处理</span></strong></p>
<p>当异常出现后，会在堆上创建异常对象。当前的执行路径被终止，并且从当前环境中弹出对异常对象的引用。这时候<strong>异常处理</strong>程序，使程序从错误状态恢复，使程序继续运行下去。</p>
<p>异常处理主要有抛出异常、捕获异常、声明异常。如图：</p>
<p><img alt="" src="/d/file/p/20221028/99b2d44c0d686ebf5c3226c51fcb3580-1.png" /></p>
<h4>捕获异常</h4>
<pre class="brush:java;gutter:false;">
try{	
// 程序代码	
}catch(Exception e){	
//Catch 块	
}finaly{	
  //无论如何,都会执行的代码块	
}</pre>
<p>我们可以通过 <code>try...catch...</code>捕获异常代码，再通过 <code>finaly</code>执行最后的操作，如关闭流等操作。</p>
<h4>声明抛出异常</h4>
<p>除了 <code>try...catch...</code>捕获异常，我们还可以通过throws声明抛出异常。</p>
<p>当你定义了一个方法时，可以用 <code>throws</code>关键字声明。使用了 <code>throws</code>关键字表明，该方法不处理异常，而是把异常留给它的调用者处理。是不是觉得TA不负责任?</p>
<p>哈哈,看一下demo吧</p>
<pre class="brush:java;gutter:false;">
//该方法通过throws声明了IO异常。	
 private void readFile() throws IOException {	
        InputStream is = new FileInputStream(&quot;jaywei.txt&quot;);	
        int b;	
        while ((b = is.read()) != -1) {	
        }	
    }</pre>
<p>从方法中声明抛出的任何异常都必须使用throws子句。</p>
<h4>抛出异常</h4>
<p>throw关键字作用是抛出一个 <code>Throwable</code>类型的异常，它一般出现在函数体中。在异常处理中，try语句要捕获的是一个异常对象，其实此异常对象也可以自己抛出。</p>
<p>例如抛出一个 RuntimeException 类的异常对象：</p>
<pre class="brush:java;gutter:false;">
throw new RuntimeException(e);</pre>
<p>任何Java代码都可以通过 Java 的throw语句抛出异常。</p>
<h4>注意点</h4>
<p>　●　非检查异常（Error、RuntimeException 或它们的子类）不可使用 throws 关键字来声明要抛出的异常。</p>
<p>　●　一个方法出现编译时异常，就需要 try-catch/ throws 处理，否则会导致编译错误。</p>
<p><strong><span style="font-size: 18px;">四、try-catch-finally-return执行顺序</span></strong></p>
<p><strong>try-catch-finally-return 执行描述</strong></p>
<p>　●　如果不发生异常，不会执行catch部分。</p>
<p>　●　不管有没有发生异常，finally都会执行到。</p>
<p>　●　即使try和catch中有return时，finally仍然会执行</p>
<p>　●　finally是在return后面的表达式运算完后再执行的。（此时并没有返回运算后的值，而是先把要返回的值保存起来，若finally中无return，则不管finally中的代码怎么样，返回的值都不会改变，仍然是之前保存的值），该情况下函数返回值是在finally执行前确定的)</p>
<p>　●　finally部分就不要return了，要不然，就回不去try或者catch的return了。</p>
<p><strong>看一个例子</strong></p>
<pre class="brush:java;gutter:false;">
 public static void main(String[] args) throws IOException {	
        System.out.println(&quot;result：&quot; + test());	
    }	
    private static int test() {	
        int temp = 1;	
        try {	
            System.out.println(&quot;start execute try,temp is:&quot;+temp);	
            return ++temp;	
        } catch (Exception e) {	
            System.out.println(&quot;start execute catch temp is: &quot;+temp);	
            return ++temp;	
        } finally {	
            System.out.println(&quot;start execute finally,temp is:&quot; + temp);	
            ++temp;	
        }	
    }</pre>
<p><strong>运行结果：</strong></p>
<pre class="brush:java;gutter:true;">
start execute try,temp is:1	
start execute finally,temp is:2	
result:2</pre>
<p><strong>分析</strong></p>
<p>　●　先执行try部分，输出日志，执行 <code>++temp</code>表达式，temp变为2,这个值被保存起来。</p>
<p>　●　因为没有发生异常，所以catch代码块跳过。</p>
<p>　●　执行finally代码块，输出日志，执行 <code>++temp</code>表达式.</p>
<p>　●　返回try部分保存的值2.</p>
<p><strong><span style="font-size: 18px;">五、Java异常类的几个重要方法</span></strong></p>
<p>先来喵一眼异常类的所有方法，如下图:</p>
<p><img alt="" src="/d/file/p/20221028/ab019e7e7066e678b2616d863b0ab436-2.png" /></p>
<h4>getMessage</h4>
<pre class="brush:java;gutter:false;">
Returns the detail message string of this throwable.</pre>
<p>getMessage会返回Throwable的 <code>detailMessage</code>属性，而 <code>detailMessage</code>就表示发生异常的详细消息描述。</p>
<p>举个例子， <code>FileNotFoundException</code>异常发生时，这个 <code>detailMessage</code>就包含这个找不到文件的名字。</p>
<h4>getLocalizedMessage</h4>
<pre class="brush:java;gutter:false;">
Creates a localized description of this throwable.Subclasses may override this	
method in order to produce alocale-specific message. For subclasses that do not	
override thismethod, the default implementation returns the same result	
as getMessage()</pre>
<p>throwable的本地化描述。子类可以重写此方法，以生成特定于语言环境的消息。对于不覆盖此方法的子类，默认实现返回与相同的结果 getMessage()。</p>
<h4>getCause</h4>
<pre class="brush:java;gutter:false;">
Returns the cause of this throwable or null if thecause is nonexistent or unknown.</pre>
<p>返回此可抛出事件的原因，或者，如果原因不存在或未知，返回null。</p>
<h4>printStackTrace</h4>
<pre class="brush:java;gutter:false;">
Prints this throwable and its backtrace to thestandard error stream.	
The first line of output contains the result of the toString() method for	
this object.Remaining lines represent data previously recorded by the	
method fillInStackTrace().</pre>
<p>该方法将堆栈跟踪信息打印到标准错误流。</p>
<p>输出的第一行，包含此对象toString()方法的结果。剩余的行表示，先前被方法fillInStackTrace()记录的数据。如下例子:</p>
<pre class="brush:java;gutter:false;">
 java.lang.NullPointerException	
         at MyClass.mash(MyClass.java:9)	
         at MyClass.crunch(MyClass.java:6)	
         at MyClass.main(MyClass.java:3)</pre>
<p><strong><span style="font-size: 18px;">六、自定义异常</span></strong></p>
<p>自定义异常通常是定义一个继承自 Exception 类的子类。</p>
<p><strong>那么，为什么需要自定义异常？</strong></p>
<p>　●　Java提供的异常体系不可能预见所有的错误。</p>
<p>　●　业务开发中，使用自定义异常，可以让项目代码更加规范，也便于管理。</p>
<p>下面是我司自定义异常类的一个简单demo</p>
<pre class="brush:java;gutter:false;">
public class BizException extends Exception {	
    //错误信息	
    private String message;	
    //错误码	
    private String errorCode;	
    public BizException() {	
    }	
    public BizException(String message, String errorCode) {	
        this.message = message;	
        this.errorCode = errorCode;	
    }	
    @Override	
    public String getMessage() {	
        return message;	
    }	
    public void setMessage(String message) {	
        this.message = message;	
    }	
    public String getErrorCode() {	
        return errorCode;	
    }	
    public void setErrorCode(String errorCode) {	
        this.errorCode = errorCode;	
    }	
}</pre>
<p><strong>跑个main方测试一下</strong></p>
<pre class="brush:java;gutter:false;">
public class TestBizException {	
    public static void testBizException() throws BizException {	
        System.out.println(&quot;throwing BizException from testBizException()&quot;);	
        throw new BizException(&quot;100&quot;,&quot;哥，我错了&quot;);	
    }	
    public static void main(String[] args) {	
        try {	
            testBizException();	
        } catch (BizException e) {	
            System.out.println(&quot;自己定义的异常&quot;);	
            e.printStackTrace();	
        }	
    }	
}</pre>
<p><strong>运行结果：</strong></p>
<pre class="brush:java;gutter:false;">
exception.BizException: 100	
throwing BizException from testBizException()	
自己定义的异常	
    at exception.TestBizException.testBizException(TestBizException.java:7)	
    at exception.TestBizException.main(TestBizException.java:12)</pre>
<p><strong><span style="font-size: 18px;">七、Java7 新的 try-with-resources语句</span></strong></p>
<p>try-with-resources，是Java7提供的一个新功能，它用于自动资源管理。</p>
<p>　●　资源是指在程序用完了之后必须要关闭的对象。</p>
<p>　●　try-with-resources保证了每个声明了的资源在语句结束的时候会被关闭</p>
<p>　●　什么样的对象才能当做资源使用呢？只要实现了java.lang.AutoCloseable接口或者java.io.Closeable接口的对象，都OK。</p>
<p><strong>在 <code>try-with-resources</code>出现之前</strong></p>
<pre class="brush:java;gutter:false;">
try{	
    //open resources like File, Database connection, Sockets etc	
} catch (FileNotFoundException e) {	
    // Exception handling like FileNotFoundException, IOException etc	
}finally{	
    // close resources	
}</pre>
<p><strong>Java7， <code>try-with-resources</code>出现之后，使用资源实现</strong></p>
<pre class="brush:java;gutter:false;">
try(// open resources here){	
    // use resources	
} catch (FileNotFoundException e) {	
    // exception handling	
}	
// resources are closed as soon as try-catch block is executed.</pre>
<p>Java7使用资源demo</p>
<pre class="brush:java;gutter:false;">
public class Java7TryResourceTest {	
    public static void main(String[] args) {	
        try (BufferedReader br = new BufferedReader(new FileReader(	
                &quot;C:/jaywei.txt&quot;))) {	
            System.out.println(br.readLine());	
        } catch (IOException e) {	
            e.printStackTrace();	
        }	
    }	
}</pre>
<p><strong>使用了 <code>try-with-resources</code>的好处</strong></p>
<p>　●　代码更加优雅，行数更少。</p>
<p>　●　资源自动管理，不用担心内存泄漏问题。</p>
<p><strong><span style="font-size: 18px;">八、异常链</span></strong></p>
<p>我们常常会想要在捕获一个异常后抛出另一个异常，并且希望把原始异常的信息保存下来，这被称为<strong>异常链</strong>。</p>
<p><strong>throw</strong> 抛出的是一个新的异常信息，这样会导致原有的异常信息丢失。在JDk1.4以前，程序员必须自己编写代码来保存原始异常信息。现在所有 <code>Throwable</code> 子类在构造器中都可以接受一个 <code>cause(异常因由)</code> 对象作为参数。</p>
<p>这个 <code>cause</code>就用来表示原始异常，这样通过把原始异常传递给新的异常，使得即使当前位置创建并抛出了新的异常，也能通过这个异常链追踪到异常最初发生的位置。</p>
<p>使用方式如下：</p>
<pre class="brush:java;gutter:false;">
public class TestChainException {	
    public void readFile() throws MyException{	
        try {	
            InputStream is = new FileInputStream(&quot;jay.txt&quot;);	
            Scanner in = new Scanner(is);	
            while (in.hasNext()) {	
                System.out.println(in.next());	
            }	
        } catch (FileNotFoundException e) {	
            //e 保存异常信息	
            throw new MyException(&quot;文件在哪里呢&quot;, e);	
        }	
    }	
    public void invokeReadFile() throws MyException{	
        try {	
            readFile();	
        } catch (MyException e) {	
            //e 保存异常信息	
            throw new MyException(&quot;文件找不到&quot;, e);	
        }	
    }	
    public static void main(String[] args) {	
        TestChainException t = new TestChainException();	
        try {	
            t.invokeReadFile();	
        } catch (MyException e) {	
            e.printStackTrace();	
        }	
    }	
}	
//MyException 构造器	
public MyException(String message, Throwable cause) {	
        super(message, cause);	
    }</pre>
<p><strong>运行结果：</strong></p>
<p><img alt="" src="/d/file/p/20221028/9bfef01eec304d27b14957ffdcfa982b-3.png" /></p>
<p>我们可以看到异常信息有保存下来的，如果把cause（也就是FileNotFoundException 的e）去掉呢，看一下运行结果：</p>
<p><img alt="" src="/d/file/p/20221028/8a05e99d5c801261768049e5fe32138c-4.png" /></p>
<p>可以发现，少了 <code>Throwablecause</code>，原始异常信息不翼而飞了。</p>
<p><strong><span style="font-size: 18px;">九、异常匹配</span></strong></p>
<p>抛出异常的时候,异常处理系统会按照代码的书写顺序找出&quot;最近&quot;的处理程序。找到匹配的处理程序之后,它就认为异常将得到处理,然后就不再继续查找。</p>
<p>查找的时候并不要求抛出的异常同处理程序的异常完全匹配。派生类的对象也可以配备其基类的处理程序</p>
<p>看demo</p>
<pre class="brush:java;gutter:false;">
package exceptions;	
//: exceptions/Human.java	
// Catching exception hierarchies.	
class Annoyance extends Exception {}	
class Sneeze extends Annoyance {}	
public class Human {	
  public static void main(String[] args) {	
    // Catch the exact type:	
    try {	
      throw new Sneeze();	
    } catch(Sneeze s) {	
      System.out.println(&quot;Caught Sneeze&quot;);	
    } catch(Annoyance a) {	
      System.out.println(&quot;Caught Annoyance&quot;);	
    }	
    // Catch the base type:	
    try {	
      throw new Sneeze();	
    } catch(Annoyance a) {	
      System.out.println(&quot;Caught Annoyance&quot;);	
    }	
  }	
}</pre>
<p><strong>运行结果：</strong></p>
<p><img alt="" src="/d/file/p/20221028/77ce8ddebf1e7705de9e76e27e5c1f10-5.png" /></p>
<p>catch(Annoyance a)会捕获Annoyance以及所有从它派生的异常。捕获基类的异常,就可以匹配所有派生类的异常</p>
<pre class="brush:java;gutter:false;">
try {	
      throw new Sneeze();	
    } catch(Annoyance a) {	
    } catch(Sneeze s) { //这句编译器会报错,因为异常已由前面catch子句处理	
    }</pre>
<p><strong><span style="font-size: 18px;">十、Java常见异常</span></strong></p>
<p><strong>NullPointerException</strong></p>
<p>空指针异常，最常见的一个异常类。简言之，调用了未经初始化的对象或者是不存在的对象，就会产生该异常。</p>
<p><strong>ArithmeticException</strong></p>
<p>算术异常类，程序中出现了除数为0这样的运算，就会出现这样的异常。</p>
<p><strong>ClassCastException</strong></p>
<p>类型强制转换异常,它是JVM在检测到两个类型间转换不兼容时引发的运行时异常。</p>
<p><strong>ArrayIndexOutOfBoundsException</strong></p>
<p>数组下标越界异常，跟数组打交道时，需要注意一下这个异常。</p>
<p><strong>FileNotFoundException</strong></p>
<p>文件未找到异常，一般是要读或者写的文件，找不到，导致该异常。</p>
<p><strong>SQLException</strong></p>
<p>操作数据库异常，它是Checked Exception（检查异常）；</p>
<p><strong>IOException</strong></p>
<p>IO异常，一般跟读写文件息息相关，它也是Checked Exception（检查异常）。平时读写文件，记得IO流关闭！</p>
<p><strong>NoSuchMethodException</strong></p>
<p>方法未找到异常</p>
<p><strong>NumberFormatException</strong></p>
<p>字符串转换为数字异常</p>
<p><strong><span style="font-size: 18px;">总结</span></strong></p>
<p>这个总结独辟蹊径，以几道经典异常面试题结束吧，以帮助大家复习一下，嘻嘻。</p>
<p>　●　java 异常有哪几种，特点是什么？（知识点二可答）</p>
<p>　●　什么是Java中的异常？（知识点一可答）</p>
<p>　●　error和exception有什么区别？（知识点二可答）</p>
<p>　●　什么是异常链？（知识点八可答）</p>
<p>　●　try-catch-finally-return执行顺序（知识点四可答）</p>
<p>　●　列出常见的几种RunException （知识点二可答）</p>
<p>　●　Java异常类的重要方法是什么？（知识点五可答）</p>
<p>　●　error和exception的区别，CheckedException，RuntimeException的区别。（知识点二可答）</p>
<p>　●　请列出5个运行时异常。（知识点二可答）</p>
<p>　●　Java 7 新的 try-with-resources 语句（知识点七可答）</p>
<p>　●　怎么自定义异常？（知识点六可答）</p>
<p>　●　说一下常见异常以及产生原因（知识点十可答）</p>
<p>　●　谈谈异常匹配（知识点九可答）</p>
<p>　●　谈谈异常处理（知识点三可答）</p><!-- .entry-wrapper --></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span>[!--zhushi--]</span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/java/biji/968.html'>java复制文件的4种方实例</a><a>下一篇</a><a href='/java/biji/970.html'>java操作new HttpPost(URL)和 new URL(shixun_ip) 获取流</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>

<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>