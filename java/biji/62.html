<!DOCTYPE html>
<html lang="zh-cn">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimal-ui">
    <title>有效选择七个关于Java的JSON开源类库_java教程_IDC笔记</title>
    <meta name="keywords" content=",java教程" />
    <meta name="description" content="简介JSON是JavaScript Object Notation的缩写，是一种轻量级的数据交换形式，是一种XML的替代方案，而且比XML更小，更快而且更易于解析。因为JSON描述对象" />
    <meta content="idcnote.com" name="author" />
    <link rel="shortcut icon" href="/skin1/images/favicon.ico">
    <!--Morris Chart CSS -->
    <link rel="stylesheet" href="/skin1/css/morris.css">
    <link href="/skin1/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/metismenu.min.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/icons.css" rel="stylesheet" type="text/css">
    <link href="/skin1/css/style.css" rel="stylesheet" type="text/css">
<link href="/SyntaxHighlighter/shCoreDefault.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="/SyntaxHighlighter/shCore.js"></script>
<script type="text/javascript">
 SyntaxHighlighter.all();
</script>
<script>
var paras = document.getElementsByTagName("pre");
for ( var i=0;i<paras.length;i++ ) {
    paras[i].setAttribute("class","brush:php;toolbar:false");     
}
</script>
</head>
<body>
<!-- Begin page -->
		<div id="wrapper">
			<!-- Top Bar Start -->
			<div class="topbar">
				<!-- LOGO -->
				<div class="topbar-left">
					<a href="/" class="logo">
						<span class="logo-light">
                            <i class="mdi mdi-camera-control"></i>IDC笔记
                        </span>
						<span class="logo-sm">
                            <i class="mdi mdi-camera-control"></i>
                        </span>
					</a>
				</div>
				<nav class="navbar-custom">
					<ul class="navbar-right list-inline float-right mb-0">
						<!--<li class="dropdown notification-list list-inline-item d-none d-md-inline-block">
							<a class="nav-link waves-effect" href="#" id="btn-fullscreen">
								<i class="mdi mdi-arrow-expand-all noti-icon"></i>
							</a>
						</li>
						<li class="dropdown notification-list list-inline-item">
							<div class="dropdown notification-list nav-pro-img">
								<a class="dropdown-toggle nav-link arrow-none nav-user" data-toggle="dropdown" href="#" role="button" aria-haspopup="false" aria-expanded="false">
									<img src="/skin1/picture/user-4.jpg" alt="user" class="rounded-circle">
								</a>
								<div class="dropdown-menu dropdown-menu-right profile-dropdown ">
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-account-circle"></i> Profile</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-wallet"></i> Wallet</a>
									<a class="dropdown-item d-block" href="#">
										<span class="badge badge-success float-right">11</span>
										<i class="mdi mdi-settings"></i> Settings</a>
									<a class="dropdown-item" href="#">
										<i class="mdi mdi-lock-open-outline"></i> Lock screen</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item text-danger" href="#">
										<i class="mdi mdi-power text-danger"></i> Logout</a>
								</div>
							</div>
						</li>
						-->
					</ul>
					<ul class="list-inline menu-left mb-0">
						<li class="float-left">
							<button class="button-menu-mobile open-left waves-effect">
                            <i class="mdi mdi-menu"></i>
                        </button>
						</li>
						<li class="d-none d-md-inline-block">
							<form role="search" class="app-search">
								<div class="form-group mb-0">
									<input type="text" class="form-control" placeholder="Search..">
									<button type="submit"><i class="fa fa-search"></i></button>
								</div>
							</form>
						</li>
					</ul>
				</nav>
			</div>
<!-- ========== Left Sidebar Start ========== -->
<div class="left side-menu">
    <div class="slimscroll-menu" id="remove-scroll">
    <!--- Sidemenu -->
    <div id="sidebar-menu">
    <!-- Left Menu Start -->
    <ul class="metismenu" id="side-menu">
			<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> Java入门			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/java/start/184.html">第一个Java程序</a></li><li><a href="/java/start/185.html">如何运行Java程序</a></li><li><a href="/java/start/186.html">Java标识符与关键字</a></li><li><a href="/java/start/187.html">Java注释</a></li><li><a href="/java/start/188.html">Java常量</a></li><li><a href="/java/start/189.html">Java基本数据类型</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> Java运算符和表达式			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/java/operators/190.html">Java运算符和表达式</a></li><li><a href="/java/operators/191.html">Java算数运算符实例讲解</a></li><li><a href="/java/operators/192.html">Java关系运算符实例讲解</a></li><li><a href="/java/operators/193.html">Java逻辑运算符实例讲解</a></li><li><a href="/java/operators/194.html">Java位运算符实例讲解</a></li><li><a href="/java/operators/195.html">Java赋值运算符实例讲解</a></li><li><a href="/java/operators/196.html">Java条件运算符实例讲解</a></li><li><a href="/java/operators/197.html">Java instanceof运算符实例讲解</a></li><li><a href="/java/operators/198.html">Java运算符的优先级和结合性</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> Java流程控制			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/java/control/200.html">Java if条件分支语句</a></li><li><a href="/java/control/199.html">Java语句</a></li><li><a href="/java/control/201.html">Java switch开关语句</a></li><li><a href="/java/control/203.html">Java while循环语句</a></li><li><a href="/java/control/202.html">Java for循环语句</a></li><li><a href="/java/control/205.html">Java break语句</a></li><li><a href="/java/control/204.html">Java do-while循环语句</a></li><li><a href="/java/control/206.html">Java continue语句</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> Java类与对象			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 <li><a href="/java/objects/209.html">Java方法</a></li><li><a href="/java/objects/208.html">Java成员变量</a></li><li><a href="/java/objects/207.html">Java类</a></li><li><a href="/java/objects/211.html">Java创建对象</a></li><li><a href="/java/objects/210.html">Java类的构造方法</a></li><li><a href="/java/objects/213.html">Java对象的引用和实体</a></li><li><a href="/java/objects/212.html">Java使用对象</a></li><li><a href="/java/objects/216.html">Java实例变量和类变量</a></li><li><a href="/java/objects/215.html">Java参数传值</a></li><li><a href="/java/objects/214.html">Java类与程序的基本结构</a></li><li><a href="/java/objects/217.html">Java实例方法和类方法</a></li><li><a href="/java/objects/218.html">Java方法重载</a></li><li><a href="/java/objects/222.html">Java访问权限</a></li><li><a href="/java/objects/221.html">Java import语句</a></li><li><a href="/java/objects/220.html">Java包</a></li>		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> Java子类与继承			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> Java接口与实现			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> Java内部类与异常类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 		</ul>
	</li>
		<li>
		<a href="javascript:void(0);" class="waves-effect">
			<i class="icon-share"></i>
			<span> Java常用实用类			<span class="float-right menu-arrow">
			<i class="mdi mdi-chevron-right"></i>
			</span> 
			</span>
		</a>
		<ul class="submenu">
			 		</ul>
	</li>
		<li>
	    <a href="/java/biji/" class="waves-effect">
		    <i class="icon-share"></i>
		    <span>JAVA笔记
		       	<span class="float-right menu-arrow">
		       	<i class="mdi mdi-chevron-right"></i>
		       	</span>
		    </span>
	    </a>
	</li>
	</ul>
</div>
<!-- Sidebar -->
<div class="clearfix"></div>
</div>
<!-- Sidebar -left -->
</div>
<!-- Left Sidebar End -->
<!-- Start right Content here -->
<div class="content-page">
	<div class="content">
		<div class="container-fluid">
			<div class="page-title-box">
				<div class="row align-items-center">
					<div class="col-sm-6">
						<h1 class="page-title">有效选择七个关于Java的JSON开源类库</h1>
					</div>
				</div>
				<!-- end row -->
			</div>
			<!-- end page-title -->
			<!-- START ROW -->
			<div class="panel panel-forbid">
				<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>内容摘要</div>
			    <div class="panel-content">
			    <span>简介JSON是JavaScript Object Notation的缩写，是一种轻量级的数据交换形式，是一种XML的替代方案，而且比XML更小，更快而且更易于解析。因为JSON描述对象</span>                                     
		    	</div>
			    <div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>文章正文</div>
			    <div class="panel-content">
			    <span><p><strong>简介</strong></p>
<p>JSON是JavaScript&nbsp;Object&nbsp;Notation的缩写，是一种轻量级的数据交换形式，是一种XML的替代方案，而且比XML更小，更快而且更易于解析。因为JSON描述对象的时候使用的是JavaScript语法，它是语言和平台独立的，并且这些年许多JSON的解析器和类库被开发出来。在这篇文章中，我们将会展示7种Java&nbsp;JSON类库。基本上，我们将会试着把Java对象转换JSON格式并且存储到文件，并且反向操作，读JSON文件转换成一个对象。为了让文章更有意义，我们将会测量每一种JSON类库在不同情况下的处理速度。</p>
<p><strong>&nbsp;（一）类库介绍及其使用</strong></p>
<p><strong>（1）使用Jackson类库</strong></p>
<p>第一个介绍的是Jackson类库，Jackson库是一个&ldquo;旨在为开发者提供更快，更正确，更轻量级，更符合人性思维&rdquo;&nbsp;的类库。Jackson为处理JSON格式提供了三种模型的处理方法。</p>
<p>1、流式API或者增量解析/产生（&nbsp;incremental&nbsp;parsing/generation）：读写JSON内容被作为离散的事件。</p>
<p>2、树模型：提供一个可变内存树表示JSON文档。</p>
<p>3、数据绑定（Data&nbsp;binding）：实现JSON与POJO（简单的Java对象（Plain&nbsp;Old&nbsp;Java&nbsp;Object））的转换</p>
<p>我们感兴趣的是Java对象与JSON的转换，因此，我们将集中于第三种处理方法。首先我们需要下载Jackson。Jackson的核心功能使用三个类库，分别是jackson-core-2.3.1,&nbsp;jackson-databind-2.3.1和jackson-annotations-2.3.1;&nbsp;三个类库的下载都来自于Maven仓库</p>
<p>现在，让我们来工作吧，为了从Java对象中获得一个一个复杂的JSON对象，我们将会使用下面的类去构造一个对象。同样的Java对象将会被用于这篇文章的所有的类库中。</p>
<pre>
public&nbsp;class&nbsp;JsonThirdObject&nbsp;{

&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;int&nbsp;age&nbsp;=&nbsp;81;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;String&nbsp;name&nbsp;=&nbsp;&quot;Michael&nbsp;Caine&quot;;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;List&lt;String&gt;&nbsp;messages;

&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;JsonThirdObject()&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.messages&nbsp;=&nbsp;new&nbsp;ArrayList&lt;String&gt;()&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&quot;You&nbsp;wouldn&#39;t&nbsp;hit&nbsp;a&nbsp;man&nbsp;with&nbsp;no&nbsp;trousers..&quot;);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&quot;At&nbsp;this&nbsp;point,&nbsp;I&#39;d&nbsp;set&nbsp;you&nbsp;up&nbsp;with&nbsp;a..&quot;);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&quot;You&nbsp;know,&nbsp;your&nbsp;bobby&nbsp;dangler,&nbsp;giggle&nbsp;stick,..&quot;);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Getter&nbsp;and&nbsp;setter

}

&nbsp;

public&nbsp;class&nbsp;JsonSecondObject&nbsp;{

&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;int&nbsp;age&nbsp;=&nbsp;83;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;String&nbsp;name&nbsp;=&nbsp;&quot;Clint&nbsp;Eastwood&quot;;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;JsonThirdObject&nbsp;jsnTO&nbsp;=&nbsp;new&nbsp;JsonThirdObject();

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;List&lt;String&gt;&nbsp;messages;

&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;JsonSecondObject()&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.messages&nbsp;=&nbsp;new&nbsp;ArrayList&lt;String&gt;()&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&quot;This&nbsp;is&nbsp;the&nbsp;AK-47&nbsp;assault..&quot;);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&quot;Are&nbsp;you&nbsp;feeling&nbsp;lucky..&quot;);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&quot;When&nbsp;a&nbsp;naked&nbsp;man&#39;s&nbsp;chasing&nbsp;a..&quot;);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Getter&nbsp;and&nbsp;setter

}

&nbsp;

public&nbsp;class&nbsp;JsonFirstObject&nbsp;{

&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;int&nbsp;age&nbsp;=&nbsp;76;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;String&nbsp;name&nbsp;=&nbsp;&quot;Morgan&nbsp;Freeman&quot;;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;JsonSecondObject&nbsp;jsnSO&nbsp;=&nbsp;new&nbsp;JsonSecondObject();

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;List&lt;String&gt;&nbsp;messages;

&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;JsonFirstObject()&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.messages&nbsp;=&nbsp;new&nbsp;ArrayList&lt;String&gt;()&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&quot;I&nbsp;once&nbsp;heard&nbsp;a&nbsp;wise&nbsp;man&nbsp;say..&quot;);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&quot;Well,&nbsp;what&nbsp;is&nbsp;it&nbsp;today?&nbsp;More..&quot;);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&quot;Bruce...&nbsp;I&#39;m&nbsp;God.&nbsp;Circumstances&nbsp;have..&quot;);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Getter&nbsp;and&nbsp;setter

}

&nbsp;

public&nbsp;class&nbsp;Json&nbsp;{

&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;int&nbsp;age&nbsp;=&nbsp;52;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;String&nbsp;name&nbsp;=&nbsp;&quot;Jim&nbsp;Carrey&quot;;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;JsonFirstObject&nbsp;jsnFO&nbsp;=&nbsp;new&nbsp;JsonFirstObject();

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;List&lt;String&gt;&nbsp;messages;

&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;Json()&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.messages&nbsp;=&nbsp;new&nbsp;ArrayList&lt;String&gt;()&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&quot;Hey,&nbsp;maybe&nbsp;I&nbsp;will&nbsp;give&nbsp;you..&quot;);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&quot;Excuse&nbsp;me,&nbsp;I&#39;d&nbsp;like&nbsp;to..&quot;);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add(&quot;Brain&nbsp;freeze.&nbsp;Alrighty&nbsp;Then&nbsp;I&nbsp;just..&quot;);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Getter&nbsp;and&nbsp;setter

}</pre>
<p>上面的Java对象转换成JSON格式是下面这样的。</p>
<pre>
{

&nbsp;&nbsp;&nbsp;&quot;age&quot;:52,

&nbsp;&nbsp;&nbsp;&quot;name&quot;:&quot;Jim&nbsp;Carrey&quot;,

&nbsp;&nbsp;&nbsp;&quot;jsnFO&quot;:{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;age&quot;:76,

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;name&quot;:&quot;Morgan&nbsp;Freeman&quot;,

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;jsnSO&quot;:{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;age&quot;:83,

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;name&quot;:&quot;Clint&nbsp;Eastwood&quot;,

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;jsnTO&quot;:{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;age&quot;:81,

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;name&quot;:&quot;Michael&nbsp;Caine&quot;,

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;messages&quot;:[

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;You&nbsp;wouldn&#39;t&nbsp;hit&nbsp;a&nbsp;man..&quot;,

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;At&nbsp;this&nbsp;point,&nbsp;I&#39;d&nbsp;set&nbsp;you..&quot;,

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;You&nbsp;know,&nbsp;your&nbsp;bobby&nbsp;dangler..&quot;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;messages&quot;:[

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;This&nbsp;is&nbsp;the&nbsp;AK-47&nbsp;assault..&quot;,

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Are&nbsp;you&nbsp;feeling&nbsp;lucky..&quot;,

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;When&nbsp;a&nbsp;naked&nbsp;man&#39;s&nbsp;chasing&nbsp;a..&quot;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;messages&quot;:[

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;I&nbsp;once&nbsp;heard&nbsp;a&nbsp;wise&nbsp;man..&quot;,

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Well,&nbsp;what&nbsp;is&nbsp;it&nbsp;today?&nbsp;More..&quot;,

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Bruce...&nbsp;I&#39;m&nbsp;God.&nbsp;Circumstances&nbsp;have..&quot;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]

&nbsp;&nbsp;&nbsp;},

&nbsp;&nbsp;&nbsp;&quot;messages&quot;:[

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Hey,&nbsp;maybe&nbsp;I&nbsp;will&nbsp;give&nbsp;you&nbsp;a&nbsp;call..&quot;,

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Excuse&nbsp;me,&nbsp;I&#39;d&nbsp;like&nbsp;to&nbsp;ask&nbsp;you&nbsp;a&nbsp;few..&quot;,

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Brain&nbsp;freeze.&nbsp;Alrighty&nbsp;Then&nbsp;I&nbsp;just&nbsp;heard..&quot;

&nbsp;&nbsp;&nbsp;]

}</pre>
<p>现在，让我们来看看怎么样把Java对象转换成JSON并且写入文件。Jackson使用一个ObjectMapper功能，我们第一步要做的是：</p>
<pre>
Json&nbsp;jsonObj&nbsp;=&nbsp;new&nbsp;Json();

ObjectMapper&nbsp;mapper&nbsp;=&nbsp;new&nbsp;ObjectMapper();</pre>
<p>然后，我们将会使用这个ObjectMapper直接写入值到文件。</p>
<pre>
System.out.println(&quot;Convert&nbsp;Java&nbsp;object&nbsp;to&nbsp;JSON&nbsp;format&nbsp;and&nbsp;save&nbsp;to&nbsp;file&quot;);

try&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapper.writeValue(new&nbsp;File(&quot;c:\\jackson.json&quot;),&nbsp;jsonObj);

}&nbsp;catch&nbsp;(JsonGenerationException&nbsp;e)&nbsp;{

}&nbsp;catch&nbsp;(JsonMappingException&nbsp;e)&nbsp;{

}&nbsp;catch&nbsp;(IOException&nbsp;e)&nbsp;{

}</pre>
<p>现在，我们有了一个JSON文件，但是，怎么样转回Java对象呢？我们可以这样做：</p>
<pre>
System.out.println(&quot;Read&nbsp;JSON&nbsp;from&nbsp;file,&nbsp;convert&nbsp;JSON&nbsp;back&nbsp;to&nbsp;object&quot;);

try&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonObj&nbsp;=&nbsp;mapper.readValue(new&nbsp;File(&quot;c:\\jackson.json&quot;),&nbsp;Json.class);

}&nbsp;catch&nbsp;(JsonGenerationException&nbsp;e)&nbsp;{

}&nbsp;catch&nbsp;(JsonMappingException&nbsp;e)&nbsp;{

}&nbsp;catch&nbsp;(IOException&nbsp;e)&nbsp;{

}</pre>
<p>从上面的例子我们知道了JSON和Java对象的相互转换，在try-catch中总共也就两行，看起来不错是吧，但是它快么？我们将会在后面的文章中揭晓。</p>
<p><strong>&nbsp;（2）使用&nbsp;Google-Gson类库</strong></p>
<p>第二种就是&nbsp;Google-Gson，我们立即开始讨论&nbsp;Gson，你或许更喜欢他的全名Google-Gson。Gson能实现Java对象和JSON之间的相互转换。甚至都不需要注释。Gson的特点：</p>
<p>1）提供简单的toJson()方法和fromJson()去实现相互转换。</p>
<p>2）可以从JSON中转换出之前存在的不可改变的对象。</p>
<p>3）扩展提供了Java泛型。</p>
<p>4）支持任意复杂的对象。</p>
<p>Gson就需要一个.jar文件，gson-2.2.4.jar，下面是例子，把Java对象转换成JSON。</p>
<pre>
Json&nbsp;jsonObj&nbsp;=&nbsp;new&nbsp;Json();

Gson&nbsp;gson&nbsp;=&nbsp;new&nbsp;Gson();


System.out.println(&quot;Convert&nbsp;Java&nbsp;object&nbsp;to&nbsp;JSON&nbsp;format&nbsp;and&nbsp;save&nbsp;to&nbsp;file&quot;);

try&nbsp;(FileWriter&nbsp;writer&nbsp;=&nbsp;new&nbsp;FileWriter(&quot;c:\\gson.json&quot;))&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(gson.toJson(jsonObj));

}&nbsp;catch&nbsp;(IOException&nbsp;e)&nbsp;{

}</pre>
<p>JSON转换成Java对象：</p>
<pre>
System.out.println(&quot;Read&nbsp;JSON&nbsp;from&nbsp;file,&nbsp;convert&nbsp;JSON&nbsp;string&nbsp;back&nbsp;to&nbsp;object&quot;);

try&nbsp;(BufferedReader&nbsp;reader&nbsp;=&nbsp;new&nbsp;BufferedReader(new&nbsp;FileReader(&quot;c:\\gson.json&quot;)))&nbsp;{

&nbsp;&nbsp;&nbsp;jsonObj&nbsp;=&nbsp;gson.fromJson(reader,&nbsp;Json.class);

}&nbsp;catch&nbsp;(FileNotFoundException&nbsp;e)&nbsp;{

}&nbsp;catch&nbsp;(IOException&nbsp;e)&nbsp;{

}</pre>
<p>上面就是我们所有需要做的，接下来我们可以对&nbsp;jsonObj&nbsp;作进一步处理。当调用JSON操作的时候，因为Gson的实例化对象没有维持任何状态，我们可以重复使用一个对象为多个JSON序列化和反序列化操作。</p>
<p><strong>（3）使用JSON-lib类库</strong></p>
<p>JSON-lib类库是基于Douglas&nbsp;Crockford的工作成果，能转换bean，map，集合（collection），java数组和XML转换成JSON并能反向转换成beans和动态bean（DynaBean）。</p>
<ul>
	<li>&middot;&nbsp;jakarta&nbsp;commons-lang&nbsp;2.6</li>
	<li>&middot;&nbsp;jakarta&nbsp;commons-beanutils&nbsp;1.9.1</li>
	<li>&middot;&nbsp;jakarta&nbsp;commons-collections&nbsp;3.2.1</li>
	<li>&middot;&nbsp;jakarta&nbsp;commons-logging&nbsp;1.1.3</li>
	<li>&middot;&nbsp;ezmorph&nbsp;1.0.6</li>
</ul>
<p>(译者注：Douglas&nbsp;Crockford是Web开发领域最知名的技术权威之一，ECMA&nbsp;JavaScript2.0标准化委员会委员。被JavaScript之父Brendan&nbsp;Eich称为JavaScript的大宗师（Yoda）。曾任Yahoo!资深JavaScript架构师，现任PayPal高级JavaScript架构师。他是JSON、JSLint、JSMin和ADSafe的创造者，也是名著《JavaScript:&nbsp;The&nbsp;Good&nbsp;Parts》（中文版《JavaScript语言精粹》）的作者。撰写了许多广为流传、影响深远的技术文章，包括&ldquo;JavaScript:世界上最被误解的语言&rdquo;。Douglas&nbsp;Crockford曾在著名的Lucasfilm电影公司任技术总监；在Paramount（派拉蒙）公司任新媒体高级总监；communities社区创始人兼CEO；State软件公司CTO。2012.05.14，Paypal宣布Douglas&nbsp;Crockford加入Paypal。)</p>
<p>同样，让我们来把Java对象转成JSON。</p>
<pre>
Json&nbsp;jsonObj&nbsp;=&nbsp;new&nbsp;Json();

JSONObject&nbsp;json;

System.out.println(&quot;Convert&nbsp;Java&nbsp;object&nbsp;to&nbsp;JSON&nbsp;format&nbsp;and&nbsp;save&nbsp;to&nbsp;file&quot;);

try&nbsp;(FileWriter&nbsp;writer&nbsp;=&nbsp;new&nbsp;FileWriter(&quot;c:\\json-lib.json&quot;))&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json&nbsp;=&nbsp;JSONObject.fromObject(jsonObj);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.write(writer);

}&nbsp;catch&nbsp;(IOException&nbsp;e)&nbsp;{

}</pre>
<p>JSON转Java对象</p>
<pre>
System.out.println(&quot;Read&nbsp;JSON&nbsp;from&nbsp;file,&nbsp;convert&nbsp;JSON&nbsp;string&nbsp;back&nbsp;to&nbsp;object&quot;);

try&nbsp;(BufferedReader&nbsp;reader&nbsp;=&nbsp;new&nbsp;BufferedReader(new&nbsp;FileReader(&quot;c:\\json-lib.json&quot;)))&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonObj&nbsp;=&nbsp;(Json)&nbsp;JSONObject.toBean(JSONObject.fromObject(reader),&nbsp;Json.class);

}&nbsp;catch&nbsp;(IOException&nbsp;ex)&nbsp;{

}</pre>
<p>这里有个问题，这些依赖关系会影响到性能吗？文章在下面揭晓。</p>
<p><strong>&nbsp;（4）使用Flexjson类库</strong></p>
<p>Flexjson是一个轻量级的库，能序列化和反序列化Java对象和JSON，允许深层和浅层对象的拷贝。深度拷贝意味着一个被Flexjson序列化的对象，它能让对象做到类似于延迟加载（lazy-loading）的技术，能让我们在对对象有需要时才提取。当我们想把整个对象写入到文件时，这不是一个好的情况，但是它知道需要才去做时，这是很好的。</p>
<p>Flexjson下载地址：<a href="http://sourceforge.net/projects/flexjson/files/" target="_blank">http://sourceforge.net/projects/flexjson/files/</a>&nbsp;它不需要其他库就可以工作。下面是例子：Java对象转JSON。</p>
<pre>
Json&nbsp;jsonObj&nbsp;=&nbsp;new&nbsp;Json();

JSONSerializer&nbsp;serializer&nbsp;=&nbsp;new&nbsp;JSONSerializer();

System.out.println(&quot;Convert&nbsp;Java&nbsp;object&nbsp;to&nbsp;JSON&nbsp;format&nbsp;and&nbsp;save&nbsp;to&nbsp;file&quot;);

try&nbsp;(FileWriter&nbsp;writer&nbsp;=&nbsp;new&nbsp;FileWriter(&quot;c:\\flexjson.json&quot;))&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;serializer.deepSerialize(jsonObj,&nbsp;writer);

}&nbsp;catch&nbsp;(IOException&nbsp;e)&nbsp;{

}</pre>
<p>JSON转Java对象</p>
<pre>
System.out.println(&quot;Read&nbsp;JSON&nbsp;from&nbsp;file,&nbsp;convert&nbsp;JSON&nbsp;string&nbsp;back&nbsp;to&nbsp;object&quot;);&nbsp;

try&nbsp;(BufferedReader&nbsp;reader&nbsp;=&nbsp;new&nbsp;BufferedReader(new&nbsp;FileReader(&quot;c:\\flexjson.json&quot;))){&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;jsonObj&nbsp;=&nbsp;new&nbsp;JSONDeserializer&lt;Json&gt;().deserialize(reader);&nbsp;

}&nbsp;catch&nbsp;(FileNotFoundException&nbsp;e)&nbsp;{

}&nbsp;catch&nbsp;(IOException&nbsp;e)&nbsp;{&nbsp;

}</pre>
<p>简单有效是吧！</p>
<p><strong>（5）使用Json-io类库</strong></p>
<p>json-io有两个主要的类，一个读和一个写，排除了使用ObjectInputStream和&nbsp;ObjectOutputStream两个类去读写。Json-io能序列化任意的Java对象图（graph）转变成JSON，并且能记忆完整的语义图（graph&nbsp;semantics）和对象类型。下载地址：&nbsp;<a href="http://search.maven.org/" target="_blank">Maven&nbsp;Central&nbsp;Repository</a></p>
<p>它不需要其他依赖。</p>
<p>例子：Java对象转JSON</p>
<pre>
Json&nbsp;jsonObj&nbsp;=&nbsp;new&nbsp;Json();

System.out.println(&quot;Convert&nbsp;Java&nbsp;object&nbsp;to&nbsp;JSON&nbsp;format&nbsp;and&nbsp;save&nbsp;to&nbsp;file&quot;);

try&nbsp;(JsonWriter&nbsp;writer&nbsp;=&nbsp;new&nbsp;JsonWriter(new&nbsp;FileOutputStream(&quot;c:\\json-io.json&quot;))){

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(jsonObj);

}&nbsp;catch&nbsp;(IOException&nbsp;e)&nbsp;{

}</pre>
<p>JSON转Java对象</p>
<pre>
System.out.println(&quot;Read&nbsp;JSON&nbsp;from&nbsp;file,&nbsp;convert&nbsp;JSON&nbsp;string&nbsp;back&nbsp;to&nbsp;object&quot;);

try&nbsp;(JsonReader&nbsp;reader&nbsp;=&nbsp;new&nbsp;JsonReader(new&nbsp;FileInputStream(new&nbsp;File(&quot;c:\\json-io.json&quot;))))&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonObj&nbsp;=&nbsp;(Json)&nbsp;reader.readObject();

}&nbsp;catch&nbsp;(FileNotFoundException&nbsp;e)&nbsp;{

}&nbsp;catch&nbsp;(IOException&nbsp;e)&nbsp;{

}</pre>
<p>它的文档上说，Json-io比JDK的ObjectInputStream&nbsp;和ObjectOutputStream的序列化操作要快，我们将会在后面的文章中说明。</p>
<p><strong>（6）使用Genson类库</strong></p>
<p>Genson是一个可扩展的，可伸缩的，易于使用的开源库。除此之外，Genson完整支持了泛型，支持JSON在JAX-RS的实现，支持JAXB的注释（annotation）和类型（types），并且允许序列化和反序列化拥有复杂关键字的map。</p>
<p>例子：Java对象转JSON</p>
<pre>
Json&nbsp;jsonObj&nbsp;=&nbsp;new&nbsp;Json();

Genson&nbsp;genson&nbsp;=&nbsp;new&nbsp;Genson();

System.out.println(&quot;Convert&nbsp;Java&nbsp;object&nbsp;to&nbsp;JSON&nbsp;format&nbsp;and&nbsp;save&nbsp;to&nbsp;file&quot;);

try&nbsp;(FileWriter&nbsp;writer&nbsp;=&nbsp;new&nbsp;FileWriter(&quot;c:\\genson.json&quot;))&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(genson.serialize(jsonObj));

}&nbsp;catch&nbsp;(IOException&nbsp;|&nbsp;TransformationException&nbsp;e)&nbsp;{

}</pre>
<p>JSON转Java对象</p>
<pre>
System.out.println(&quot;Read&nbsp;JSON&nbsp;from&nbsp;file,&nbsp;convert&nbsp;JSON&nbsp;string&nbsp;back&nbsp;to&nbsp;object&quot;);

try&nbsp;(BufferedReader&nbsp;reader&nbsp;=&nbsp;new&nbsp;BufferedReader(new&nbsp;FileReader(&quot;c:\\genson.json&quot;)))&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsonObj&nbsp;=&nbsp;genson.deserialize(reader,&nbsp;Json.class);

}&nbsp;catch&nbsp;(FileNotFoundException&nbsp;e)&nbsp;{

}&nbsp;catch&nbsp;(IOException&nbsp;|&nbsp;TransformationException&nbsp;e)&nbsp;{

}</pre>
<p><strong>（7）使用JSONiJ类库</strong></p>
<p>最后一个讨论的是JSONiJ。JSONiJ是JSON的解析器，一个JPath和Marshaller的实现，能实现Java对象和JSON的相互转换。</p>
<p>例子：Java对象转JSON</p>
<pre>
Json&nbsp;jsonObj&nbsp;=&nbsp;new&nbsp;Json();

System.out.println(&quot;Convert&nbsp;Java&nbsp;object&nbsp;to&nbsp;JSON&nbsp;format&nbsp;and&nbsp;save&nbsp;to&nbsp;file&quot;);

try&nbsp;(FileWriter&nbsp;writer&nbsp;=&nbsp;new&nbsp;FileWriter(&quot;c:\\jsonij.json&quot;))&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writer.write(JSONMarshaler.marshalObject(jsonObj).toJSON());

}&nbsp;catch&nbsp;(IOException&nbsp;|&nbsp;JSONMarshalerException&nbsp;e)&nbsp;{

}</pre>
<p>JSON转Java&nbsp;对象</p>
<pre>
System.out.println(&quot;Read&nbsp;JSON&nbsp;from&nbsp;file,&nbsp;convert&nbsp;JSON&nbsp;string&nbsp;back&nbsp;to&nbsp;object&quot;);

try&nbsp;(BufferedReader&nbsp;reader&nbsp;=&nbsp;new&nbsp;BufferedReader(new&nbsp;FileReader(&quot;c:\\jsonij.json&quot;)))&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JSON&nbsp;json&nbsp;=&nbsp;JSON.parse(reader);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Now&nbsp;we&nbsp;need&nbsp;to&nbsp;parse&nbsp;the&nbsp;JSONObject&nbsp;object&nbsp;and&nbsp;put&nbsp;values&nbsp;back&nbsp;

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;to&nbsp;our&nbsp;Json&nbsp;object

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;(Field&nbsp;field&nbsp;:&nbsp;jsonObj.getClass().getDeclaredFields())&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field.setAccessible(true);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field.set(field.getName(),&nbsp;json.get(field.getName()));

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;catch&nbsp;(IllegalArgumentException&nbsp;|&nbsp;IllegalAccessException&nbsp;e)&nbsp;{

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}

}&nbsp;catch&nbsp;(FileNotFoundException&nbsp;e)&nbsp;{

}&nbsp;catch&nbsp;(IOException&nbsp;|&nbsp;ParserException&nbsp;e)&nbsp;{

}</pre>
<p>看起来JSONiJ需要的代码多些，性能怎么样，我们看下面。</p>
<p><strong>&nbsp;（二）基准测试</strong></p>
<p>现在我们要来看看性能了，测试硬件配置：Intel&nbsp;Core&nbsp;i5&nbsp;laptop&nbsp;with&nbsp;2.50GHz&nbsp;单通道DDR3&nbsp;RAM&nbsp;4G，软件配置：Windows&nbsp;7&nbsp;Ultimate&nbsp;64-bit&nbsp;SP1</p>
<p>基准测试运行一样的虚拟机（JVM），在测试之前，每一个类库都有一个热身，去限制内存使用的造成的影响，用一个显式调用垃圾收集器。下面的图表代表的是序列化和反序列化JSON数据以毫秒级使用50次迭代和10次热身（warm-up）迭代的平均的时间。</p>
<p>（译者注：红色为序列化（Java对象转JSON），蓝色为反序列化（JSON转Java对象））</p>
<p><img src="/d/file/p/2022/06-28/0899b87f9a5572f38ec8ef18b89d6e75.png" /></p>
<p>上面的图表显示，Flexjson序列化小数据时是最快的，而JSON-lib是最慢的。反序列化的时候，Gson最快，JSON-lib还是最慢的。</p>
<p>&nbsp;下面的图表代表的是我们的数据在287kb时，序列化和反序列化所花费的平均时间。</p>
<p><img src="/d/file/p/2022/06-28/66e670231d006ded1ee6e62aa7b8ecb2.png" /></p>
<p>这张图显示，我们对少量的数据操作时，最快的是Gson&nbsp;,之后的是&nbsp;Genson和Flexjson。</p>
<p>&nbsp;当变成大数据时，结果变得很不一样。在下面的图表中，使用的是108Mb的数据，在序列化的时候，Jackson变成了最快的，Flexjson变成第二快。在反序列化的时候，JSON-lib变成了最快的，之前在处理小数据时，它是最慢的，第二快的是Jackson。</p>
<p><img src="/d/file/p/2022/06-28/5887fd70f41714180fbea2275e3225d6.png" /></p>
<p>&nbsp;下面的图表，显示的是处理更大一点的数据时，我们应该使用Jackson和JSON-lib。</p>
<p><img src="/d/file/p/2022/06-28/b693525ecd0a46202ad7575e2404b45e.png" /></p>
<p>另外一个重要的测试是关于.jar包的大小。这对于移动端的开发很重要，我们从下图中看到，json-io最小，之后依次是Flexjson和JSONiJ:</p>
<p><img src="/d/file/p/2022/06-28/97c4edec96a5ef0926e82d3c654a33a6.png" /></p>
<p><strong>（三）结论</strong></p>
<p>在这篇文章中，我们知道了七种方式来实现Java对象和JSON之间的互相转换。以及哪一个类库更快，哪一个更慢，在什么情况下使用等。作为结论，如果你在你的应用中是想使用小一点的数据量，你应该使用Flexjson或者Gson，如果你需要大的数据量你应该考虑Jackson&nbsp;和JSON-lib。</p>
<div class="c" id="weste_pagead_4"><script type="text/javascript">BAIDU_CLB_fillSlot("160927");</script></div></span>                                     
		    	</div>
		    	<div class="panel-title"><i class="fa fa fa-file-text fa-fw"></i>代码注释</div>
			    <div class="panel-content">
			    <span>[!--zhushi--]</span>                                     
		    	</div>

			</div>

			<!-- END ROW -->
			<div class="newsPage">
				<div class="newsPageTurn">
				    <span><a>上一篇</a><a href='/java/biji/61.html'>Java中堆内存和栈内存详解</a><a>下一篇</a><a href='/java/biji/63.html'>《Google的Java编码规范》(Google Java Style)在线地址_JAVA_西部e网</a></span>
				</div>
			</div>
		</div>


<div id="author-box">
    <h3>作者：喵哥笔记</h3>
        <div class="author-info">
            <div class="author-avatar">
                <img src="/skin1/picture/01.jpg" alt="IDC笔记" class="avatar" width="64" height="64">
            </div>
        <div class="author-description">
            <p>学的不仅是技术，更是梦想！</p>
            <ul class="author-social follows nb">
            	<li>
                    <a target="_blank" href="/" title="IDC笔记">IDC笔记</a>
                </li>
            </ul>
        </div>
        <div class="clear"></div>
    </div>
</div>

<!-- container-fluid -->
	</div>
<!-- content -->
	<footer class="footer">
	© 2020 IDC笔记 <i class="mdi mdi-heart text-danger"></i>. | 备案号：<a href="https://beian.miit.gov.cn/">辽ICP备18000516号</a>
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?674585fbbd2294d3faf910f668ea91b4";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>

	</footer>
</div>

</div>
<!-- END wrapper -->
<!-- jQuery  -->
<script src="/skin1/js/jquery.min.js"></script>
<script src="/skin1/js/bootstrap.bundle.min.js"></script>
<script src="/skin1/js/metismenu.min.js"></script>
<script src="/skin1/js/jquery.slimscroll.js"></script>
<script src="/skin1/js/waves.min.js"></script>
<!--Morris Chart-->
<script src="/skin1/js/morris.min.js"></script>
<script src="/skin1/js/raphael.min.js"></script>
<script src="/skin1/js/dashboard.init.js"></script>
<script src="/skin1/js/app.js"></script>
<script src="/foot.js"></script>
</body>
</html>